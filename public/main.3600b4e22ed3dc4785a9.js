(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{"+0iv":function(t,e,n){"use strict";var i=n("qDJ8");function r(t){return!0===i(t)&&"[object Object]"===Object.prototype.toString.call(t)}t.exports=function(t){var e,n;return!1!==r(t)&&"function"==typeof(e=t.constructor)&&!1!==r(n=e.prototype)&&!1!==n.hasOwnProperty("isPrototypeOf")}},0:function(t,e,n){t.exports=n("zUnb")},7104:function(t,e){var n=Object.prototype.toString;function i(t){return"function"==typeof t.constructor?t.constructor.name:null}t.exports=function(t){if(void 0===t)return"undefined";if(null===t)return"null";var e=typeof t;if("boolean"===e)return"boolean";if("string"===e)return"string";if("number"===e)return"number";if("symbol"===e)return"symbol";if("function"===e)return"GeneratorFunction"===i(t)?"generatorfunction":"function";if(function(t){return Array.isArray?Array.isArray(t):t instanceof Array}(t))return"array";if(function(t){return!(!t.constructor||"function"!=typeof t.constructor.isBuffer)&&t.constructor.isBuffer(t)}(t))return"buffer";if(function(t){try{if("number"==typeof t.length&&"function"==typeof t.callee)return!0}catch(e){if(-1!==e.message.indexOf("callee"))return!0}return!1}(t))return"arguments";if(function(t){return t instanceof Date||"function"==typeof t.toDateString&&"function"==typeof t.getDate&&"function"==typeof t.setDate}(t))return"date";if(function(t){return t instanceof Error||"string"==typeof t.message&&t.constructor&&"number"==typeof t.constructor.stackTraceLimit}(t))return"error";if(function(t){return t instanceof RegExp||"string"==typeof t.flags&&"boolean"==typeof t.ignoreCase&&"boolean"==typeof t.multiline&&"boolean"==typeof t.global}(t))return"regexp";switch(i(t)){case"Symbol":return"symbol";case"Promise":return"promise";case"WeakMap":return"weakmap";case"WeakSet":return"weakset";case"Map":return"map";case"Set":return"set";case"Int8Array":return"int8array";case"Uint8Array":return"uint8array";case"Uint8ClampedArray":return"uint8clampedarray";case"Int16Array":return"int16array";case"Uint16Array":return"uint16array";case"Int32Array":return"int32array";case"Uint32Array":return"uint32array";case"Float32Array":return"float32array";case"Float64Array":return"float64array"}if(function(t){return"function"==typeof t.throw&&"function"==typeof t.return&&"function"==typeof t.next}(t))return"generator";switch(e=n.call(t)){case"[object Object]":return"object";case"[object Map Iterator]":return"mapiterator";case"[object Set Iterator]":return"setiterator";case"[object String Iterator]":return"stringiterator";case"[object Array Iterator]":return"arrayiterator"}return e.slice(8,-1).toLowerCase().replace(/\s/g,"")}},UvZa:function(t,e,n){"use strict";const i=Symbol.prototype.valueOf,r=n("7104");t.exports=function(t,e){switch(r(t)){case"array":return t.slice();case"object":return Object.assign({},t);case"date":return new t.constructor(Number(t));case"map":return new Map(t);case"set":return new Set(t);case"buffer":return function(t){const e=t.length,n=Buffer.allocUnsafe?Buffer.allocUnsafe(e):Buffer.from(e);return t.copy(n),n}(t);case"symbol":return function(t){return i?Object(i.call(t)):{}}(t);case"arraybuffer":return function(t){const e=new t.constructor(t.byteLength);return new Uint8Array(e).set(new Uint8Array(t)),e}(t);case"float32array":case"float64array":case"int16array":case"int32array":case"int8array":case"uint16array":case"uint32array":case"uint8clampedarray":case"uint8array":return function(t,e){return new t.constructor(t.buffer,t.byteOffset,t.length)}(t);case"regexp":return function(t){const e=void 0!==t.flags?t.flags:/\w+$/.exec(t)||void 0,n=new t.constructor(t.source,e);return n.lastIndex=t.lastIndex,n}(t);case"error":return Object.create(t);default:return t}}},lnXG:function(t,e,n){"use strict";const i=n("UvZa"),r=n("7104"),o=n("+0iv");t.exports=function t(e,n){switch(r(e)){case"object":return function(e,n){if("function"==typeof n)return n(e);if(n||o(e)){const i=new e.constructor;for(let r in e)i[r]=t(e[r],n);return i}return e}(e,n);case"array":return function(e,n){const i=new e.constructor(e.length);for(let r=0;r<e.length;r++)i[r]=t(e[r],n);return i}(e,n);default:return i(e)}}},qDJ8:function(t,e,n){"use strict";t.exports=function(t){return null!=t&&"object"==typeof t&&!1===Array.isArray(t)}},zUnb:function(t,e,n){"use strict";function i(t){return"function"==typeof t}n.r(e);let r=!1;const o={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){const t=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+t.stack)}else r&&console.log("RxJS: Back to a better error behavior. Thank you. <3");r=t},get useDeprecatedSynchronousErrorHandling(){return r}};function s(t){setTimeout(()=>{throw t},0)}const a={closed:!0,next(t){},error(t){if(o.useDeprecatedSynchronousErrorHandling)throw t;s(t)},complete(){}},l=(()=>Array.isArray||(t=>t&&"number"==typeof t.length))();function u(t){return null!==t&&"object"==typeof t}const c=(()=>{function t(t){return Error.call(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((t,e)=>`${e+1}) ${t.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t})();let h=(()=>{class t{constructor(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._ctorUnsubscribe=!0,this._unsubscribe=t)}unsubscribe(){let e;if(this.closed)return;let{_parentOrParents:n,_ctorUnsubscribe:r,_unsubscribe:o,_subscriptions:s}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof t)n.remove(this);else if(null!==n)for(let t=0;t<n.length;++t)n[t].remove(this);if(i(o)){r&&(this._unsubscribe=void 0);try{o.call(this)}catch(a){e=a instanceof c?d(a.errors):[a]}}if(l(s)){let t=-1,n=s.length;for(;++t<n;){const n=s[t];if(u(n))try{n.unsubscribe()}catch(a){e=e||[],a instanceof c?e=e.concat(d(a.errors)):e.push(a)}}}if(e)throw new c(e)}add(e){let n=e;if(!e)return t.EMPTY;switch(typeof e){case"function":n=new t(e);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof t)){const e=n;n=new t,n._subscriptions=[e]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}let{_parentOrParents:i}=n;if(null===i)n._parentOrParents=this;else if(i instanceof t){if(i===this)return n;n._parentOrParents=[i,this]}else{if(-1!==i.indexOf(this))return n;i.push(this)}const r=this._subscriptions;return null===r?this._subscriptions=[n]:r.push(n),n}remove(t){const e=this._subscriptions;if(e){const n=e.indexOf(t);-1!==n&&e.splice(n,1)}}}return t.EMPTY=function(t){return t.closed=!0,t}(new t),t})();function d(t){return t.reduce((t,e)=>t.concat(e instanceof c?e.errors:e),[])}const p=(()=>"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random())();class f extends h{constructor(t,e,n){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=a;break;case 1:if(!t){this.destination=a;break}if("object"==typeof t){t instanceof f?(this.syncErrorThrowable=t.syncErrorThrowable,this.destination=t,t.add(this)):(this.syncErrorThrowable=!0,this.destination=new m(this,t));break}default:this.syncErrorThrowable=!0,this.destination=new m(this,t,e,n)}}[p](){return this}static create(t,e,n){const i=new f(t,e,n);return i.syncErrorThrowable=!1,i}next(t){this.isStopped||this._next(t)}error(t){this.isStopped||(this.isStopped=!0,this._error(t))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(t){this.destination.next(t)}_error(t){this.destination.error(t),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:t}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this}}class m extends f{constructor(t,e,n,r){let o;super(),this._parentSubscriber=t;let s=this;i(e)?o=e:e&&(o=e.next,n=e.error,r=e.complete,e!==a&&(s=Object.create(e),i(s.unsubscribe)&&this.add(s.unsubscribe.bind(s)),s.unsubscribe=this.unsubscribe.bind(this))),this._context=s,this._next=o,this._error=n,this._complete=r}next(t){if(!this.isStopped&&this._next){const{_parentSubscriber:e}=this;o.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}}error(t){if(!this.isStopped){const{_parentSubscriber:e}=this,{useDeprecatedSynchronousErrorHandling:n}=o;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):s(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;s(t)}}}complete(){if(!this.isStopped){const{_parentSubscriber:t}=this;if(this._complete){const e=()=>this._complete.call(this._context);o.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,e),this.unsubscribe()):(this.__tryOrUnsub(e),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(t,e){try{t.call(this._context,e)}catch(n){if(this.unsubscribe(),o.useDeprecatedSynchronousErrorHandling)throw n;s(n)}}__tryOrSetError(t,e,n){if(!o.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(i){return o.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=i,t.syncErrorThrown=!0,!0):(s(i),!0)}return!1}_unsubscribe(){const{_parentSubscriber:t}=this;this._context=null,this._parentSubscriber=null,t.unsubscribe()}}const g=(()=>"function"==typeof Symbol&&Symbol.observable||"@@observable")();function v(t){return t}let y=(()=>{class t{constructor(t){this._isScalar=!1,t&&(this._subscribe=t)}lift(e){const n=new t;return n.source=this,n.operator=e,n}subscribe(t,e,n){const{operator:i}=this,r=function(t,e,n){if(t){if(t instanceof f)return t;if(t[p])return t[p]()}return t||e||n?new f(t,e,n):new f(a)}(t,e,n);if(r.add(i?i.call(r,this.source):this.source||o.useDeprecatedSynchronousErrorHandling&&!r.syncErrorThrowable?this._subscribe(r):this._trySubscribe(r)),o.useDeprecatedSynchronousErrorHandling&&r.syncErrorThrowable&&(r.syncErrorThrowable=!1,r.syncErrorThrown))throw r.syncErrorValue;return r}_trySubscribe(t){try{return this._subscribe(t)}catch(e){o.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),function(t){for(;t;){const{closed:e,destination:n,isStopped:i}=t;if(e||i)return!1;t=n&&n instanceof f?n:null}return!0}(t)?t.error(e):console.warn(e)}}forEach(t,e){return new(e=w(e))((e,n)=>{let i;i=this.subscribe(e=>{try{t(e)}catch(r){n(r),i&&i.unsubscribe()}},n,e)})}_subscribe(t){const{source:e}=this;return e&&e.subscribe(t)}[g](){return this}pipe(...t){return 0===t.length?this:(0===(e=t).length?v:1===e.length?e[0]:function(t){return e.reduce((t,e)=>e(t),t)})(this);var e}toPromise(t){return new(t=w(t))((t,e)=>{let n;this.subscribe(t=>n=t,t=>e(t),()=>t(n))})}}return t.create=e=>new t(e),t})();function w(t){if(t||(t=o.Promise||Promise),!t)throw new Error("no Promise impl found");return t}const b=(()=>{function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t})();class _ extends h{constructor(t,e){super(),this.subject=t,this.subscriber=e,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const t=this.subject,e=t.observers;if(this.subject=null,!e||0===e.length||t.isStopped||t.closed)return;const n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}class x extends f{constructor(t){super(t),this.destination=t}}let C=(()=>{class t extends y{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[p](){return new x(this)}lift(t){const e=new I(this,this);return e.operator=t,e}next(t){if(this.closed)throw new b;if(!this.isStopped){const{observers:e}=this,n=e.length,i=e.slice();for(let r=0;r<n;r++)i[r].next(t)}}error(t){if(this.closed)throw new b;this.hasError=!0,this.thrownError=t,this.isStopped=!0;const{observers:e}=this,n=e.length,i=e.slice();for(let r=0;r<n;r++)i[r].error(t);this.observers.length=0}complete(){if(this.closed)throw new b;this.isStopped=!0;const{observers:t}=this,e=t.length,n=t.slice();for(let i=0;i<e;i++)n[i].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(t){if(this.closed)throw new b;return super._trySubscribe(t)}_subscribe(t){if(this.closed)throw new b;return this.hasError?(t.error(this.thrownError),h.EMPTY):this.isStopped?(t.complete(),h.EMPTY):(this.observers.push(t),new _(this,t))}asObservable(){const t=new y;return t.source=this,t}}return t.create=(t,e)=>new I(t,e),t})();class I extends C{constructor(t,e){super(),this.destination=t,this.source=e}next(t){const{destination:e}=this;e&&e.next&&e.next(t)}error(t){const{destination:e}=this;e&&e.error&&this.destination.error(t)}complete(){const{destination:t}=this;t&&t.complete&&this.destination.complete()}_subscribe(t){const{source:e}=this;return e?this.source.subscribe(t):h.EMPTY}}function S(t){return t&&"function"==typeof t.schedule}function k(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new T(t,e))}}class T{constructor(t,e){this.project=t,this.thisArg=e}call(t,e){return e.subscribe(new A(t,this.project,this.thisArg))}}class A extends f{constructor(t,e,n){super(t),this.project=e,this.count=0,this.thisArg=n||this}_next(t){let e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}const E=t=>e=>{for(let n=0,i=t.length;n<i&&!e.closed;n++)e.next(t[n]);e.complete()};function O(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}const P=O(),M=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function D(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}const F=t=>{if(t&&"function"==typeof t[g])return i=t,t=>{const e=i[g]();if("function"!=typeof e.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return e.subscribe(t)};if(M(t))return E(t);if(D(t))return n=t,t=>(n.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,s),t);if(t&&"function"==typeof t[P])return e=t,t=>{const n=e[P]();for(;;){let e;try{e=n.next()}catch(i){return t.error(i),t}if(e.done){t.complete();break}if(t.next(e.value),t.closed)break}return"function"==typeof n.return&&t.add(()=>{n.return&&n.return()}),t};{const e=u(t)?"an invalid object":`'${t}'`;throw new TypeError(`You provided ${e} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`)}var e,n,i};function R(t,e){return new y(n=>{const i=new h;let r=0;return i.add(e.schedule(function(){r!==t.length?(n.next(t[r++]),n.closed||i.add(this.schedule())):n.complete()})),i})}function N(t,e){return e?function(t,e){if(null!=t){if(function(t){return t&&"function"==typeof t[g]}(t))return function(t,e){return new y(n=>{const i=new h;return i.add(e.schedule(()=>{const r=t[g]();i.add(r.subscribe({next(t){i.add(e.schedule(()=>n.next(t)))},error(t){i.add(e.schedule(()=>n.error(t)))},complete(){i.add(e.schedule(()=>n.complete()))}}))})),i})}(t,e);if(D(t))return function(t,e){return new y(n=>{const i=new h;return i.add(e.schedule(()=>t.then(t=>{i.add(e.schedule(()=>{n.next(t),i.add(e.schedule(()=>n.complete()))}))},t=>{i.add(e.schedule(()=>n.error(t)))}))),i})}(t,e);if(M(t))return R(t,e);if(function(t){return t&&"function"==typeof t[P]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new y(n=>{const i=new h;let r;return i.add(()=>{r&&"function"==typeof r.return&&r.return()}),i.add(e.schedule(()=>{r=t[P](),i.add(e.schedule(function(){if(n.closed)return;let t,e;try{const n=r.next();t=n.value,e=n.done}catch(i){return void n.error(i)}e?n.complete():(n.next(t),this.schedule())}))})),i})}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}(t,e):t instanceof y?t:new y(F(t))}class j extends f{constructor(t){super(),this.parent=t}_next(t){this.parent.notifyNext(t)}_error(t){this.parent.notifyError(t),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class U extends f{notifyNext(t){this.destination.next(t)}notifyError(t){this.destination.error(t)}notifyComplete(){this.destination.complete()}}function H(t,e){if(e.closed)return;if(t instanceof y)return t.subscribe(e);let n;try{n=F(t)(e)}catch(i){e.error(i)}return n}function L(t,e,n=Number.POSITIVE_INFINITY){return"function"==typeof e?i=>i.pipe(L((n,i)=>N(t(n,i)).pipe(k((t,r)=>e(n,t,i,r))),n)):("number"==typeof e&&(n=e),e=>e.lift(new z(t,n)))}class z{constructor(t,e=Number.POSITIVE_INFINITY){this.project=t,this.concurrent=e}call(t,e){return e.subscribe(new G(t,this.project,this.concurrent))}}class G extends U{constructor(t,e,n=Number.POSITIVE_INFINITY){super(t),this.project=e,this.concurrent=n,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)}_tryNext(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(i){return void this.destination.error(i)}this.active++,this._innerSub(e)}_innerSub(t){const e=new j(this),n=this.destination;n.add(e);const i=H(t,e);i!==e&&n.add(i)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(t){this.destination.next(t)}notifyComplete(){const t=this.buffer;this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}function V(t=Number.POSITIVE_INFINITY){return L(v,t)}function W(t,e){return e?R(t,e):new y(E(t))}function $(){return function(t){return t.lift(new B(t))}}class B{constructor(t){this.connectable=t}call(t,e){const{connectable:n}=this;n._refCount++;const i=new q(t,n),r=e.subscribe(i);return i.closed||(i.connection=n.connect()),r}}class q extends f{constructor(t,e){super(t),this.connectable=e}_unsubscribe(){const{connectable:t}=this;if(!t)return void(this.connection=null);this.connectable=null;const e=t._refCount;if(e<=0)return void(this.connection=null);if(t._refCount=e-1,e>1)return void(this.connection=null);const{connection:n}=this,i=t._connection;this.connection=null,!i||n&&i!==n||i.unsubscribe()}}class Q extends y{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._refCount=0,this._isComplete=!1}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject}connect(){let t=this._connection;return t||(this._isComplete=!1,t=this._connection=new h,t.add(this.source.subscribe(new Y(this.getSubject(),this))),t.closed&&(this._connection=null,t=h.EMPTY)),t}refCount(){return $()(this)}}const Z=(()=>{const t=Q.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:t._subscribe},_isComplete:{value:t._isComplete,writable:!0},getSubject:{value:t.getSubject},connect:{value:t.connect},refCount:{value:t.refCount}}})();class Y extends x{constructor(t,e){super(t),this.connectable=e}_error(t){this._unsubscribe(),super._error(t)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const t=this.connectable;if(t){this.connectable=null;const e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}}}function X(){return new C}function J(t){for(let e in t)if(t[e]===J)return e;throw Error("Could not find renamed property on target object.")}function K(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function tt(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(tt).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function et(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const nt=J({__forward_ref__:J});function it(t){return t.__forward_ref__=it,t.toString=function(){return tt(this())},t}function rt(t){return ot(t)?t():t}function ot(t){return"function"==typeof t&&t.hasOwnProperty(nt)&&t.__forward_ref__===it}class st extends Error{constructor(t,e){super(function(t,e){return`${t?`NG0${t}: `:""}${e}`}(t,e)),this.code=t}}function at(t){return"string"==typeof t?t:null==t?"":String(t)}function lt(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():at(t)}function ut(t,e){const n=e?` in ${e}`:"";throw new st("201",`No provider for ${lt(t)} found${n}`)}function ct(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function ht(t){return{providers:t.providers||[],imports:t.imports||[]}}function dt(t){return pt(t,mt)||pt(t,vt)}function pt(t,e){return t.hasOwnProperty(e)?t[e]:null}function ft(t){return t&&(t.hasOwnProperty(gt)||t.hasOwnProperty(yt))?t[gt]:null}const mt=J({"\u0275prov":J}),gt=J({"\u0275inj":J}),vt=J({ngInjectableDef:J}),yt=J({ngInjectorDef:J});var wt=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}({});let bt;function _t(t){const e=bt;return bt=t,e}function xt(t,e,n){const i=dt(t);return i&&"root"==i.providedIn?void 0===i.value?i.value=i.factory():i.value:n&wt.Optional?null:void 0!==e?e:void ut(tt(t),"Injector")}function Ct(t){return{toString:t}.toString()}var It=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}({}),St=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}({});const kt="undefined"!=typeof globalThis&&globalThis,Tt="undefined"!=typeof window&&window,At="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Et="undefined"!=typeof global&&global,Ot=kt||Et||Tt||At,Pt={},Mt=[],Dt=[],Ft=J({"\u0275cmp":J}),Rt=J({"\u0275dir":J}),Nt=J({"\u0275pipe":J}),jt=J({"\u0275mod":J}),Ut=J({"\u0275loc":J}),Ht=J({"\u0275fac":J}),Lt=J({__NG_ELEMENT_ID__:J});let zt=0;function Gt(t){return Ct(()=>{const e={},n={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===It.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||Dt,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||St.Emulated,id:"c",styles:t.styles||Dt,_:null,setInput:null,schemas:t.schemas||null,tView:null},i=t.directives,r=t.features,o=t.pipes;return n.id+=zt++,n.inputs=qt(t.inputs,e),n.outputs=qt(t.outputs),r&&r.forEach(t=>t(n)),n.directiveDefs=i?()=>("function"==typeof i?i():i).map(Vt):null,n.pipeDefs=o?()=>("function"==typeof o?o():o).map(Wt):null,n})}function Vt(t){return Zt(t)||function(t){return t[Rt]||null}(t)}function Wt(t){return function(t){return t[Nt]||null}(t)}const $t={};function Bt(t){const e={type:t.type,bootstrap:t.bootstrap||Dt,declarations:t.declarations||Dt,imports:t.imports||Dt,exports:t.exports||Dt,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&Ct(()=>{$t[t.id]=t.type}),e}function qt(t,e){if(null==t)return Pt;const n={};for(const i in t)if(t.hasOwnProperty(i)){let r=t[i],o=r;Array.isArray(r)&&(o=r[1],r=r[0]),n[r]=i,e&&(e[r]=o)}return n}const Qt=Gt;function Zt(t){return t[Ft]||null}function Yt(t,e){const n=t[jt]||null;if(!n&&!0===e)throw new Error(`Type ${tt(t)} does not have '\u0275mod' property.`);return n}const Xt=20,Jt=10;function Kt(t){return Array.isArray(t)&&"object"==typeof t[1]}function te(t){return Array.isArray(t)&&!0===t[1]}function ee(t){return 0!=(8&t.flags)}function ne(t){return 2==(2&t.flags)}function ie(t){return 1==(1&t.flags)}function re(t){return null!==t.template}function oe(t,e){return t.hasOwnProperty(Ht)?t[Ht]:null}class se{constructor(t,e,n){this.previousValue=t,this.currentValue=e,this.firstChange=n}isFirstChange(){return this.firstChange}}function ae(){return le}function le(t){return t.type.prototype.ngOnChanges&&(t.setInput=ce),ue}function ue(){const t=he(this),e=null==t?void 0:t.current;if(e){const n=t.previous;if(n===Pt)t.previous=e;else for(let t in e)n[t]=e[t];t.current=null,this.ngOnChanges(e)}}function ce(t,e,n,i){const r=he(t)||function(t,e){return t.__ngSimpleChanges__=e}(t,{previous:Pt,current:null}),o=r.current||(r.current={}),s=r.previous,a=this.declaredInputs[n],l=s[a];o[a]=new se(l&&l.currentValue,e,s===Pt),t[i]=e}function he(t){return t.__ngSimpleChanges__||null}ae.ngInherit=!0;const de="http://www.w3.org/2000/svg";let pe;function fe(t){return!!t.listen}const me={createRenderer:(t,e)=>void 0!==pe?pe:"undefined"!=typeof document?document:void 0};function ge(t){for(;Array.isArray(t);)t=t[0];return t}function ve(t,e){return ge(e[t])}function ye(t,e){return ge(e[t.index])}function we(t,e){return t.data[e]}function be(t,e){return t[e]}function _e(t,e){const n=e[t];return Kt(n)?n:n[0]}function xe(t){const e=function(t){return t.__ngContext__||null}(t);return e?Array.isArray(e)?e:e.lView:null}function Ce(t){return 128==(128&t[2])}function Ie(t,e){return null==e?null:t[e]}function Se(t){t[18]=0}function ke(t,e){t[5]+=e;let n=t,i=t[3];for(;null!==i&&(1===e&&1===n[5]||-1===e&&0===n[5]);)i[5]+=e,n=i,i=i[3]}const Te={lFrame:Ze(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Ae(){return Te.bindingsEnabled}function Ee(){return Te.lFrame.lView}function Oe(){return Te.lFrame.tView}function Pe(t){Te.lFrame.contextLView=t}function Me(){let t=De();for(;null!==t&&64===t.type;)t=t.parent;return t}function De(){return Te.lFrame.currentTNode}function Fe(t,e){const n=Te.lFrame;n.currentTNode=t,n.isParent=e}function Re(){return Te.lFrame.isParent}function Ne(){return Te.isInCheckNoChangesMode}function je(t){Te.isInCheckNoChangesMode=t}function Ue(){const t=Te.lFrame;let e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function He(){return Te.lFrame.bindingIndex}function Le(){return Te.lFrame.bindingIndex++}function ze(t){const e=Te.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function Ge(t,e){const n=Te.lFrame;n.bindingIndex=n.bindingRootIndex=t,Ve(e)}function Ve(t){Te.lFrame.currentDirectiveIndex=t}function We(t){Te.lFrame.currentQueryIndex=t}function $e(t){const e=t[1];return 2===e.type?e.declTNode:1===e.type?t[6]:null}function Be(t,e,n){if(n&wt.SkipSelf){let i=e,r=t;for(;i=i.parent,!(null!==i||n&wt.Host||(i=$e(r),null===i)||(r=r[15],10&i.type)););if(null===i)return!1;e=i,t=r}const i=Te.lFrame=Qe();return i.currentTNode=e,i.lView=t,!0}function qe(t){const e=Qe(),n=t[1];Te.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function Qe(){const t=Te.lFrame,e=null===t?null:t.child;return null===e?Ze(t):e}function Ze(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function Ye(){const t=Te.lFrame;return Te.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const Xe=Ye;function Je(){const t=Ye();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Ke(){return Te.lFrame.selectedIndex}function tn(t){Te.lFrame.selectedIndex=t}function en(){const t=Te.lFrame;return we(t.tView,t.selectedIndex)}function nn(){Te.lFrame.currentNamespace=de}function rn(){Te.lFrame.currentNamespace=null}function on(t,e){for(let n=e.directiveStart,i=e.directiveEnd;n<i;n++){const e=t.data[n].type.prototype,{ngAfterContentInit:i,ngAfterContentChecked:r,ngAfterViewInit:o,ngAfterViewChecked:s,ngOnDestroy:a}=e;i&&(t.contentHooks||(t.contentHooks=[])).push(-n,i),r&&((t.contentHooks||(t.contentHooks=[])).push(n,r),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(n,r)),o&&(t.viewHooks||(t.viewHooks=[])).push(-n,o),s&&((t.viewHooks||(t.viewHooks=[])).push(n,s),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(n,s)),null!=a&&(t.destroyHooks||(t.destroyHooks=[])).push(n,a)}}function sn(t,e,n){un(t,e,3,n)}function an(t,e,n,i){(3&t[2])===n&&un(t,e,n,i)}function ln(t,e){let n=t[2];(3&n)===e&&(n&=2047,n+=1,t[2]=n)}function un(t,e,n,i){const r=null!=i?i:-1,o=e.length-1;let s=0;for(let a=void 0!==i?65535&t[18]:0;a<o;a++)if("number"==typeof e[a+1]){if(s=e[a],null!=i&&s>=i)break}else e[a]<0&&(t[18]+=65536),(s<r||-1==r)&&(cn(t,n,e,a),t[18]=(4294901760&t[18])+a+2),a++}function cn(t,e,n,i){const r=n[i]<0,o=n[i+1],s=t[r?-n[i]:n[i]];if(r){if(t[2]>>11<t[18]>>16&&(3&t[2])===e){t[2]+=2048;try{o.call(s)}finally{}}}else try{o.call(s)}finally{}}const hn=-1;class dn{constructor(t,e,n){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=n}}function pn(t,e,n){const i=fe(t);let r=0;for(;r<n.length;){const o=n[r];if("number"==typeof o){if(0!==o)break;r++;const s=n[r++],a=n[r++],l=n[r++];i?t.setAttribute(e,a,l,s):e.setAttributeNS(s,a,l)}else{const s=o,a=n[++r];mn(s)?i&&t.setProperty(e,s,a):i?t.setAttribute(e,s,a):e.setAttribute(s,a),r++}}return r}function fn(t){return 3===t||4===t||6===t}function mn(t){return 64===t.charCodeAt(0)}function gn(t,e){if(null===e||0===e.length);else if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let i=0;i<e.length;i++){const r=e[i];"number"==typeof r?n=r:0===n||vn(t,n,r,null,-1===n||2===n?e[++i]:null)}}return t}function vn(t,e,n,i,r){let o=0,s=t.length;if(-1===e)s=-1;else for(;o<t.length;){const n=t[o++];if("number"==typeof n){if(n===e){s=-1;break}if(n>e){s=o-1;break}}}for(;o<t.length;){const e=t[o];if("number"==typeof e)break;if(e===n){if(null===i)return void(null!==r&&(t[o+1]=r));if(i===t[o+1])return void(t[o+2]=r)}o++,null!==i&&o++,null!==r&&o++}-1!==s&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),null!==i&&t.splice(o++,0,i),null!==r&&t.splice(o++,0,r)}function yn(t){return t!==hn}function wn(t){return 32767&t}function bn(t,e){let n=t>>16,i=e;for(;n>0;)i=i[15],n--;return i}let _n=!0;function xn(t){const e=_n;return _n=t,e}let Cn=0;function In(t,e){const n=kn(t,e);if(-1!==n)return n;const i=e[1];i.firstCreatePass&&(t.injectorIndex=e.length,Sn(i.data,t),Sn(e,null),Sn(i.blueprint,null));const r=Tn(t,e),o=t.injectorIndex;if(yn(r)){const t=wn(r),n=bn(r,e),i=n[1].data;for(let r=0;r<8;r++)e[o+r]=n[t+r]|i[t+r]}return e[o+8]=r,o}function Sn(t,e){t.push(0,0,0,0,0,0,0,0,e)}function kn(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function Tn(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,i=null,r=e;for(;null!==r;){const t=r[1],e=t.type;if(i=2===e?t.declTNode:1===e?r[6]:null,null===i)return hn;if(n++,r=r[15],-1!==i.injectorIndex)return i.injectorIndex|n<<16}return hn}function An(t,e,n){!function(t,e,n){let i;"string"==typeof n?i=n.charCodeAt(0)||0:n.hasOwnProperty(Lt)&&(i=n[Lt]),null==i&&(i=n[Lt]=Cn++);const r=255&i;e.data[t+(r>>5)]|=1<<r}(t,e,n)}function En(t,e,n){if(n&wt.Optional)return t;ut(e,"NodeInjector")}function On(t,e,n,i){if(n&wt.Optional&&void 0===i&&(i=null),0==(n&(wt.Self|wt.Host))){const r=t[9],o=_t(void 0);try{return r?r.get(e,i,n&wt.Optional):xt(e,i,n&wt.Optional)}finally{_t(o)}}return En(i,e,n)}function Pn(t,e,n,i=wt.Default,r){if(null!==t){const o=function(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(Lt)?t[Lt]:void 0;return"number"==typeof e?e>=0?255&e:Dn:e}(n);if("function"==typeof o){if(!Be(e,t,i))return i&wt.Host?En(r,n,i):On(e,n,i,r);try{const t=o();if(null!=t||i&wt.Optional)return t;ut(n)}finally{Xe()}}else if("number"==typeof o){let r=null,s=kn(t,e),a=hn,l=i&wt.Host?e[16][6]:null;for((-1===s||i&wt.SkipSelf)&&(a=-1===s?Tn(t,e):e[s+8],a!==hn&&jn(i,!1)?(r=e[1],s=wn(a),e=bn(a,e)):s=-1);-1!==s;){const t=e[1];if(Nn(o,s,t.data)){const t=Fn(s,e,n,r,i,l);if(t!==Mn)return t}a=e[s+8],a!==hn&&jn(i,e[1].data[s+8]===l)&&Nn(o,s,e)?(r=t,s=wn(a),e=bn(a,e)):s=-1}}}return On(e,n,i,r)}const Mn={};function Dn(){return new Un(Me(),Ee())}function Fn(t,e,n,i,r,o){const s=e[1],a=s.data[t+8],l=function(t,e,n,i,r){const o=t.providerIndexes,s=e.data,a=1048575&o,l=t.directiveStart,u=o>>20,c=r?a+u:t.directiveEnd;for(let h=i?a:a+u;h<c;h++){const t=s[h];if(h<l&&n===t||h>=l&&t.type===n)return h}if(r){const t=s[l];if(t&&re(t)&&t.type===n)return l}return null}(a,s,n,null==i?ne(a)&&_n:i!=s&&0!=(3&a.type),r&wt.Host&&o===a);return null!==l?Rn(e,s,l,a):Mn}function Rn(t,e,n,i){let r=t[n];const o=e.data;if(r instanceof dn){const s=r;s.resolving&&function(t,e){throw new st("200",`Circular dependency in DI detected for ${t}`)}(lt(o[n]));const a=xn(s.canSeeViewProviders);s.resolving=!0;const l=s.injectImpl?_t(s.injectImpl):null;Be(t,i,wt.Default);try{r=t[n]=s.factory(void 0,o,t,i),e.firstCreatePass&&n>=i.directiveStart&&function(t,e,n){const{ngOnChanges:i,ngOnInit:r,ngDoCheck:o}=e.type.prototype;if(i){const i=le(e);(n.preOrderHooks||(n.preOrderHooks=[])).push(t,i),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,i)}r&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-t,r),o&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,o),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,o))}(n,o[n],e)}finally{null!==l&&_t(l),xn(a),s.resolving=!1,Xe()}}return r}function Nn(t,e,n){return!!(n[e+(t>>5)]&1<<t)}function jn(t,e){return!(t&wt.Self||t&wt.Host&&e)}class Un{constructor(t,e){this._tNode=t,this._lView=e}get(t,e){return Pn(this._tNode,this._lView,t,void 0,e)}}function Hn(t){return Ct(()=>{const e=t.prototype.constructor,n=e[Ht]||Ln(e),i=Object.prototype;let r=Object.getPrototypeOf(t.prototype).constructor;for(;r&&r!==i;){const t=r[Ht]||Ln(r);if(t&&t!==n)return t;r=Object.getPrototypeOf(r)}return t=>new t})}function Ln(t){return ot(t)?()=>{const e=Ln(rt(t));return e&&e()}:oe(t)}const zn="__parameters__";function Gn(t,e,n){return Ct(()=>{const i=function(t){return function(...e){if(t){const n=t(...e);for(const t in n)this[t]=n[t]}}}(e);function r(...t){if(this instanceof r)return i.apply(this,t),this;const e=new r(...t);return n.annotation=e,n;function n(t,n,i){const r=t.hasOwnProperty(zn)?t[zn]:Object.defineProperty(t,zn,{value:[]})[zn];for(;r.length<=i;)r.push(null);return(r[i]=r[i]||[]).push(e),t}}return n&&(r.prototype=Object.create(n.prototype)),r.prototype.ngMetadataName=t,r.annotationCls=r,r})}class Vn{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=ct({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}toString(){return`InjectionToken ${this._desc}`}}const Wn=new Vn("AnalyzeForEntryComponents"),$n=Function;function Bn(t,e){t.forEach(t=>Array.isArray(t)?Bn(t,e):e(t))}function qn(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Qn(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function Zn(t,e,n){let i=Xn(t,e);return i>=0?t[1|i]=n:(i=~i,function(t,e,n,i){let r=t.length;if(r==e)t.push(n,i);else if(1===r)t.push(i,t[0]),t[0]=n;else{for(r--,t.push(t[r-1],t[r]);r>e;)t[r]=t[r-2],r--;t[e]=n,t[e+1]=i}}(t,i,e,n)),i}function Yn(t,e){const n=Xn(t,e);if(n>=0)return t[1|n]}function Xn(t,e){return function(t,e,n){let i=0,r=t.length>>1;for(;r!==i;){const n=i+(r-i>>1),o=t[n<<1];if(e===o)return n<<1;o>e?r=n:i=n+1}return~(r<<1)}(t,e)}const Jn={},Kn=/\n/gm,ti="__source",ei=J({provide:String,useValue:J});let ni;function ii(t){const e=ni;return ni=t,e}function ri(t,e=wt.Default){if(void 0===ni)throw new Error("inject() must be called from an injection context");return null===ni?xt(t,void 0,e):ni.get(t,e&wt.Optional?null:void 0,e)}function oi(t,e=wt.Default){return(bt||ri)(rt(t),e)}function si(t){const e=[];for(let n=0;n<t.length;n++){const i=rt(t[n]);if(Array.isArray(i)){if(0===i.length)throw new Error("Arguments array must have arguments.");let t,n=wt.Default;for(let e=0;e<i.length;e++){const r=i[e],o=r.__NG_DI_FLAG__;"number"==typeof o?-1===o?t=r.token:n|=o:t=r}e.push(oi(t,n))}else e.push(oi(i))}return e}function ai(t,e){return t.__NG_DI_FLAG__=e,t.prototype.__NG_DI_FLAG__=e,t}const li=ai(Gn("Inject",t=>({token:t})),-1),ui=ai(Gn("Optional"),8),ci=ai(Gn("SkipSelf"),4);class hi{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}function di(t){return t instanceof hi?t.changingThisBreaksApplicationSecurity:t}const pi=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,fi=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;var mi=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}({});function gi(t){const e=function(){const t=Ee();return t&&t[12]}();return e?e.sanitize(mi.URL,t)||"":function(t,e){const n=function(t){return t instanceof hi&&t.getTypeName()||null}(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see https://g.co/ng/security#xss)`)}return n===e}(t,"URL")?di(t):(n=at(t),(n=String(n)).match(pi)||n.match(fi)?n:"unsafe:"+n);var n}function vi(t){return t.ngDebugContext}function yi(t){return t.ngOriginalError}function wi(t,...e){t.error(...e)}class bi{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t),n=this._findContext(t),i=function(t){return t.ngErrorLogger||wi}(t);i(this._console,"ERROR",t),e&&i(this._console,"ORIGINAL ERROR",e),n&&i(this._console,"ERROR CONTEXT",n)}_findContext(t){return t?vi(t)?vi(t):this._findContext(yi(t)):null}_findOriginalError(t){let e=yi(t);for(;e&&yi(e);)e=yi(e);return e}}function _i(t,e){t.__ngContext__=e}const xi=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Ot))();function Ci(t){return{name:"window",target:t.ownerDocument.defaultView}}function Ii(t){return t instanceof Function?t():t}var Si=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}({});function ki(t,e){return(void 0)(t,e)}function Ti(t){const e=t[3];return te(e)?e[3]:e}function Ai(t){return Oi(t[13])}function Ei(t){return Oi(t[4])}function Oi(t){for(;null!==t&&!te(t);)t=t[4];return t}function Pi(t,e,n,i,r){if(null!=i){let o,s=!1;te(i)?o=i:Kt(i)&&(s=!0,i=i[0]);const a=ge(i);0===t&&null!==n?null==r?Ui(e,n,a):ji(e,n,a,r||null,!0):1===t&&null!==n?ji(e,n,a,r||null,!0):2===t?function(t,e,n){const i=Li(t,e);i&&function(t,e,n,i){fe(t)?t.removeChild(e,n,i):e.removeChild(n)}(t,i,e,n)}(e,a,s):3===t&&e.destroyNode(a),null!=o&&function(t,e,n,i,r){const o=n[7];o!==ge(n)&&Pi(e,t,i,o,r);for(let s=Jt;s<n.length;s++){const r=n[s];Bi(r[1],r,t,e,i,o)}}(e,t,o,n,r)}}function Mi(t,e,n){return fe(t)?t.createElement(e,n):null===n?t.createElement(e):t.createElementNS(n,e)}function Di(t,e){const n=t[9],i=n.indexOf(e),r=e[3];1024&e[2]&&(e[2]&=-1025,ke(r,-1)),n.splice(i,1)}function Fi(t,e){if(t.length<=Jt)return;const n=Jt+e,i=t[n];if(i){const o=i[17];null!==o&&o!==t&&Di(o,i),e>0&&(t[n-1][4]=i[4]);const s=Qn(t,Jt+e);Bi(i[1],r=i,r[11],2,null,null),r[0]=null,r[6]=null;const a=s[19];null!==a&&a.detachView(s[1]),i[3]=null,i[4]=null,i[2]&=-129}var r;return i}function Ri(t,e){if(!(256&e[2])){const n=e[11];fe(n)&&n.destroyNode&&Bi(t,e,n,3,null,null),function(t){let e=t[13];if(!e)return Ni(t[1],t);for(;e;){let n=null;if(Kt(e))n=e[13];else{const t=e[10];t&&(n=t)}if(!n){for(;e&&!e[4]&&e!==t;)Kt(e)&&Ni(e[1],e),e=e[3];null===e&&(e=t),Kt(e)&&Ni(e[1],e),n=e&&e[4]}e=n}}(e)}}function Ni(t,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let i=0;i<n.length;i+=2){const t=e[n[i]];if(!(t instanceof dn)){const e=n[i+1];if(Array.isArray(e))for(let n=0;n<e.length;n+=2){const i=t[e[n]],r=e[n+1];try{r.call(i)}finally{}}else try{e.call(t)}finally{}}}}(t,e),function(t,e){const n=t.cleanup,i=e[7];let r=-1;if(null!==n)for(let o=0;o<n.length-1;o+=2)if("string"==typeof n[o]){const t=n[o+1],s="function"==typeof t?t(e):ge(e[t]),a=i[r=n[o+2]],l=n[o+3];"boolean"==typeof l?s.removeEventListener(n[o],a,l):l>=0?i[r=l]():i[r=-l].unsubscribe(),o+=2}else{const t=i[r=n[o+1]];n[o].call(t)}if(null!==i){for(let t=r+1;t<i.length;t++)(0,i[t])();e[7]=null}}(t,e),1===e[1].type&&fe(e[11])&&e[11].destroy();const n=e[17];if(null!==n&&te(e[3])){n!==e[3]&&Di(n,e);const i=e[19];null!==i&&i.detachView(t)}}}function ji(t,e,n,i,r){fe(t)?t.insertBefore(e,n,i,r):e.insertBefore(n,i,r)}function Ui(t,e,n){fe(t)?t.appendChild(e,n):e.appendChild(n)}function Hi(t,e,n,i,r){null!==i?ji(t,e,n,i,r):Ui(t,e,n)}function Li(t,e){return fe(t)?t.parentNode(e):e.parentNode}function zi(t,e,n,i){const r=function(t,e,n){return function(t,e,n){let i=e;for(;null!==i&&40&i.type;)i=(e=i).parent;if(null===i)return n[0];if(2&i.flags){const e=t.data[i.directiveStart].encapsulation;if(e===St.None||e===St.Emulated)return null}return ye(i,n)}(t,e.parent,n)}(t,i,e),o=e[11],s=function(t,e,n){return function(t,e,n){return 40&t.type?ye(t,n):null}(t,0,n)}(i.parent||e[6],0,e);if(null!=r)if(Array.isArray(n))for(let a=0;a<n.length;a++)Hi(o,r,n[a],s,!1);else Hi(o,r,n,s,!1)}function Gi(t,e){if(null!==e){const n=e.type;if(3&n)return ye(e,t);if(4&n)return Wi(-1,t[e.index]);if(8&n){const n=e.child;if(null!==n)return Gi(t,n);{const n=t[e.index];return te(n)?Wi(-1,n):ge(n)}}if(32&n)return ki(e,t)()||ge(t[e.index]);{const n=Vi(t,e);return null!==n?Array.isArray(n)?n[0]:Gi(Ti(t[16]),n):Gi(t,e.next)}}return null}function Vi(t,e){return null!==e?t[16][6].projection[e.projection]:null}function Wi(t,e){const n=Jt+t+1;if(n<e.length){const t=e[n],i=t[1].firstChild;if(null!==i)return Gi(t,i)}return e[7]}function $i(t,e,n,i,r,o,s){for(;null!=n;){const a=i[n.index],l=n.type;if(s&&0===e&&(a&&_i(ge(a),i),n.flags|=4),64!=(64&n.flags))if(8&l)$i(t,e,n.child,i,r,o,!1),Pi(e,t,r,a,o);else if(32&l){const s=ki(n,i);let l;for(;l=s();)Pi(e,t,r,l,o);Pi(e,t,r,a,o)}else 16&l?qi(t,e,i,n,r,o):Pi(e,t,r,a,o);n=s?n.projectionNext:n.next}}function Bi(t,e,n,i,r,o){$i(n,i,t.firstChild,e,r,o,!1)}function qi(t,e,n,i,r,o){const s=n[16],a=s[6].projection[i.projection];if(Array.isArray(a))for(let l=0;l<a.length;l++)Pi(e,t,r,a[l],o);else $i(t,e,a,s[3],r,o,!0)}function Qi(t,e,n){fe(t)?t.setAttribute(e,"style",n):e.style.cssText=n}function Zi(t,e,n){fe(t)?""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n):e.className=n}function Yi(t,e,n){let i=t.length;for(;;){const r=t.indexOf(e,n);if(-1===r)return r;if(0===r||t.charCodeAt(r-1)<=32){const n=e.length;if(r+n===i||t.charCodeAt(r+n)<=32)return r}n=r+1}}const Xi="ng-template";function Ji(t,e,n){let i=0;for(;i<t.length;){let r=t[i++];if(n&&"class"===r){if(r=t[i],-1!==Yi(r.toLowerCase(),e,0))return!0}else if(1===r){for(;i<t.length&&"string"==typeof(r=t[i++]);)if(r.toLowerCase()===e)return!0;return!1}}return!1}function Ki(t){return 4===t.type&&t.value!==Xi}function tr(t,e,n){return e===(4!==t.type||n?t.value:Xi)}function er(t,e,n){let i=4;const r=t.attrs||[],o=function(t){for(let e=0;e<t.length;e++)if(fn(t[e]))return e;return t.length}(r);let s=!1;for(let a=0;a<e.length;a++){const l=e[a];if("number"!=typeof l){if(!s)if(4&i){if(i=2|1&i,""!==l&&!tr(t,l,n)||""===l&&1===e.length){if(nr(i))return!1;s=!0}}else{const u=8&i?l:e[++a];if(8&i&&null!==t.attrs){if(!Ji(t.attrs,u,n)){if(nr(i))return!1;s=!0}continue}const c=ir(8&i?"class":l,r,Ki(t),n);if(-1===c){if(nr(i))return!1;s=!0;continue}if(""!==u){let t;t=c>o?"":r[c+1].toLowerCase();const e=8&i?t:null;if(e&&-1!==Yi(e,u,0)||2&i&&u!==t){if(nr(i))return!1;s=!0}}}}else{if(!s&&!nr(i)&&!nr(l))return!1;if(s&&nr(l))continue;s=!1,i=l|1&i}}return nr(i)||s}function nr(t){return 0==(1&t)}function ir(t,e,n,i){if(null===e)return-1;let r=0;if(i||!n){let n=!1;for(;r<e.length;){const i=e[r];if(i===t)return r;if(3===i||6===i)n=!0;else{if(1===i||2===i){let t=e[++r];for(;"string"==typeof t;)t=e[++r];continue}if(4===i)break;if(0===i){r+=4;continue}}r+=n?1:2}return-1}return function(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const i=t[n];if("number"==typeof i)return-1;if(i===e)return n;n++}return-1}(e,t)}function rr(t,e,n=!1){for(let i=0;i<e.length;i++)if(er(t,e[i],n))return!0;return!1}function or(t,e){return t?":not("+e.trim()+")":e}function sr(t){let e=t[0],n=1,i=2,r="",o=!1;for(;n<t.length;){let s=t[n];if("string"==typeof s)if(2&i){const e=t[++n];r+="["+s+(e.length>0?'="'+e+'"':"")+"]"}else 8&i?r+="."+s:4&i&&(r+=" "+s);else""===r||nr(s)||(e+=or(o,r),r=""),i=s,o=o||!nr(i);n++}return""!==r&&(e+=or(o,r)),e}const ar={};function lr(t){ur(Oe(),Ee(),Ke()+t,Ne())}function ur(t,e,n,i){if(!i)if(3==(3&e[2])){const i=t.preOrderCheckHooks;null!==i&&sn(e,i,n)}else{const i=t.preOrderHooks;null!==i&&an(e,i,0,n)}tn(n)}function cr(t,e){return t<<17|e<<2}function hr(t){return t>>17&32767}function dr(t){return 2|t}function pr(t){return(131068&t)>>2}function fr(t,e){return-131069&t|e<<2}function mr(t){return 1|t}function gr(t,e){const n=t.contentQueries;if(null!==n)for(let i=0;i<n.length;i+=2){const r=n[i],o=n[i+1];if(-1!==o){const n=t.data[o];We(r),n.contentQueries(2,e[o],o)}}}function vr(t,e,n,i,r,o,s,a,l,u){const c=e.blueprint.slice();return c[0]=r,c[2]=140|i,Se(c),c[3]=c[15]=t,c[8]=n,c[10]=s||t&&t[10],c[11]=a||t&&t[11],c[12]=l||t&&t[12]||null,c[9]=u||t&&t[9]||null,c[6]=o,c[16]=2==e.type?t[16]:c,c}function yr(t,e,n,i,r){let o=t.data[e];if(null===o)o=function(t,e,n,i,r){const o=De(),s=Re(),a=t.data[e]=function(t,e,n,i,r,o){return{type:n,index:i,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:r,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?o:o&&o.parent,n,e,i,r);return null===t.firstChild&&(t.firstChild=a),null!==o&&(s?null==o.child&&null!==a.parent&&(o.child=a):null===o.next&&(o.next=a)),a}(t,e,n,i,r),Te.lFrame.inI18n&&(o.flags|=64);else if(64&o.type){o.type=n,o.value=i,o.attrs=r;const t=function(){const t=Te.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}();o.injectorIndex=null===t?-1:t.injectorIndex}return Fe(o,!0),o}function wr(t,e,n,i){if(0===n)return-1;const r=e.length;for(let o=0;o<n;o++)e.push(i),t.blueprint.push(i),t.data.push(null);return r}function br(t,e,n){qe(e);try{const i=t.viewQuery;null!==i&&Qr(1,i,n);const r=t.template;null!==r&&Cr(t,e,r,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&gr(t,e),t.staticViewQueries&&Qr(2,t.viewQuery,n);const o=t.components;null!==o&&function(t,e){for(let n=0;n<e.length;n++)Vr(t,e[n])}(e,o)}catch(i){throw t.firstCreatePass&&(t.incompleteFirstPass=!0),i}finally{e[2]&=-5,Je()}}function _r(t,e,n,i){const r=e[2];if(256==(256&r))return;qe(e);const o=Ne();try{Se(e),Te.lFrame.bindingIndex=t.bindingStartIndex,null!==n&&Cr(t,e,n,2,i);const s=3==(3&r);if(!o)if(s){const n=t.preOrderCheckHooks;null!==n&&sn(e,n,null)}else{const n=t.preOrderHooks;null!==n&&an(e,n,0,null),ln(e,0)}if(function(t){for(let e=Ai(t);null!==e;e=Ei(e)){if(!e[2])continue;const t=e[9];for(let e=0;e<t.length;e++){const n=t[e],i=n[3];0==(1024&n[2])&&ke(i,1),n[2]|=1024}}}(e),function(t){for(let e=Ai(t);null!==e;e=Ei(e))for(let t=Jt;t<e.length;t++){const n=e[t],i=n[1];Ce(n)&&_r(i,n,i.template,n[8])}}(e),null!==t.contentQueries&&gr(t,e),!o)if(s){const n=t.contentCheckHooks;null!==n&&sn(e,n)}else{const n=t.contentHooks;null!==n&&an(e,n,1),ln(e,1)}!function(t,e){const n=t.hostBindingOpCodes;if(null!==n)try{for(let t=0;t<n.length;t++){const i=n[t];if(i<0)tn(~i);else{const r=i,o=n[++t],s=n[++t];Ge(o,r),s(2,e[r])}}}finally{tn(-1)}}(t,e);const a=t.components;null!==a&&function(t,e){for(let n=0;n<e.length;n++)zr(t,e[n])}(e,a);const l=t.viewQuery;if(null!==l&&Qr(2,l,i),!o)if(s){const n=t.viewCheckHooks;null!==n&&sn(e,n)}else{const n=t.viewHooks;null!==n&&an(e,n,2),ln(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),o||(e[2]&=-73),1024&e[2]&&(e[2]&=-1025,ke(e[3],-1))}finally{Je()}}function xr(t,e,n,i){const r=e[10],o=!Ne(),s=4==(4&e[2]);try{o&&!s&&r.begin&&r.begin(),s&&br(t,e,i),_r(t,e,n,i)}finally{o&&!s&&r.end&&r.end()}}function Cr(t,e,n,i,r){const o=Ke(),s=2&i;try{tn(-1),s&&e.length>Xt&&ur(t,e,Xt,Ne()),n(i,r)}finally{tn(o)}}function Ir(t,e,n){Ae()&&(function(t,e,n,i){const r=n.directiveStart,o=n.directiveEnd;t.firstCreatePass||In(n,e),_i(i,e);const s=n.initialInputs;for(let a=r;a<o;a++){const i=t.data[a],o=re(i);o&&jr(e,n,i);const l=Rn(e,t,a,n);_i(l,e),null!==s&&Ur(0,a-r,l,i,0,s),o&&(_e(n.index,e)[8]=l)}}(t,e,n,ye(n,e)),128==(128&n.flags)&&function(t,e,n){const i=n.directiveStart,r=n.directiveEnd,o=n.index,s=Te.lFrame.currentDirectiveIndex;try{tn(o);for(let n=i;n<r;n++){const i=t.data[n],r=e[n];Ve(n),null===i.hostBindings&&0===i.hostVars&&null===i.hostAttrs||Mr(i,r)}}finally{tn(-1),Ve(s)}}(t,e,n))}function Sr(t,e,n=ye){const i=e.localNames;if(null!==i){let r=e.index+1;for(let o=0;o<i.length;o+=2){const s=i[o+1],a=-1===s?n(e,t):t[s];t[r++]=a}}}function kr(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=Tr(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):e}function Tr(t,e,n,i,r,o,s,a,l,u){const c=Xt+i,h=c+r,d=function(t,e){const n=[];for(let i=0;i<e;i++)n.push(i<t?null:ar);return n}(c,h),p="function"==typeof u?u():u;return d[1]={type:t,blueprint:d,template:n,queries:null,viewQuery:a,declTNode:e,data:d.slice().fill(null,c),bindingStartIndex:c,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:l,consts:p,incompleteFirstPass:!1}}function Ar(t,e,n){for(let i in t)if(t.hasOwnProperty(i)){const r=t[i];(n=null===n?{}:n).hasOwnProperty(i)?n[i].push(e,r):n[i]=[e,r]}return n}function Er(t,e,n,i,r,o,s,a){const l=ye(e,n);let u,c=e.inputs;var h;!a&&null!=c&&(u=c[i])?(Kr(t,n,u,i,r),ne(e)&&function(t,e){const n=_e(e,t);16&n[2]||(n[2]|=64)}(n,e.index)):3&e.type&&(i="class"===(h=i)?"className":"for"===h?"htmlFor":"formaction"===h?"formAction":"innerHtml"===h?"innerHTML":"readonly"===h?"readOnly":"tabindex"===h?"tabIndex":h,r=null!=s?s(r,e.value||"",i):r,fe(o)?o.setProperty(l,i,r):mn(i)||(l.setProperty?l.setProperty(i,r):l[i]=r))}function Or(t,e,n,i){let r=!1;if(Ae()){const o=function(t,e,n){const i=t.directiveRegistry;let r=null;if(i)for(let o=0;o<i.length;o++){const s=i[o];rr(n,s.selectors,!1)&&(r||(r=[]),An(In(n,e),t,s.type),re(s)?(Dr(t,n),r.unshift(s)):r.push(s))}return r}(t,e,n),s=null===i?null:{"":-1};if(null!==o){r=!0,Rr(n,t.data.length,o.length);for(let t=0;t<o.length;t++){const e=o[t];e.providersResolver&&e.providersResolver(e)}let i=!1,a=!1,l=wr(t,e,o.length,null);for(let r=0;r<o.length;r++){const u=o[r];n.mergedAttrs=gn(n.mergedAttrs,u.hostAttrs),Nr(t,n,e,l,u),Fr(l,u,s),null!==u.contentQueries&&(n.flags|=8),null===u.hostBindings&&null===u.hostAttrs&&0===u.hostVars||(n.flags|=128);const c=u.type.prototype;!i&&(c.ngOnChanges||c.ngOnInit||c.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n.index),i=!0),a||!c.ngOnChanges&&!c.ngDoCheck||((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n.index),a=!0),l++}!function(t,e){const n=e.directiveEnd,i=t.data,r=e.attrs,o=[];let s=null,a=null;for(let l=e.directiveStart;l<n;l++){const t=i[l],n=t.inputs,u=null===r||Ki(e)?null:Hr(n,r);o.push(u),s=Ar(n,l,s),a=Ar(t.outputs,l,a)}null!==s&&(s.hasOwnProperty("class")&&(e.flags|=16),s.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=o,e.inputs=s,e.outputs=a}(t,n)}s&&function(t,e,n){if(e){const i=t.localNames=[];for(let t=0;t<e.length;t+=2){const r=n[e[t+1]];if(null==r)throw new st("301",`Export of name '${e[t+1]}' not found!`);i.push(e[t],r)}}}(n,i,s)}return n.mergedAttrs=gn(n.mergedAttrs,n.attrs),r}function Pr(t,e,n,i,r,o){const s=o.hostBindings;if(s){let n=t.hostBindingOpCodes;null===n&&(n=t.hostBindingOpCodes=[]);const o=~e.index;(function(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(n)!=o&&n.push(o),n.push(i,r,s)}}function Mr(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function Dr(t,e){e.flags|=2,(t.components||(t.components=[])).push(e.index)}function Fr(t,e,n){if(n){if(e.exportAs)for(let i=0;i<e.exportAs.length;i++)n[e.exportAs[i]]=t;re(e)&&(n[""]=t)}}function Rr(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function Nr(t,e,n,i,r){t.data[i]=r;const o=r.factory||(r.factory=oe(r.type)),s=new dn(o,re(r),null);t.blueprint[i]=s,n[i]=s,Pr(t,e,0,i,wr(t,n,r.hostVars,ar),r)}function jr(t,e,n){const i=ye(e,t),r=kr(n),o=t[10],s=Wr(t,vr(t,r,null,n.onPush?64:16,i,e,o,o.createRenderer(i,n),null,null));t[e.index]=s}function Ur(t,e,n,i,r,o){const s=o[e];if(null!==s){const t=i.setInput;for(let e=0;e<s.length;){const r=s[e++],o=s[e++],a=s[e++];null!==t?i.setInput(n,a,r,o):n[o]=a}}}function Hr(t,e){let n=null,i=0;for(;i<e.length;){const r=e[i];if(0!==r)if(5!==r){if("number"==typeof r)break;t.hasOwnProperty(r)&&(null===n&&(n=[]),n.push(r,t[r],e[i+1])),i+=2}else i+=2;else i+=4}return n}function Lr(t,e,n,i){return new Array(t,!0,!1,e,null,0,i,n,null,null)}function zr(t,e){const n=_e(e,t);if(Ce(n)){const t=n[1];80&n[2]?_r(t,n,t.template,n[8]):n[5]>0&&Gr(n)}}function Gr(t){for(let n=Ai(t);null!==n;n=Ei(n))for(let t=Jt;t<n.length;t++){const e=n[t];if(1024&e[2]){const t=e[1];_r(t,e,t.template,e[8])}else e[5]>0&&Gr(e)}const e=t[1].components;if(null!==e)for(let n=0;n<e.length;n++){const i=_e(e[n],t);Ce(i)&&i[5]>0&&Gr(i)}}function Vr(t,e){const n=_e(e,t),i=n[1];!function(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(i,n),br(i,n,n[8])}function Wr(t,e){return t[13]?t[14][4]=e:t[13]=e,t[14]=e,e}function $r(t){for(;t;){t[2]|=64;const e=Ti(t);if(0!=(512&t[2])&&!e)return t;t=e}return null}function Br(t,e,n){const i=e[10];i.begin&&i.begin();try{_r(t,e,t.template,n)}catch(r){throw Jr(e,r),r}finally{i.end&&i.end()}}function qr(t){!function(t){for(let e=0;e<t.components.length;e++){const n=t.components[e],i=xe(n),r=i[1];xr(r,i,r.template,n)}}(t[8])}function Qr(t,e,n){We(0),e(t,n)}const Zr=(()=>Promise.resolve(null))();function Yr(t){return t[7]||(t[7]=[])}function Xr(t){return t.cleanup||(t.cleanup=[])}function Jr(t,e){const n=t[9],i=n?n.get(bi,null):null;i&&i.handleError(e)}function Kr(t,e,n,i,r){for(let o=0;o<n.length;){const s=n[o++],a=n[o++],l=e[s],u=t.data[s];null!==u.setInput?u.setInput(l,r,i,a):l[a]=r}}function to(t,e,n){const i=ve(e,t);!function(t,e,n){fe(t)?t.setValue(e,n):e.textContent=n}(t[11],i,n)}function eo(t,e,n){let i=n?t.styles:null,r=n?t.classes:null,o=0;if(null!==e)for(let s=0;s<e.length;s++){const t=e[s];"number"==typeof t?o=t:1==o?r=et(r,t):2==o&&(i=et(i,t+": "+e[++s]+";"))}n?t.styles=i:t.stylesWithoutHost=i,n?t.classes=r:t.classesWithoutHost=r}const no=new Vn("INJECTOR",-1);class io{get(t,e=Jn){if(e===Jn){const e=new Error(`NullInjectorError: No provider for ${tt(t)}!`);throw e.name="NullInjectorError",e}return e}}const ro=new Vn("Set Injector scope."),oo={},so={},ao=[];let lo;function uo(){return void 0===lo&&(lo=new io),lo}function co(t,e=null,n=null,i){return new ho(t,n,e||uo(),i)}class ho{constructor(t,e,n,i=null){this.parent=n,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const r=[];e&&Bn(e,n=>this.processProvider(n,t,e)),Bn([t],t=>this.processInjectorType(t,[],r)),this.records.set(no,fo(void 0,this));const o=this.records.get(ro);this.scope=null!=o?o.value:null,this.source=i||("object"==typeof t?null:tt(t))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(t=>t.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(t,e=Jn,n=wt.Default){this.assertNotDestroyed();const i=ii(this);try{if(!(n&wt.SkipSelf)){let e=this.records.get(t);if(void 0===e){const n=("function"==typeof(r=t)||"object"==typeof r&&r instanceof Vn)&&dt(t);e=n&&this.injectableDefInScope(n)?fo(po(t),oo):null,this.records.set(t,e)}if(null!=e)return this.hydrate(t,e)}return(n&wt.Self?uo():this.parent).get(t,e=n&wt.Optional&&e===Jn?null:e)}catch(o){if("NullInjectorError"===o.name){if((o.ngTempTokenPath=o.ngTempTokenPath||[]).unshift(tt(t)),i)throw o;return function(t,e,n,i){const r=t.ngTempTokenPath;throw e[ti]&&r.unshift(e[ti]),t.message=function(t,e,n,i=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;let r=tt(e);if(Array.isArray(e))r=e.map(tt).join(" -> ");else if("object"==typeof e){let t=[];for(let n in e)if(e.hasOwnProperty(n)){let i=e[n];t.push(n+":"+("string"==typeof i?JSON.stringify(i):tt(i)))}r=`{${t.join(", ")}}`}return`${n}${i?"("+i+")":""}[${r}]: ${t.replace(Kn,"\n  ")}`}("\n"+t.message,r,n,i),t.ngTokenPath=r,t.ngTempTokenPath=null,t}(o,t,"R3InjectorError",this.source)}throw o}finally{ii(i)}var r}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(t=>this.get(t))}toString(){const t=[];return this.records.forEach((e,n)=>t.push(tt(n))),`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(t,e,n){if(!(t=rt(t)))return!1;let i=ft(t);const r=null==i&&t.ngModule||void 0,o=void 0===r?t:r,s=-1!==n.indexOf(o);if(void 0!==r&&(i=ft(r)),null==i)return!1;if(null!=i.imports&&!s){let t;n.push(o);try{Bn(i.imports,i=>{this.processInjectorType(i,e,n)&&(void 0===t&&(t=[]),t.push(i))})}finally{}if(void 0!==t)for(let e=0;e<t.length;e++){const{ngModule:n,providers:i}=t[e];Bn(i,t=>this.processProvider(t,n,i||ao))}}this.injectorDefTypes.add(o);const a=oe(o)||(()=>new o);this.records.set(o,fo(a,oo));const l=i.providers;if(null!=l&&!s){const e=t;Bn(l,t=>this.processProvider(t,e,l))}return void 0!==r&&void 0!==t.providers}processProvider(t,e,n){let i=go(t=rt(t))?t:rt(t&&t.provide);const r=function(t,e,n){return mo(t)?fo(void 0,t.useValue):fo(function(t,e,n){let i;if(go(t)){const e=rt(t);return oe(e)||po(e)}if(mo(t))i=()=>rt(t.useValue);else if((r=t)&&r.useFactory)i=()=>t.useFactory(...si(t.deps||[]));else if(function(t){return!(!t||!t.useExisting)}(t))i=()=>oi(rt(t.useExisting));else{const e=rt(t&&(t.useClass||t.provide));if(!function(t){return!!t.deps}(t))return oe(e)||po(e);i=()=>new e(...si(t.deps))}var r;return i}(t),oo)}(t);if(go(t)||!0!==t.multi)this.records.get(i);else{let e=this.records.get(i);e||(e=fo(void 0,oo,!0),e.factory=()=>si(e.multi),this.records.set(i,e)),i=t,e.multi.push(t)}this.records.set(i,r)}hydrate(t,e){var n;return e.value===oo&&(e.value=so,e.value=e.factory()),"object"==typeof e.value&&e.value&&null!==(n=e.value)&&"object"==typeof n&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(e.value),e.value}injectableDefInScope(t){return!!t.providedIn&&("string"==typeof t.providedIn?"any"===t.providedIn||t.providedIn===this.scope:this.injectorDefTypes.has(t.providedIn))}}function po(t){const e=dt(t),n=null!==e?e.factory:oe(t);if(null!==n)return n;if(t instanceof Vn)throw new Error(`Token ${tt(t)} is missing a \u0275prov definition.`);if(t instanceof Function)return function(t){const e=t.length;if(e>0){const n=function(t,e){const n=[];for(let i=0;i<t;i++)n.push("?");return n}(e);throw new Error(`Can't resolve all parameters for ${tt(t)}: (${n.join(", ")}).`)}const n=function(t){const e=t&&(t[mt]||t[vt]);if(e){const n=function(t){if(t.hasOwnProperty("name"))return t.name;const e=(""+t).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${n}" class.`),e}return null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new Error("unreachable")}function fo(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function mo(t){return null!==t&&"object"==typeof t&&ei in t}function go(t){return"function"==typeof t}const vo=function(t,e,n){return function(t,e=null,n=null,i){const r=co(t,e,n,i);return r._resolveInjectorDefTypes(),r}({name:n},e,t,n)};let yo=(()=>{class t{static create(t,e){return Array.isArray(t)?vo(t,e,""):vo(t.providers,t.parent,t.name||"")}}return t.THROW_IF_NOT_FOUND=Jn,t.NULL=new io,t.\u0275prov=ct({token:t,providedIn:"any",factory:()=>oi(no)}),t.__NG_ELEMENT_ID__=-1,t})();function wo(t,e){on(xe(t)[1],Me())}function bo(t){let e=Object.getPrototypeOf(t.type.prototype).constructor,n=!0;const i=[t];for(;e;){let r;if(re(t))r=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Error("Directives cannot inherit Components");r=e.\u0275dir}if(r){if(n){i.push(r);const e=t;e.inputs=_o(t.inputs),e.declaredInputs=_o(t.declaredInputs),e.outputs=_o(t.outputs);const n=r.hostBindings;n&&Io(t,n);const o=r.viewQuery,s=r.contentQueries;if(o&&xo(t,o),s&&Co(t,s),K(t.inputs,r.inputs),K(t.declaredInputs,r.declaredInputs),K(t.outputs,r.outputs),re(r)&&r.data.animation){const e=t.data;e.animation=(e.animation||[]).concat(r.data.animation)}}const e=r.features;if(e)for(let i=0;i<e.length;i++){const r=e[i];r&&r.ngInherit&&r(t),r===bo&&(n=!1)}}e=Object.getPrototypeOf(e)}!function(t){let e=0,n=null;for(let i=t.length-1;i>=0;i--){const r=t[i];r.hostVars=e+=r.hostVars,r.hostAttrs=gn(r.hostAttrs,n=gn(n,r.hostAttrs))}}(i)}function _o(t){return t===Pt?{}:t===Dt?[]:t}function xo(t,e){const n=t.viewQuery;t.viewQuery=n?(t,i)=>{e(t,i),n(t,i)}:e}function Co(t,e){const n=t.contentQueries;t.contentQueries=n?(t,i,r)=>{e(t,i,r),n(t,i,r)}:e}function Io(t,e){const n=t.hostBindings;t.hostBindings=n?(t,i)=>{e(t,i),n(t,i)}:e}let So=null;function ko(){if(!So){const t=Ot.Symbol;if(t&&t.iterator)So=t.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let e=0;e<t.length;++e){const n=t[e];"entries"!==n&&"size"!==n&&Map.prototype[n]===Map.prototype.entries&&(So=n)}}}return So}class To{constructor(t){this.wrapped=t}static wrap(t){return new To(t)}static unwrap(t){return To.isWrapped(t)?t.wrapped:t}static isWrapped(t){return t instanceof To}}function Ao(t){return!!Eo(t)&&(Array.isArray(t)||!(t instanceof Map)&&ko()in t)}function Eo(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function Oo(t,e,n){return t[e]=n}function Po(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function Mo(t,e,n,i){const r=Po(t,e,n);return Po(t,e+1,i)||r}function Do(t,e,n,i){const r=Ee();return Po(r,Le(),e)&&(Oe(),function(t,e,n,i,r,o){const s=ye(t,e);!function(t,e,n,i,r,o,s){if(null==o)fe(t)?t.removeAttribute(e,r,n):e.removeAttribute(r);else{const a=null==s?at(o):s(o,i||"",r);fe(t)?t.setAttribute(e,r,a,n):n?e.setAttributeNS(n,r,a):e.setAttribute(r,a)}}(e[11],s,o,t.value,n,i,r)}(en(),r,t,e,n,i)),Do}function Fo(t,e,n,i,r,o,s,a){const l=Ee(),u=Oe(),c=t+Xt,h=u.firstCreatePass?function(t,e,n,i,r,o,s,a,l){const u=e.consts,c=yr(e,t,4,s||null,Ie(u,a));Or(e,n,c,Ie(u,l)),on(e,c);const h=c.tViews=Tr(2,c,i,r,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,u);return null!==e.queries&&(e.queries.template(e,c),h.queries=e.queries.embeddedTView(c)),c}(c,u,l,e,n,i,r,o,s):u.data[c];Fe(h,!1);const d=l[11].createComment("");zi(u,l,d,h),_i(d,l),Wr(l,l[c]=Lr(d,l,d,h)),ie(h)&&Ir(u,l,h),null!=s&&Sr(l,h,a)}function Ro(t){return be(Te.lFrame.contextLView,Xt+t)}function No(t,e=wt.Default){const n=Ee();return null===n?oi(t,e):Pn(Me(),n,rt(t),e)}function jo(t,e,n){const i=Ee();return Po(i,Le(),e)&&Er(Oe(),en(),i,t,e,i[11],n,!1),jo}function Uo(t,e,n,i,r){const o=r?"class":"style";Kr(t,n,e.inputs[o],o,i)}function Ho(t,e,n,i){const r=Ee(),o=Oe(),s=Xt+t,a=r[11],l=r[s]=Mi(a,e,Te.lFrame.currentNamespace),u=o.firstCreatePass?function(t,e,n,i,r,o,s){const a=e.consts,l=yr(e,t,2,r,Ie(a,o));return Or(e,n,l,Ie(a,s)),null!==l.attrs&&eo(l,l.attrs,!1),null!==l.mergedAttrs&&eo(l,l.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,l),l}(s,o,r,0,e,n,i):o.data[s];Fe(u,!0);const c=u.mergedAttrs;null!==c&&pn(a,l,c);const h=u.classes;null!==h&&Zi(a,l,h);const d=u.styles;null!==d&&Qi(a,l,d),64!=(64&u.flags)&&zi(o,r,l,u),0===Te.lFrame.elementDepthCount&&_i(l,r),Te.lFrame.elementDepthCount++,ie(u)&&(Ir(o,r,u),function(t,e,n){if(ee(e)){const i=e.directiveEnd;for(let r=e.directiveStart;r<i;r++){const e=t.data[r];e.contentQueries&&e.contentQueries(1,n[r],r)}}}(o,u,r)),null!==i&&Sr(r,u)}function Lo(){let t=Me();Re()?Te.lFrame.isParent=!1:(t=t.parent,Fe(t,!1));const e=t;Te.lFrame.elementDepthCount--;const n=Oe();n.firstCreatePass&&(on(n,t),ee(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function(t){return 0!=(16&t.flags)}(e)&&Uo(n,e,Ee(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function(t){return 0!=(32&t.flags)}(e)&&Uo(n,e,Ee(),e.stylesWithoutHost,!1)}function zo(t,e,n,i){Ho(t,e,n,i),Lo()}function Go(){return Ee()}function Vo(t){return!!t&&"function"==typeof t.then}function Wo(t,e,n=!1,i){const r=Ee(),o=Oe(),s=Me();return function(t,e,n,i,r,o,s=!1,a){const l=ie(i),u=t.firstCreatePass&&Xr(t),c=Yr(e);let h=!0;if(3&i.type){const d=ye(i,e),p=a?a(d):Pt,f=p.target||d,m=c.length,g=a?t=>a(ge(t[i.index])).target:i.index;if(fe(n)){let s=null;if(!a&&l&&(s=function(t,e,n,i){const r=t.cleanup;if(null!=r)for(let o=0;o<r.length-1;o+=2){const t=r[o];if(t===n&&r[o+1]===i){const t=e[7],n=r[o+2];return t.length>n?t[n]:null}"string"==typeof t&&(o+=2)}return null}(t,e,r,i.index)),null!==s)(s.__ngLastListenerFn__||s).__ngNextListenerFn__=o,s.__ngLastListenerFn__=o,h=!1;else{o=Bo(i,e,0,o,!1);const t=n.listen(p.name||f,r,o);c.push(o,t),u&&u.push(r,g,m,m+1)}}else o=Bo(i,e,0,o,!0),f.addEventListener(r,o,s),c.push(o),u&&u.push(r,g,m,s)}else o=Bo(i,e,0,o,!1);const d=i.outputs;let p;if(h&&null!==d&&(p=d[r])){const t=p.length;if(t)for(let n=0;n<t;n+=2){const t=e[p[n]][p[n+1]].subscribe(o),s=c.length;c.push(o,t),u&&u.push(r,i.index,s,-(s+1))}}}(o,r,r[11],s,t,e,n,i),Wo}function $o(t,e,n,i){try{return!1!==n(i)}catch(r){return Jr(t,r),!1}}function Bo(t,e,n,i,r){return function n(o){if(o===Function)return i;const s=2&t.flags?_e(t.index,e):e;0==(32&e[2])&&$r(s);let a=$o(e,0,i,o),l=n.__ngNextListenerFn__;for(;l;)a=$o(e,0,l,o)&&a,l=l.__ngNextListenerFn__;return r&&!1===a&&(o.preventDefault(),o.returnValue=!1),a}}function qo(t=1){return function(t){return(Te.lFrame.contextLView=function(t,e){for(;t>0;)e=e[15],t--;return e}(t,Te.lFrame.contextLView))[8]}(t)}function Qo(t,e,n,i,r){const o=t[n+1],s=null===e;let a=i?hr(o):pr(o),l=!1;for(;0!==a&&(!1===l||s);){const n=t[a+1];Zo(t[a],e)&&(l=!0,t[a+1]=i?mr(n):dr(n)),a=i?hr(n):pr(n)}l&&(t[n+1]=i?dr(o):mr(o))}function Zo(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&Xn(t,e)>=0}const Yo={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Xo(t){return t.substring(Yo.key,Yo.keyEnd)}function Jo(t,e){const n=Yo.textEnd;return n===e?-1:(e=Yo.keyEnd=function(t,e,n){for(;e<n&&t.charCodeAt(e)>32;)e++;return e}(t,Yo.key=e,n),Ko(t,e,n))}function Ko(t,e,n){for(;e<n&&t.charCodeAt(e)<=32;)e++;return e}function ts(t,e,n){return function(t,e,n,i){const r=Ee(),o=Oe(),s=ze(2);o.firstUpdatePass&&rs(o,t,s,false),e!==ar&&Po(r,s,e)&&as(o,o.data[Ke()],r,r[11],t,r[s+1]=function(t,e){return null==t||("string"==typeof e?t+=e:"object"==typeof t&&(t=tt(di(t)))),t}(e,n),false,s)}(t,e,n),ts}function es(t){!function(t,e,n,i){const r=Oe(),o=ze(2);r.firstUpdatePass&&rs(r,null,o,i);const s=Ee();if(n!==ar&&Po(s,o,n)){const a=r.data[Ke()];if(cs(a,i)&&!is(r,o)){let t=a.classesWithoutHost;null!==t&&(n=et(t,n||"")),Uo(r,a,s,n,i)}else!function(t,e,n,i,r,o,s,a){r===ar&&(r=Mt);let l=0,u=0,c=0<r.length?r[0]:null,h=0<o.length?o[0]:null;for(;null!==c||null!==h;){const s=l<r.length?r[l+1]:void 0,d=u<o.length?o[u+1]:void 0;let p,f=null;c===h?(l+=2,u+=2,s!==d&&(f=h,p=d)):null===h||null!==c&&c<h?(l+=2,f=c):(u+=2,f=h,p=d),null!==f&&as(t,e,n,i,f,p,true,a),c=l<r.length?r[l]:null,h=u<o.length?o[u]:null}}(r,a,s,s[11],s[o+1],s[o+1]=function(t,e,n){if(null==n||""===n)return Mt;const i=[],r=di(n);if(Array.isArray(r))for(let o=0;o<r.length;o++)t(i,r[o],!0);else if("object"==typeof r)for(const o in r)r.hasOwnProperty(o)&&t(i,o,r[o]);else"string"==typeof r&&e(i,r);return i}(t,e,n),0,o)}}(Zn,ns,t,!0)}function ns(t,e){for(let n=function(t){return function(t){Yo.key=0,Yo.keyEnd=0,Yo.value=0,Yo.valueEnd=0,Yo.textEnd=t.length}(t),Jo(t,Ko(t,0,Yo.textEnd))}(e);n>=0;n=Jo(e,n))Zn(t,Xo(e),!0)}function is(t,e){return e>=t.expandoStartIndex}function rs(t,e,n,i){const r=t.data;if(null===r[n+1]){const o=r[Ke()],s=is(t,n);cs(o,i)&&null===e&&!s&&(e=!1),e=function(t,e,n,i){const r=function(t){const e=Te.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}(t);let o=i?e.residualClasses:e.residualStyles;if(null===r)0===(i?e.classBindings:e.styleBindings)&&(n=ss(n=os(null,t,e,n,i),e.attrs,i),o=null);else{const s=e.directiveStylingLast;if(-1===s||t[s]!==r)if(n=os(r,t,e,n,i),null===o){let n=function(t,e,n){const i=n?e.classBindings:e.styleBindings;if(0!==pr(i))return t[hr(i)]}(t,e,i);void 0!==n&&Array.isArray(n)&&(n=os(null,t,e,n[1],i),n=ss(n,e.attrs,i),function(t,e,n,i){t[hr(n?e.classBindings:e.styleBindings)]=i}(t,e,i,n))}else o=function(t,e,n){let i;const r=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<r;o++)i=ss(i,t[o].hostAttrs,n);return ss(i,e.attrs,n)}(t,e,i)}return void 0!==o&&(i?e.residualClasses=o:e.residualStyles=o),n}(r,o,e,i),function(t,e,n,i,r,o){let s=o?e.classBindings:e.styleBindings,a=hr(s),l=pr(s);t[i]=n;let u,c=!1;if(Array.isArray(n)){const t=n;u=t[1],(null===u||Xn(t,u)>0)&&(c=!0)}else u=n;if(r)if(0!==l){const e=hr(t[a+1]);t[i+1]=cr(e,a),0!==e&&(t[e+1]=fr(t[e+1],i)),t[a+1]=131071&t[a+1]|i<<17}else t[i+1]=cr(a,0),0!==a&&(t[a+1]=fr(t[a+1],i)),a=i;else t[i+1]=cr(l,0),0===a?a=i:t[l+1]=fr(t[l+1],i),l=i;c&&(t[i+1]=dr(t[i+1])),Qo(t,u,i,!0),Qo(t,u,i,!1),function(t,e,n,i,r){const o=r?t.residualClasses:t.residualStyles;null!=o&&"string"==typeof e&&Xn(o,e)>=0&&(n[i+1]=mr(n[i+1]))}(e,u,t,i,o),s=cr(a,l),o?e.classBindings=s:e.styleBindings=s}(r,o,e,n,s,i)}}function os(t,e,n,i,r){let o=null;const s=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<s&&(o=e[a],i=ss(i,o.hostAttrs,r),o!==t);)a++;return null!==t&&(n.directiveStylingLast=a),i}function ss(t,e,n){const i=n?1:2;let r=-1;if(null!==e)for(let o=0;o<e.length;o++){const s=e[o];"number"==typeof s?r=s:r===i&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),Zn(t,s,!!n||e[++o]))}return void 0===t?null:t}function as(t,e,n,i,r,o,s,a){if(!(3&e.type))return;const l=t.data,u=l[a+1];us(1==(1&u)?ls(l,e,n,r,pr(u),s):void 0)||(us(o)||2==(2&u)&&(o=ls(l,null,n,r,a,s)),function(t,e,n,i,r){const o=fe(t);if(e)r?o?t.addClass(n,i):n.classList.add(i):o?t.removeClass(n,i):n.classList.remove(i);else{let e=-1===i.indexOf("-")?void 0:Si.DashCase;if(null==r)o?t.removeStyle(n,i,e):n.style.removeProperty(i);else{const s="string"==typeof r&&r.endsWith("!important");s&&(r=r.slice(0,-10),e|=Si.Important),o?t.setStyle(n,i,r,e):n.style.setProperty(i,r,s?"important":"")}}}(i,s,ve(Ke(),n),r,o))}function ls(t,e,n,i,r,o){const s=null===e;let a;for(;r>0;){const e=t[r],o=Array.isArray(e),l=o?e[1]:e,u=null===l;let c=n[r+1];c===ar&&(c=u?Mt:void 0);let h=u?Yn(c,i):l===i?c:void 0;if(o&&!us(h)&&(h=Yn(e,i)),us(h)&&(a=h,s))return a;const d=t[r+1];r=s?hr(d):pr(d)}if(null!==e){let t=o?e.residualClasses:e.residualStyles;null!=t&&(a=Yn(t,i))}return a}function us(t){return void 0!==t}function cs(t,e){return 0!=(t.flags&(e?16:32))}function hs(t,e=""){const n=Ee(),i=Oe(),r=t+Xt,o=i.firstCreatePass?yr(i,r,1,e,null):i.data[r],s=n[r]=function(t,e){return fe(t)?t.createText(e):t.createTextNode(e)}(n[11],e);zi(i,n,s,o),Fe(o,!1)}function ds(t){return ps("",t,""),ds}function ps(t,e,n){const i=Ee(),r=function(t,e,n,i){return Po(t,Le(),n)?e+at(n)+i:ar}(i,t,e,n);return r!==ar&&to(i,Ke(),r),ps}function fs(t,e,n,i,r){const o=Ee(),s=function(t,e,n,i,r,o){const s=Mo(t,He(),n,r);return ze(2),s?e+at(n)+i+at(r)+o:ar}(o,t,e,n,i,r);return s!==ar&&to(o,Ke(),s),fs}function ms(t,e,n,i,r,o,s){const a=Ee(),l=function(t,e,n,i,r,o,s,a){const l=function(t,e,n,i,r){const o=Mo(t,e,n,i);return Po(t,e+2,r)||o}(t,He(),n,r,s);return ze(3),l?e+at(n)+i+at(r)+o+at(s)+a:ar}(a,t,e,n,i,r,o,s);return l!==ar&&to(a,Ke(),l),ms}function gs(t,e,n,i,r,o,s,a,l){const u=Ee(),c=function(t,e,n,i,r,o,s,a,l,u){const c=function(t,e,n,i,r,o){const s=Mo(t,e,n,i);return Mo(t,e+2,r,o)||s}(t,He(),n,r,s,l);return ze(4),c?e+at(n)+i+at(r)+o+at(s)+a+at(l)+u:ar}(u,t,e,n,i,r,o,s,a,l);return c!==ar&&to(u,Ke(),c),gs}function vs(t,e,n){const i=Ee();return Po(i,Le(),e)&&Er(Oe(),en(),i,t,e,i[11],n,!0),vs}const ys=void 0;var ws=["en",[["a","p"],["AM","PM"],ys],[["AM","PM"],ys,ys],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],ys,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],ys,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",ys,"{1} 'at' {0}",ys],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(t){let e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===n?1:5}];let bs={};function _s(t){return t in bs||(bs[t]=Ot.ng&&Ot.ng.common&&Ot.ng.common.locales&&Ot.ng.common.locales[t]),bs[t]}var xs=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}({});const Cs="en-US";let Is=Cs;function Ss(t){var e,n;n="Expected localeId to be defined",null==(e=t)&&function(t,e,n,i){throw new Error(`ASSERTION ERROR: ${t} [Expected=> null != ${e} <=Actual]`)}(n,e),"string"==typeof t&&(Is=t.toLowerCase().replace(/_/g,"-"))}class ks{}class Ts{resolveComponentFactory(t){throw function(t){const e=Error(`No component factory found for ${tt(t)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=t,e}(t)}}let As=(()=>{class t{}return t.NULL=new Ts,t})();function Es(...t){}function Os(t,e){return new Ms(ye(t,e))}const Ps=function(){return Os(Me(),Ee())};let Ms=(()=>{class t{constructor(t){this.nativeElement=t}}return t.__NG_ELEMENT_ID__=Ps,t})();class Ds{}let Fs=(()=>{class t{}return t.\u0275prov=ct({token:t,providedIn:"root",factory:()=>null}),t})();class Rs{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const Ns=new Rs("11.2.14");class js{constructor(){}supports(t){return Ao(t)}create(t){return new Hs(t)}}const Us=(t,e)=>e;class Hs{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||Us}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,n=this._removalsHead,i=0,r=null;for(;e||n;){const o=!n||e&&e.currentIndex<Vs(n,i,r)?e:n,s=Vs(o,i,r),a=o.currentIndex;if(o===n)i--,n=n._nextRemoved;else if(e=e._next,null==o.previousIndex)i++;else{r||(r=[]);const t=s-i,e=a-i;if(t!=e){for(let n=0;n<t;n++){const i=n<r.length?r[n]:r[n]=0,o=i+n;e<=o&&o<t&&(r[n]=i+1)}r[o.previousIndex]=e-t}}s!==a&&t(o,s,a)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!Ao(t))throw new Error(`Error trying to diff '${tt(t)}'. Only arrays and iterables are allowed`);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e,n,i,r=this._itHead,o=!1;if(Array.isArray(t)){this.length=t.length;for(let e=0;e<this.length;e++)n=t[e],i=this._trackByFn(e,n),null!==r&&Object.is(r.trackById,i)?(o&&(r=this._verifyReinsertion(r,n,i,e)),Object.is(r.item,n)||this._addIdentityChange(r,n)):(r=this._mismatch(r,n,i,e),o=!0),r=r._next}else e=0,function(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[ko()]();let i;for(;!(i=n.next()).done;)e(i.value)}}(t,t=>{i=this._trackByFn(e,t),null!==r&&Object.is(r.trackById,i)?(o&&(r=this._verifyReinsertion(r,t,i,e)),Object.is(r.item,t)||this._addIdentityChange(r,t)):(r=this._mismatch(r,t,i,e),o=!0),r=r._next,e++}),this.length=e;return this._truncate(r),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,n,i){let r;return null===t?r=this._itTail:(r=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,r,i)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,i))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,r,i)):t=this._addAfter(new Ls(e,n),r,i),t}_verifyReinsertion(t,e,n,i){let r=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==r?t=this._reinsertAfter(r,t._prev,i):t.currentIndex!=i&&(t.currentIndex=i,this._addToMoves(t,i)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const i=t._prevRemoved,r=t._nextRemoved;return null===i?this._removalsHead=r:i._nextRemoved=r,null===r?this._removalsTail=i:r._prevRemoved=i,this._insertAfter(t,e,n),this._addToMoves(t,n),t}_moveAfter(t,e,n){return this._unlink(t),this._insertAfter(t,e,n),this._addToMoves(t,n),t}_addAfter(t,e,n){return this._insertAfter(t,e,n),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,n){const i=null===e?this._itHead:e._next;return t._next=i,t._prev=e,null===i?this._itTail=t:i._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new Gs),this._linkedRecords.put(t),t.currentIndex=n,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,n=t._next;return null===e?this._itHead=n:e._next=n,null===n?this._itTail=e:n._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Gs),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class Ls{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class zs{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let n;for(n=this._head;null!==n;n=n._nextDup)if((null===e||e<=n.currentIndex)&&Object.is(n.trackById,t))return n;return null}remove(t){const e=t._prevDup,n=t._nextDup;return null===e?this._head=n:e._nextDup=n,null===n?this._tail=e:n._prevDup=e,null===this._head}}class Gs{constructor(){this.map=new Map}put(t){const e=t.trackById;let n=this.map.get(e);n||(n=new zs,this.map.set(e,n)),n.add(t)}get(t,e){const n=this.map.get(t);return n?n.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Vs(t,e,n){const i=t.previousIndex;if(null===i)return i;let r=0;return n&&i<n.length&&(r=n[i]),i+e+r}class Ws{constructor(){}supports(t){return t instanceof Map||Eo(t)}create(){return new $s}}class $s{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||Eo(t)))throw new Error(`Error trying to diff '${tt(t)}'. Only maps and objects are allowed`)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(t,n)=>{if(e&&e.key===n)this._maybeAddToChanges(e,t),this._appendAfter=e,e=e._next;else{const i=this._getOrCreateRecordForKey(n,t);e=this._insertBeforeOrAppend(e,i)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let t=e;null!==t;t=t._nextRemoved)t===this._mapHead&&(this._mapHead=null),this._records.delete(t.key),t._nextRemoved=t._next,t.previousValue=t.currentValue,t.currentValue=null,t._prev=null,t._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const n=t._prev;return e._next=t,e._prev=n,t._prev=e,n&&(n._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const n=this._records.get(t);this._maybeAddToChanges(n,e);const i=n._prev,r=n._next;return i&&(i._next=r),r&&(r._prev=i),n._next=null,n._prev=null,n}const n=new Bs(t);return this._records.set(t,n),n.currentValue=e,this._addToAdditions(n),n}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){Object.is(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(n=>e(t[n],n))}}class Bs{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function qs(){return new Qs([new js])}let Qs=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(null!=n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>t.create(e,n||qs()),deps:[[t,new ci,new ui]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(null!=e)return e;throw new Error(`Cannot find a differ supporting object '${t}' of type '${n=t,n.name||typeof n}'`);var n}}return t.\u0275prov=ct({token:t,providedIn:"root",factory:qs}),t})();function Zs(){return new Ys([new Ws])}let Ys=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>t.create(e,n||Zs()),deps:[[t,new ci,new ui]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(e)return e;throw new Error(`Cannot find a differ supporting object '${t}'`)}}return t.\u0275prov=ct({token:t,providedIn:"root",factory:Zs}),t})();function Xs(t,e,n,i,r=!1){for(;null!==n;){const o=e[n.index];if(null!==o&&i.push(ge(o)),te(o))for(let t=Jt;t<o.length;t++){const e=o[t],n=e[1].firstChild;null!==n&&Xs(e[1],e,n,i)}const s=n.type;if(8&s)Xs(t,e,n.child,i);else if(32&s){const t=ki(n,e);let r;for(;r=t();)i.push(r)}else if(16&s){const t=Vi(e,n);if(Array.isArray(t))i.push(...t);else{const n=Ti(e[16]);Xs(n[1],n,t,i,!0)}}n=r?n.projectionNext:n.next}return i}class Js{constructor(t,e){this._lView=t,this._cdRefInjectingView=e,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const t=this._lView,e=t[1];return Xs(e,t,e.firstChild,[])}get context(){return this._lView[8]}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[3];if(te(t)){const e=t[8],n=e?e.indexOf(this):-1;n>-1&&(Fi(t,n),Qn(e,n))}this._attachedToViewContainer=!1}Ri(this._lView[1],this._lView)}onDestroy(t){!function(t,e,n,i){const r=Yr(e);r.push(i)}(0,this._lView,0,t)}markForCheck(){$r(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Br(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(t,e,n){je(!0);try{Br(t,e,n)}finally{je(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var t;this._appRef=null,Bi(this._lView[1],t=this._lView,t[11],2,null,null)}attachToAppRef(t){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}}class Ks extends Js{constructor(t){super(t),this._view=t}detectChanges(){qr(this._view)}checkNoChanges(){!function(t){je(!0);try{qr(t)}finally{je(!1)}}(this._view)}get context(){return null}}const ta=function(t=!1){return function(t,e,n){if(!n&&ne(t)){const n=_e(t.index,e);return new Js(n,n)}return 47&t.type?new Js(e[16],e):null}(Me(),Ee(),t)};let ea=(()=>{class t{}return t.__NG_ELEMENT_ID__=ta,t.__ChangeDetectorRef__=!0,t})();const na=[new Ws],ia=new Qs([new js]),ra=new Ys(na),oa=function(){return t=Me(),e=Ee(),4&t.type?new la(e,t,Os(t,e)):null;var t,e};let sa=(()=>{class t{}return t.__NG_ELEMENT_ID__=oa,t})();const aa=sa,la=class extends aa{constructor(t,e,n){super(),this._declarationLView=t,this._declarationTContainer=e,this.elementRef=n}createEmbeddedView(t){const e=this._declarationTContainer.tViews,n=vr(this._declarationLView,e,t,16,null,e.declTNode,null,null,null,null);n[17]=this._declarationLView[this._declarationTContainer.index];const i=this._declarationLView[19];return null!==i&&(n[19]=i.createEmbeddedView(e)),br(e,n,t),new Js(n)}};class ua{}class ca{}const ha=function(){return function(t,e){let n;const i=e[t.index];if(te(i))n=i;else{let r;if(8&t.type)r=ge(i);else{const n=e[11];r=n.createComment("");const i=ye(t,e);ji(n,Li(n,i),r,function(t,e){return fe(t)?t.nextSibling(e):e.nextSibling}(n,i),!1)}e[t.index]=n=Lr(i,e,r,t),Wr(e,n)}return new fa(n,t,e)}(Me(),Ee())};let da=(()=>{class t{}return t.__NG_ELEMENT_ID__=ha,t})();const pa=da,fa=class extends pa{constructor(t,e,n){super(),this._lContainer=t,this._hostTNode=e,this._hostLView=n}get element(){return Os(this._hostTNode,this._hostLView)}get injector(){return new Un(this._hostTNode,this._hostLView)}get parentInjector(){const t=Tn(this._hostTNode,this._hostLView);if(yn(t)){const e=bn(t,this._hostLView),n=wn(t);return new Un(e[1].data[n+8],e)}return new Un(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const e=ma(this._lContainer);return null!==e&&e[t]||null}get length(){return this._lContainer.length-Jt}createEmbeddedView(t,e,n){const i=t.createEmbeddedView(e||{});return this.insert(i,n),i}createComponent(t,e,n,i,r){const o=n||this.parentInjector;if(!r&&null==t.ngModule&&o){const t=o.get(ua,null);t&&(r=t)}const s=t.create(o,i,void 0,r);return this.insert(s.hostView,e),s}insert(t,e){const n=t._lView,i=n[1];if(te(n[3])){const e=this.indexOf(t);if(-1!==e)this.detach(e);else{const e=n[3],i=new fa(e,e[6],e[3]);i.detach(i.indexOf(t))}}const r=this._adjustIndex(e),o=this._lContainer;!function(t,e,n,i){const r=Jt+i,o=n.length;i>0&&(n[r-1][4]=e),i<o-Jt?(e[4]=n[r],qn(n,Jt+i,e)):(n.push(e),e[4]=null),e[3]=n;const s=e[17];null!==s&&n!==s&&function(t,e){const n=t[9];e[16]!==e[3][3][16]&&(t[2]=!0),null===n?t[9]=[e]:n.push(e)}(s,e);const a=e[19];null!==a&&a.insertView(t),e[2]|=128}(i,n,o,r);const s=Wi(r,o),a=n[11],l=Li(a,o[7]);return null!==l&&function(t,e,n,i,r,o){i[0]=r,i[6]=e,Bi(t,i,n,1,r,o)}(i,o[6],a,n,l,s),t.attachToViewContainerRef(),qn(ga(o),r,t),t}move(t,e){return this.insert(t,e)}indexOf(t){const e=ma(this._lContainer);return null!==e?e.indexOf(t):-1}remove(t){const e=this._adjustIndex(t,-1),n=Fi(this._lContainer,e);n&&(Qn(ga(this._lContainer),e),Ri(n[1],n))}detach(t){const e=this._adjustIndex(t,-1),n=Fi(this._lContainer,e);return n&&null!=Qn(ga(this._lContainer),e)?new Js(n):null}_adjustIndex(t,e=0){return null==t?this.length+e:t}};function ma(t){return t[8]}function ga(t){return t[8]||(t[8]=[])}const va={};class ya extends As{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const e=Zt(t);return new _a(e,this.ngModule)}}function wa(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}const ba=new Vn("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>xi});class _a extends ks{constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=t.selectors.map(sr).join(","),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!e}get inputs(){return wa(this.componentDef.inputs)}get outputs(){return wa(this.componentDef.outputs)}create(t,e,n,i){const r=(i=i||this.ngModule)?function(t,e){return{get:(n,i,r)=>{const o=t.get(n,va,r);return o!==va||i===va?o:e.get(n,i,r)}}}(t,i.injector):t,o=r.get(Ds,me),s=r.get(Fs,null),a=o.createRenderer(null,this.componentDef),l=this.componentDef.selectors[0][0]||"div",u=n?function(t,e,n){if(fe(t))return t.selectRootElement(e,n===St.ShadowDom);let i="string"==typeof e?t.querySelector(e):e;return i.textContent="",i}(a,n,this.componentDef.encapsulation):Mi(o.createRenderer(null,this.componentDef),l,function(t){const e=t.toLowerCase();return"svg"===e?de:"math"===e?"http://www.w3.org/1998/MathML/":null}(l)),c=this.componentDef.onPush?576:528,h={components:[],scheduler:xi,clean:Zr,playerHandler:null,flags:0},d=Tr(0,null,null,1,0,null,null,null,null,null),p=vr(null,d,h,c,null,null,o,a,s,r);let f,m;qe(p);try{const t=function(t,e,n,i,r,o){const s=n[1];n[20]=t;const a=yr(s,20,2,"#host",null),l=a.mergedAttrs=e.hostAttrs;null!==l&&(eo(a,l,!0),null!==t&&(pn(r,t,l),null!==a.classes&&Zi(r,t,a.classes),null!==a.styles&&Qi(r,t,a.styles)));const u=i.createRenderer(t,e),c=vr(n,kr(e),null,e.onPush?64:16,n[20],a,i,u,null,null);return s.firstCreatePass&&(An(In(a,n),s,e.type),Dr(s,a),Rr(a,n.length,1)),Wr(n,c),n[20]=c}(u,this.componentDef,p,o,a);if(u)if(n)pn(a,u,["ng-version",Ns.full]);else{const{attrs:t,classes:e}=function(t){const e=[],n=[];let i=1,r=2;for(;i<t.length;){let o=t[i];if("string"==typeof o)2===r?""!==o&&e.push(o,t[++i]):8===r&&n.push(o);else{if(!nr(r))break;r=o}i++}return{attrs:e,classes:n}}(this.componentDef.selectors[0]);t&&pn(a,u,t),e&&e.length>0&&Zi(a,u,e.join(" "))}if(m=we(d,Xt),void 0!==e){const t=m.projection=[];for(let n=0;n<this.ngContentSelectors.length;n++){const i=e[n];t.push(null!=i?Array.from(i):null)}}f=function(t,e,n,i,r){const o=n[1],s=function(t,e,n){const i=Me();t.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),Nr(t,i,e,wr(t,e,1,null),n));const r=Rn(e,t,i.directiveStart,i);_i(r,e);const o=ye(i,e);return o&&_i(o,e),r}(o,n,e);if(i.components.push(s),t[8]=s,r&&r.forEach(t=>t(s,e)),e.contentQueries){const t=Me();e.contentQueries(1,s,t.directiveStart)}const a=Me();return!o.firstCreatePass||null===e.hostBindings&&null===e.hostAttrs||(tn(a.index),Pr(n[1],a,0,a.directiveStart,a.directiveEnd,e),Mr(e,s)),s}(t,this.componentDef,p,h,[wo]),br(d,p,null)}finally{Je()}return new xa(this.componentType,f,Os(m,p),p,m)}}class xa extends class{}{constructor(t,e,n,i,r){super(),this.location=n,this._rootLView=i,this._tNode=r,this.instance=e,this.hostView=this.changeDetectorRef=new Ks(i),this.componentType=t}get injector(){return new Un(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}const Ca=new Map;class Ia extends ua{constructor(t,e){super(),this._parent=e,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new ya(this);const n=Yt(t),i=t[Ut]||null;i&&Ss(i),this._bootstrapComponents=Ii(n.bootstrap),this._r3Injector=co(t,e,[{provide:ua,useValue:this},{provide:As,useValue:this.componentFactoryResolver}],tt(t)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(t)}get(t,e=yo.THROW_IF_NOT_FOUND,n=wt.Default){return t===yo||t===ua||t===no?this:this._r3Injector.get(t,e,n)}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class Sa extends ca{constructor(t){super(),this.moduleType=t,null!==Yt(t)&&function(t){const e=new Set;!function t(n){const i=Yt(n,!0),r=i.id;null!==r&&(function(t,e,n){if(e&&e!==n)throw new Error(`Duplicate module registered for ${t} - ${tt(e)} vs ${tt(e.name)}`)}(r,Ca.get(r),n),Ca.set(r,n));const o=Ii(i.imports);for(const s of o)e.has(s)||(e.add(s),t(s))}(t)}(t)}create(t){return new Ia(this.moduleType,t)}}function ka(t,e){const n=t[e];return n===ar?void 0:n}function Ta(t,e){const n=Oe();let i;const r=t+Xt;n.firstCreatePass?(i=function(t,e){if(e)for(let n=e.length-1;n>=0;n--){const i=e[n];if(t===i.name)return i}throw new st("302",`The pipe '${t}' could not be found!`)}(e,n.pipeRegistry),n.data[r]=i,i.onDestroy&&(n.destroyHooks||(n.destroyHooks=[])).push(r,i.onDestroy)):i=n.data[r];const o=i.factory||(i.factory=oe(i.type)),s=_t(No);try{const t=xn(!1),e=o();return xn(t),function(t,e,n,i){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=i}(n,Ee(),r,e),e}finally{_t(s)}}function Aa(t,e,n){const i=t+Xt,r=Ee(),o=be(r,i);return function(t,e){return To.isWrapped(e)&&(e=To.unwrap(e),t[He()]=ar),e}(r,function(t,e){return t[1].data[e].pure}(r,i)?function(t,e,n,i,r,o){const s=e+n;return Po(t,s,r)?Oo(t,s+1,o?i.call(o,r):i(r)):ka(t,s+1)}(r,Ue(),e,o.transform,n,o):o.transform(n))}function Ea(t){return e=>{setTimeout(t,void 0,e)}}const Oa=class extends C{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,n){var i,r,o;let s=t,a=e||(()=>null),l=n;if(t&&"object"==typeof t){const e=t;s=null===(i=e.next)||void 0===i?void 0:i.bind(e),a=null===(r=e.error)||void 0===r?void 0:r.bind(e),l=null===(o=e.complete)||void 0===o?void 0:o.bind(e)}this.__isAsync&&(a=Ea(a),s&&(s=Ea(s)),l&&(l=Ea(l)));const u=super.subscribe({next:s,error:a,complete:l});return t instanceof h&&t.add(u),u}},Pa=new Vn("Application Initializer");let Ma=(()=>{class t{constructor(t){this.appInits=t,this.resolve=Es,this.reject=Es,this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}runInitializers(){if(this.initialized)return;const t=[],e=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let n=0;n<this.appInits.length;n++){const e=this.appInits[n]();Vo(e)&&t.push(e)}Promise.all(t).then(()=>{e()}).catch(t=>{this.reject(t)}),0===t.length&&e(),this.initialized=!0}}return t.\u0275fac=function(e){return new(e||t)(oi(Pa,8))},t.\u0275prov=ct({token:t,factory:t.\u0275fac}),t})();const Da=new Vn("AppId"),Fa={provide:Da,useFactory:function(){return`${Ra()}${Ra()}${Ra()}`},deps:[]};function Ra(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Na=new Vn("Platform Initializer"),ja=new Vn("Platform ID"),Ua=new Vn("appBootstrapListener");let Ha=(()=>{class t{log(t){console.log(t)}warn(t){console.warn(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ct({token:t,factory:t.\u0275fac}),t})();const La=new Vn("LocaleId"),za=new Vn("DefaultCurrencyCode");class Ga{constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}}const Va=function(t){return new Sa(t)},Wa=Va,$a=function(t){return Promise.resolve(Va(t))},Ba=function(t){const e=Va(t),n=Ii(Yt(t).declarations).reduce((t,e)=>{const n=Zt(e);return n&&t.push(new _a(n)),t},[]);return new Ga(e,n)},qa=Ba,Qa=function(t){return Promise.resolve(Ba(t))};let Za=(()=>{class t{constructor(){this.compileModuleSync=Wa,this.compileModuleAsync=$a,this.compileModuleAndAllComponentsSync=qa,this.compileModuleAndAllComponentsAsync=Qa}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ct({token:t,factory:t.\u0275fac}),t})();const Ya=(()=>Promise.resolve(0))();function Xa(t){"undefined"==typeof Zone?Ya.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class Ja{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:e=!1,shouldCoalesceRunChangeDetection:n=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Oa(!1),this.onMicrotaskEmpty=new Oa(!1),this.onStable=new Oa(!1),this.onError=new Oa(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!n&&e,i.shouldCoalesceRunChangeDetection=n,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function(){let t=Ot.requestAnimationFrame,e=Ot.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&e){const n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);const i=e[Zone.__symbol__("OriginalDelegate")];i&&(e=i)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function(t){const e=()=>{!function(t){-1===t.lastRequestAnimationFrameId&&(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(Ot,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,el(t),tl(t)},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),el(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,i,r,o,s,a)=>{try{return nl(t),n.invokeTask(r,o,s,a)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||t.shouldCoalesceRunChangeDetection)&&e(),il(t)}},onInvoke:(n,i,r,o,s,a,l)=>{try{return nl(t),n.invoke(r,o,s,a,l)}finally{t.shouldCoalesceRunChangeDetection&&e(),il(t)}},onHasTask:(e,n,i,r)=>{e.hasTask(i,r),n===i&&("microTask"==r.change?(t._hasPendingMicrotasks=r.microTask,el(t),tl(t)):"macroTask"==r.change&&(t.hasPendingMacrotasks=r.macroTask))},onHandleError:(e,n,i,r)=>(e.handleError(i,r),t.runOutsideAngular(()=>t.onError.emit(r)),!1)})}(i)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Ja.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Ja.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(t,e,n){return this._inner.run(t,e,n)}runTask(t,e,n,i){const r=this._inner,o=r.scheduleEventTask("NgZoneEvent: "+i,t,Ka,Es,Es);try{return r.runTask(o,e,n)}finally{r.cancelTask(o)}}runGuarded(t,e,n){return this._inner.runGuarded(t,e,n)}runOutsideAngular(t){return this._outer.run(t)}}const Ka={};function tl(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function el(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function nl(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function il(t){t._nesting--,tl(t)}class rl{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Oa,this.onMicrotaskEmpty=new Oa,this.onStable=new Oa,this.onError=new Oa}run(t,e,n){return t.apply(e,n)}runGuarded(t,e,n){return t.apply(e,n)}runOutsideAngular(t){return t()}runTask(t,e,n,i){return t.apply(e,n)}}let ol=(()=>{class t{constructor(t){this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ja.assertNotInAngularZone(),Xa(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Xa(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(e=>!e.updateCb||!e.updateCb(t)||(clearTimeout(e.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,e,n){let i=-1;e&&e>0&&(i=setTimeout(()=>{this._callbacks=this._callbacks.filter(t=>t.timeoutId!==i),t(this._didWork,this.getPendingTasks())},e)),this._callbacks.push({doneCb:t,timeoutId:i,updateCb:n})}whenStable(t,e,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(t,e,n),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(t,e,n){return[]}}return t.\u0275fac=function(e){return new(e||t)(oi(Ja))},t.\u0275prov=ct({token:t,factory:t.\u0275fac}),t})(),sl=(()=>{class t{constructor(){this._applications=new Map,ul.addToWindow(this)}registerApplication(t,e){this._applications.set(t,e)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,e=!0){return ul.findTestabilityInTree(this,t,e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ct({token:t,factory:t.\u0275fac}),t})();class al{addToWindow(t){}findTestabilityInTree(t,e,n){return null}}let ll,ul=new al,cl=!0,hl=!1;const dl=new Vn("AllowMultipleToken");class pl{constructor(t,e){this.name=t,this.token=e}}function fl(t,e,n=[]){const i=`Platform: ${e}`,r=new Vn(i);return(e=[])=>{let o=ml();if(!o||o.injector.get(dl,!1))if(t)t(n.concat(e).concat({provide:r,useValue:!0}));else{const t=n.concat(e).concat({provide:r,useValue:!0},{provide:ro,useValue:"platform"});!function(t){if(ll&&!ll.destroyed&&!ll.injector.get(dl,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");ll=t.get(gl);const e=t.get(Na,null);e&&e.forEach(t=>t())}(yo.create({providers:t,name:i}))}return function(t){const e=ml();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}(r)}}function ml(){return ll&&!ll.destroyed?ll:null}let gl=(()=>{class t{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,e){const n=function(t,e){let n;return n="noop"===t?new rl:("zone.js"===t?void 0:t)||new Ja({enableLongStackTrace:(hl=!0,cl),shouldCoalesceEventChangeDetection:!!(null==e?void 0:e.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==e?void 0:e.ngZoneRunCoalescing)}),n}(e?e.ngZone:void 0,{ngZoneEventCoalescing:e&&e.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:e&&e.ngZoneRunCoalescing||!1}),i=[{provide:Ja,useValue:n}];return n.run(()=>{const e=yo.create({providers:i,parent:this.injector,name:t.moduleType.name}),r=t.create(e),o=r.injector.get(bi,null);if(!o)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return n.runOutsideAngular(()=>{const t=n.onError.subscribe({next:t=>{o.handleError(t)}});r.onDestroy(()=>{wl(this._modules,r),t.unsubscribe()})}),function(t,e,n){try{const i=n();return Vo(i)?i.catch(n=>{throw e.runOutsideAngular(()=>t.handleError(n)),n}):i}catch(i){throw e.runOutsideAngular(()=>t.handleError(i)),i}}(o,n,()=>{const t=r.injector.get(Ma);return t.runInitializers(),t.donePromise.then(()=>(Ss(r.injector.get(La,Cs)||Cs),this._moduleDoBootstrap(r),r))})})}bootstrapModule(t,e=[]){const n=vl({},e);return function(t,e,n){const i=new Sa(n);return Promise.resolve(i)}(0,0,t).then(t=>this.bootstrapModuleFactory(t,n))}_moduleDoBootstrap(t){const e=t.injector.get(yl);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(t=>e.bootstrap(t));else{if(!t.instance.ngDoBootstrap)throw new Error(`The module ${tt(t.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);t.instance.ngDoBootstrap(e)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(t=>t.destroy()),this._destroyListeners.forEach(t=>t()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(e){return new(e||t)(oi(yo))},t.\u0275prov=ct({token:t,factory:t.\u0275fac}),t})();function vl(t,e){return Array.isArray(e)?e.reduce(vl,t):Object.assign(Object.assign({},t),e)}let yl=(()=>{class t{constructor(t,e,n,i,r){this._zone=t,this._injector=e,this._exceptionHandler=n,this._componentFactoryResolver=i,this._initStatus=r,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const o=new y(t=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{t.next(this._stable),t.complete()})}),s=new y(t=>{let e;this._zone.runOutsideAngular(()=>{e=this._zone.onStable.subscribe(()=>{Ja.assertNotInAngularZone(),Xa(()=>{this._stable||this._zone.hasPendingMacrotasks||this._zone.hasPendingMicrotasks||(this._stable=!0,t.next(!0))})})});const n=this._zone.onUnstable.subscribe(()=>{Ja.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{t.next(!1)}))});return()=>{e.unsubscribe(),n.unsubscribe()}});this.isStable=function(...t){let e=Number.POSITIVE_INFINITY,n=null,i=t[t.length-1];return S(i)?(n=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(e=t.pop())):"number"==typeof i&&(e=t.pop()),null===n&&1===t.length&&t[0]instanceof y?t[0]:V(e)(W(t,n))}(o,s.pipe(t=>{return $()((e=X,function(t){let n;n="function"==typeof e?e:function(){return e};const i=Object.create(t,Z);return i.source=t,i.subjectFactory=n,i})(t));var e}))}bootstrap(t,e){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let n;n=t instanceof ks?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(n.componentType);const i=n.isBoundToModule?void 0:this._injector.get(ua),r=n.create(yo.NULL,[],e||n.selector,i),o=r.location.nativeElement,s=r.injector.get(ol,null),a=s&&r.injector.get(sl);return s&&a&&a.registerApplication(o,s),r.onDestroy(()=>{this.detachView(r.hostView),wl(this.components,r),a&&a.unregisterApplication(o)}),this._loadComponent(r),r}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const e=t;this._views.push(e),e.attachToAppRef(this)}detachView(t){const e=t;wl(this._views,e),e.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(Ua,[]).concat(this._bootstrapListeners).forEach(e=>e(t))}ngOnDestroy(){this._views.slice().forEach(t=>t.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return t.\u0275fac=function(e){return new(e||t)(oi(Ja),oi(yo),oi(bi),oi(As),oi(Ma))},t.\u0275prov=ct({token:t,factory:t.\u0275fac}),t})();function wl(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class bl{}class _l{}const xl={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let Cl=(()=>{class t{constructor(t,e){this._compiler=t,this._config=e||xl}load(t){return this.loadAndCompile(t)}loadAndCompile(t){let[e,i]=t.split("#");return void 0===i&&(i="default"),n("zn8P")(e).then(t=>t[i]).then(t=>Il(t,e,i)).then(t=>this._compiler.compileModuleAsync(t))}loadFactory(t){let[e,i]=t.split("#"),r="NgFactory";return void 0===i&&(i="default",r=""),n("zn8P")(this._config.factoryPathPrefix+e+this._config.factoryPathSuffix).then(t=>t[i+r]).then(t=>Il(t,e,i))}}return t.\u0275fac=function(e){return new(e||t)(oi(Za),oi(_l,8))},t.\u0275prov=ct({token:t,factory:t.\u0275fac}),t})();function Il(t,e,n){if(!t)throw new Error(`Cannot find '${n}' in '${e}'`);return t}const Sl=fl(null,"core",[{provide:ja,useValue:"unknown"},{provide:gl,deps:[yo]},{provide:sl,deps:[]},{provide:Ha,deps:[]}]),kl=[{provide:yl,useClass:yl,deps:[Ja,yo,bi,As,Ma]},{provide:ba,deps:[Ja],useFactory:function(t){let e=[];return t.onStable.subscribe(()=>{for(;e.length;)e.pop()()}),function(t){e.push(t)}}},{provide:Ma,useClass:Ma,deps:[[new ui,Pa]]},{provide:Za,useClass:Za,deps:[]},Fa,{provide:Qs,useFactory:function(){return ia},deps:[]},{provide:Ys,useFactory:function(){return ra},deps:[]},{provide:La,useFactory:function(t){return Ss(t=t||"undefined"!=typeof $localize&&$localize.locale||Cs),t},deps:[[new li(La),new ui,new ci]]},{provide:za,useValue:"USD"}];let Tl=(()=>{class t{constructor(t){}}return t.\u0275fac=function(e){return new(e||t)(oi(yl))},t.\u0275mod=Bt({type:t}),t.\u0275inj=ht({providers:kl}),t})(),Al=null;function El(){return Al}const Ol=new Vn("DocumentToken");let Pl=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ct({factory:Ml,token:t,providedIn:"platform"}),t})();function Ml(){return oi(Fl)}const Dl=new Vn("Location Initialized");let Fl=(()=>{class t extends Pl{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=El().getLocation(),this._history=El().getHistory()}getBaseHrefFromDOM(){return El().getBaseHref(this._doc)}onPopState(t){El().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",t,!1)}onHashChange(t){El().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",t,!1)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,e,n){Rl()?this._history.pushState(t,e,n):this.location.hash=n}replaceState(t,e,n){Rl()?this._history.replaceState(t,e,n):this.location.hash=n}forward(){this._history.forward()}back(){this._history.back()}getState(){return this._history.state}}return t.\u0275fac=function(e){return new(e||t)(oi(Ol))},t.\u0275prov=ct({factory:Nl,token:t,providedIn:"platform"}),t})();function Rl(){return!!window.history.pushState}function Nl(){return new Fl(oi(Ol))}function jl(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function Ul(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function Hl(t){return t&&"?"!==t[0]?"?"+t:t}let Ll=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ct({factory:zl,token:t,providedIn:"root"}),t})();function zl(t){const e=oi(Ol).location;return new Vl(oi(Pl),e&&e.origin||"")}const Gl=new Vn("appBaseHref");let Vl=(()=>{class t extends Ll{constructor(t,e){if(super(),this._platformLocation=t,null==e&&(e=this._platformLocation.getBaseHrefFromDOM()),null==e)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=e}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return jl(this._baseHref,t)}path(t=!1){const e=this._platformLocation.pathname+Hl(this._platformLocation.search),n=this._platformLocation.hash;return n&&t?`${e}${n}`:e}pushState(t,e,n,i){const r=this.prepareExternalUrl(n+Hl(i));this._platformLocation.pushState(t,e,r)}replaceState(t,e,n,i){const r=this.prepareExternalUrl(n+Hl(i));this._platformLocation.replaceState(t,e,r)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return t.\u0275fac=function(e){return new(e||t)(oi(Pl),oi(Gl,8))},t.\u0275prov=ct({token:t,factory:t.\u0275fac}),t})(),Wl=(()=>{class t extends Ll{constructor(t,e){super(),this._platformLocation=t,this._baseHref="",null!=e&&(this._baseHref=e)}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}path(t=!1){let e=this._platformLocation.hash;return null==e&&(e="#"),e.length>0?e.substring(1):e}prepareExternalUrl(t){const e=jl(this._baseHref,t);return e.length>0?"#"+e:e}pushState(t,e,n,i){let r=this.prepareExternalUrl(n+Hl(i));0==r.length&&(r=this._platformLocation.pathname),this._platformLocation.pushState(t,e,r)}replaceState(t,e,n,i){let r=this.prepareExternalUrl(n+Hl(i));0==r.length&&(r=this._platformLocation.pathname),this._platformLocation.replaceState(t,e,r)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return t.\u0275fac=function(e){return new(e||t)(oi(Pl),oi(Gl,8))},t.\u0275prov=ct({token:t,factory:t.\u0275fac}),t})(),$l=(()=>{class t{constructor(t,e){this._subject=new Oa,this._urlChangeListeners=[],this._platformStrategy=t;const n=this._platformStrategy.getBaseHref();this._platformLocation=e,this._baseHref=Ul(ql(n)),this._platformStrategy.onPopState(t=>{this._subject.emit({url:this.path(!0),pop:!0,state:t.state,type:t.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,e=""){return this.path()==this.normalize(t+Hl(e))}normalize(e){return t.stripTrailingSlash(function(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,ql(e)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,e="",n=null){this._platformStrategy.pushState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Hl(e)),n)}replaceState(t,e="",n=null){this._platformStrategy.replaceState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Hl(e)),n)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(t=>{this._notifyUrlChangeListeners(t.url,t.state)}))}_notifyUrlChangeListeners(t="",e){this._urlChangeListeners.forEach(n=>n(t,e))}subscribe(t,e,n){return this._subject.subscribe({next:t,error:e,complete:n})}}return t.\u0275fac=function(e){return new(e||t)(oi(Ll),oi(Pl))},t.normalizeQueryParams=Hl,t.joinWithSlash=jl,t.stripTrailingSlash=Ul,t.\u0275prov=ct({factory:Bl,token:t,providedIn:"root"}),t})();function Bl(){return new $l(oi(Ll),oi(Pl))}function ql(t){return t.replace(/\/index.html$/,"")}var Ql=function(t){return t[t.Zero=0]="Zero",t[t.One=1]="One",t[t.Two=2]="Two",t[t.Few=3]="Few",t[t.Many=4]="Many",t[t.Other=5]="Other",t}({});class Zl{}let Yl=(()=>{class t extends Zl{constructor(t){super(),this.locale=t}getPluralCategory(t,e){switch(function(t){return function(t){const e=function(t){return t.toLowerCase().replace(/_/g,"-")}(t);let n=_s(e);if(n)return n;const i=e.split("-")[0];if(n=_s(i),n)return n;if("en"===i)return ws;throw new Error(`Missing locale data for the locale "${t}".`)}(t)[xs.PluralCase]}(e||this.locale)(t)){case Ql.Zero:return"zero";case Ql.One:return"one";case Ql.Two:return"two";case Ql.Few:return"few";case Ql.Many:return"many";default:return"other"}}}return t.\u0275fac=function(e){return new(e||t)(oi(La))},t.\u0275prov=ct({token:t,factory:t.\u0275fac}),t})();class Xl{constructor(t,e,n,i){this.$implicit=t,this.ngForOf=e,this.index=n,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Jl=(()=>{class t{constructor(t,e,n){this._viewContainer=t,this._template=e,this._differs=n,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;if(!this._differ&&n)try{this._differ=this._differs.find(n).create(this.ngForTrackBy)}catch(e){throw new Error(`Cannot find a differ supporting object '${n}' of type '${t=n,t.name||typeof t}'. NgFor only supports binding to Iterables such as Arrays.`)}}var t;if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const e=[];t.forEachOperation((t,n,i)=>{if(null==t.previousIndex){const n=this._viewContainer.createEmbeddedView(this._template,new Xl(null,this._ngForOf,-1,-1),null===i?void 0:i),r=new Kl(t,n);e.push(r)}else if(null==i)this._viewContainer.remove(null===n?void 0:n);else if(null!==n){const r=this._viewContainer.get(n);this._viewContainer.move(r,i);const o=new Kl(t,r);e.push(o)}});for(let n=0;n<e.length;n++)this._perViewChange(e[n].view,e[n].record);for(let n=0,i=this._viewContainer.length;n<i;n++){const t=this._viewContainer.get(n);t.context.index=n,t.context.count=i,t.context.ngForOf=this._ngForOf}t.forEachIdentityChange(t=>{this._viewContainer.get(t.currentIndex).context.$implicit=t.item})}_perViewChange(t,e){t.context.$implicit=e.item}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(No(da),No(sa),No(Qs))},t.\u0275dir=Qt({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),t})();class Kl{constructor(t,e){this.record=t,this.view=e}}let tu=(()=>{class t{constructor(t,e){this._viewContainer=t,this._context=new eu,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=e}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){nu("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){nu("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(No(da),No(sa))},t.\u0275dir=Qt({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),t})();class eu{constructor(){this.$implicit=null,this.ngIf=null}}function nu(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${tt(e)}'.`)}let iu=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Bt({type:t}),t.\u0275inj=ht({providers:[{provide:Zl,useClass:Yl}]}),t})(),ru=(()=>{class t{}return t.\u0275prov=ct({token:t,providedIn:"root",factory:()=>new ou(oi(Ol),window)}),t})();class ou{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const e=function(t,e){const n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if("function"==typeof t.createTreeWalker&&t.body&&(t.body.createShadowRoot||t.body.attachShadow)){const n=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT);let i=n.currentNode;for(;i;){const t=i.shadowRoot;if(t){const n=t.getElementById(e)||t.querySelector(`[name="${e}"]`);if(n)return n}i=n.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),this.attemptFocus(e))}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),n=e.left+this.window.pageXOffset,i=e.top+this.window.pageYOffset,r=this.offset();this.window.scrollTo(n-r[0],i-r[1])}attemptFocus(t){return t.focus(),this.document.activeElement===t}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=su(this.window.history)||su(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch(t){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(t){return!1}}}function su(t){return Object.getOwnPropertyDescriptor(t,"scrollRestoration")}class au extends class extends class{}{constructor(){super()}supportsDOMEvents(){return!0}}{static makeCurrent(){var t;t=new au,Al||(Al=t)}getProperty(t,e){return t[e]}log(t){window.console&&window.console.log&&window.console.log(t)}logGroup(t){window.console&&window.console.group&&window.console.group(t)}logGroupEnd(){window.console&&window.console.groupEnd&&window.console.groupEnd()}onAndCancel(t,e,n){return t.addEventListener(e,n,!1),()=>{t.removeEventListener(e,n,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){return t.parentNode&&t.parentNode.removeChild(t),t}getValue(t){return t.value}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getHistory(){return window.history}getLocation(){return window.location}getBaseHref(t){const e=uu||(uu=document.querySelector("base"),uu)?uu.getAttribute("href"):null;return null==e?null:(n=e,lu||(lu=document.createElement("a")),lu.setAttribute("href",n),"/"===lu.pathname.charAt(0)?lu.pathname:"/"+lu.pathname);var n}resetBaseElement(){uu=null}getUserAgent(){return window.navigator.userAgent}performanceNow(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}supportsCookies(){return!0}getCookie(t){return function(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const t=n.indexOf("="),[i,r]=-1==t?[n,""]:[n.slice(0,t),n.slice(t+1)];if(i.trim()===e)return decodeURIComponent(r)}return null}(document.cookie,t)}}let lu,uu=null;const cu=new Vn("TRANSITION_ID"),hu=[{provide:Pa,useFactory:function(t,e,n){return()=>{n.get(Ma).donePromise.then(()=>{const n=El();Array.prototype.slice.apply(e.querySelectorAll("style[ng-transition]")).filter(e=>e.getAttribute("ng-transition")===t).forEach(t=>n.remove(t))})}},deps:[cu,Ol,yo],multi:!0}];class du{static init(){var t;t=new du,ul=t}addToWindow(t){Ot.getAngularTestability=(e,n=!0)=>{const i=t.findTestabilityInTree(e,n);if(null==i)throw new Error("Could not find testability for element.");return i},Ot.getAllAngularTestabilities=()=>t.getAllTestabilities(),Ot.getAllAngularRootElements=()=>t.getAllRootElements(),Ot.frameworkStabilizers||(Ot.frameworkStabilizers=[]),Ot.frameworkStabilizers.push(t=>{const e=Ot.getAllAngularTestabilities();let n=e.length,i=!1;const r=function(e){i=i||e,n--,0==n&&t(i)};e.forEach(function(t){t.whenStable(r)})})}findTestabilityInTree(t,e,n){if(null==e)return null;const i=t.getTestability(e);return null!=i?i:n?El().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}const pu=new Vn("EventManagerPlugins");let fu=(()=>{class t{constructor(t,e){this._zone=e,this._eventNameToPlugin=new Map,t.forEach(t=>t.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,e,n){return this._findPluginFor(e).addEventListener(t,e,n)}addGlobalEventListener(t,e,n){return this._findPluginFor(e).addGlobalEventListener(t,e,n)}getZone(){return this._zone}_findPluginFor(t){const e=this._eventNameToPlugin.get(t);if(e)return e;const n=this._plugins;for(let i=0;i<n.length;i++){const e=n[i];if(e.supports(t))return this._eventNameToPlugin.set(t,e),e}throw new Error(`No event manager plugin found for event ${t}`)}}return t.\u0275fac=function(e){return new(e||t)(oi(pu),oi(Ja))},t.\u0275prov=ct({token:t,factory:t.\u0275fac}),t})();class mu{constructor(t){this._doc=t}addGlobalEventListener(t,e,n){const i=El().getGlobalEventTarget(this._doc,t);if(!i)throw new Error(`Unsupported event target ${i} for event ${e}`);return this.addEventListener(i,e,n)}}let gu=(()=>{class t{constructor(){this._stylesSet=new Set}addStyles(t){const e=new Set;t.forEach(t=>{this._stylesSet.has(t)||(this._stylesSet.add(t),e.add(t))}),this.onStylesAdded(e)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ct({token:t,factory:t.\u0275fac}),t})(),vu=(()=>{class t extends gu{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,e,n){t.forEach(t=>{const i=this._doc.createElement("style");i.textContent=t,n.push(e.appendChild(i))})}addHost(t){const e=[];this._addStylesToHost(this._stylesSet,t,e),this._hostNodes.set(t,e)}removeHost(t){const e=this._hostNodes.get(t);e&&e.forEach(yu),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((e,n)=>{this._addStylesToHost(t,n,e)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(yu))}}return t.\u0275fac=function(e){return new(e||t)(oi(Ol))},t.\u0275prov=ct({token:t,factory:t.\u0275fac}),t})();function yu(t){El().remove(t)}const wu={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},bu=/%COMP%/g;function _u(t,e,n){for(let i=0;i<e.length;i++){let r=e[i];Array.isArray(r)?_u(t,r,n):(r=r.replace(bu,t),n.push(r))}return n}function xu(t){return e=>{if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}let Cu=(()=>{class t{constructor(t,e,n){this.eventManager=t,this.sharedStylesHost=e,this.appId=n,this.rendererByCompId=new Map,this.defaultRenderer=new Iu(t)}createRenderer(t,e){if(!t||!e)return this.defaultRenderer;switch(e.encapsulation){case St.Emulated:{let n=this.rendererByCompId.get(e.id);return n||(n=new Su(this.eventManager,this.sharedStylesHost,e,this.appId),this.rendererByCompId.set(e.id,n)),n.applyToHost(t),n}case 1:case St.ShadowDom:return new ku(this.eventManager,this.sharedStylesHost,t,e);default:if(!this.rendererByCompId.has(e.id)){const t=_u(e.id,e.styles,[]);this.sharedStylesHost.addStyles(t),this.rendererByCompId.set(e.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return t.\u0275fac=function(e){return new(e||t)(oi(fu),oi(vu),oi(Da))},t.\u0275prov=ct({token:t,factory:t.\u0275fac}),t})();class Iu{constructor(t){this.eventManager=t,this.data=Object.create(null)}destroy(){}createElement(t,e){return e?document.createElementNS(wu[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,n){t&&t.insertBefore(e,n)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let n="string"==typeof t?document.querySelector(t):t;if(!n)throw new Error(`The selector "${t}" did not match any elements`);return e||(n.textContent=""),n}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,n,i){if(i){e=i+":"+e;const r=wu[i];r?t.setAttributeNS(r,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)}removeAttribute(t,e,n){if(n){const i=wu[n];i?t.removeAttributeNS(i,e):t.removeAttribute(`${n}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,n,i){i&(Si.DashCase|Si.Important)?t.style.setProperty(e,n,i&Si.Important?"important":""):t.style[e]=n}removeStyle(t,e,n){n&Si.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,n){t[e]=n}setValue(t,e){t.nodeValue=e}listen(t,e,n){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,xu(n)):this.eventManager.addEventListener(t,e,xu(n))}}class Su extends Iu{constructor(t,e,n,i){super(t),this.component=n;const r=_u(i+"-"+n.id,n.styles,[]);e.addStyles(r),this.contentAttr="_ngcontent-%COMP%".replace(bu,i+"-"+n.id),this.hostAttr="_nghost-%COMP%".replace(bu,i+"-"+n.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const n=super.createElement(t,e);return super.setAttribute(n,this.contentAttr,""),n}}class ku extends Iu{constructor(t,e,n,i){super(t),this.sharedStylesHost=e,this.hostEl=n,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const r=_u(i.id,i.styles,[]);for(let o=0;o<r.length;o++){const t=document.createElement("style");t.textContent=r[o],this.shadowRoot.appendChild(t)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,n){return super.insertBefore(this.nodeOrShadowRoot(t),e,n)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let Tu=(()=>{class t extends mu{constructor(t){super(t)}supports(t){return!0}addEventListener(t,e,n){return t.addEventListener(e,n,!1),()=>this.removeEventListener(t,e,n)}removeEventListener(t,e,n){return t.removeEventListener(e,n)}}return t.\u0275fac=function(e){return new(e||t)(oi(Ol))},t.\u0275prov=ct({token:t,factory:t.\u0275fac}),t})();const Au=["alt","control","meta","shift"],Eu={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Ou={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Pu={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let Mu=(()=>{class t extends mu{constructor(t){super(t)}supports(e){return null!=t.parseEventName(e)}addEventListener(e,n,i){const r=t.parseEventName(n),o=t.eventCallback(r.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>El().onAndCancel(e,r.domEventName,o))}static parseEventName(e){const n=e.toLowerCase().split("."),i=n.shift();if(0===n.length||"keydown"!==i&&"keyup"!==i)return null;const r=t._normalizeKey(n.pop());let o="";if(Au.forEach(t=>{const e=n.indexOf(t);e>-1&&(n.splice(e,1),o+=t+".")}),o+=r,0!=n.length||0===r.length)return null;const s={};return s.domEventName=i,s.fullKey=o,s}static getEventFullKey(t){let e="",n=function(t){let e=t.key;if(null==e){if(e=t.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&Ou.hasOwnProperty(e)&&(e=Ou[e]))}return Eu[e]||e}(t);return n=n.toLowerCase()," "===n?n="space":"."===n&&(n="dot"),Au.forEach(i=>{i!=n&&(0,Pu[i])(t)&&(e+=i+".")}),e+=n,e}static eventCallback(e,n,i){return r=>{t.getEventFullKey(r)===e&&i.runGuarded(()=>n(r))}}static _normalizeKey(t){switch(t){case"esc":return"escape";default:return t}}}return t.\u0275fac=function(e){return new(e||t)(oi(Ol))},t.\u0275prov=ct({token:t,factory:t.\u0275fac}),t})();const Du=fl(Sl,"browser",[{provide:ja,useValue:"browser"},{provide:Na,useValue:function(){au.makeCurrent(),du.init()},multi:!0},{provide:Ol,useFactory:function(){return function(t){pe=t}(document),document},deps:[]}]),Fu=[[],{provide:ro,useValue:"root"},{provide:bi,useFactory:function(){return new bi},deps:[]},{provide:pu,useClass:Tu,multi:!0,deps:[Ol,Ja,ja]},{provide:pu,useClass:Mu,multi:!0,deps:[Ol]},[],{provide:Cu,useClass:Cu,deps:[fu,vu,Da]},{provide:Ds,useExisting:Cu},{provide:gu,useExisting:vu},{provide:vu,useClass:vu,deps:[Ol]},{provide:ol,useClass:ol,deps:[Ja]},{provide:fu,useClass:fu,deps:[pu,Ja]},[]];let Ru=(()=>{class t{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:t,providers:[{provide:Da,useValue:e.appId},{provide:cu,useExisting:Da},hu]}}}return t.\u0275fac=function(e){return new(e||t)(oi(t,12))},t.\u0275mod=Bt({type:t}),t.\u0275inj=ht({providers:Fu,imports:[iu,Tl]}),t})();function Nu(...t){let e=t[t.length-1];return S(e)?(t.pop(),R(t,e)):W(t)}"undefined"!=typeof window&&window;class ju extends C{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return e&&!e.closed&&t.next(this._value),e}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new b;return this._value}next(t){super.next(this._value=t)}}class Uu extends f{notifyNext(t,e,n,i,r){this.destination.next(e)}notifyError(t,e){this.destination.error(t)}notifyComplete(t){this.destination.complete()}}class Hu extends f{constructor(t,e,n){super(),this.parent=t,this.outerValue=e,this.outerIndex=n,this.index=0}_next(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}_error(t){this.parent.notifyError(t,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}function Lu(t,e,n,i,r=new Hu(t,n,i)){if(!r.closed)return e instanceof y?e.subscribe(r):F(e)(r)}const zu={};class Gu{constructor(t){this.resultSelector=t}call(t,e){return e.subscribe(new Vu(t,this.resultSelector))}}class Vu extends Uu{constructor(t,e){super(t),this.resultSelector=e,this.active=0,this.values=[],this.observables=[]}_next(t){this.values.push(zu),this.observables.push(t)}_complete(){const t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(let n=0;n<e;n++)this.add(Lu(this,t[n],void 0,n))}}notifyComplete(t){0==(this.active-=1)&&this.destination.complete()}notifyNext(t,e,n){const i=this.values,r=this.toRespond?i[n]===zu?--this.toRespond:this.toRespond:0;i[n]=e,0===r&&(this.resultSelector?this._tryResultSelector(i):this.destination.next(i.slice()))}_tryResultSelector(t){let e;try{e=this.resultSelector.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}const Wu=(()=>{function t(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return t.prototype=Object.create(Error.prototype),t})();function $u(...t){return V(1)(Nu(...t))}const Bu=new y(t=>t.complete());function qu(t){return t?function(t){return new y(e=>t.schedule(()=>e.complete()))}(t):Bu}function Qu(t){return new y(e=>{let n;try{n=t()}catch(i){return void e.error(i)}return(n?N(n):qu()).subscribe(e)})}function Zu(t,e){return"function"==typeof e?n=>n.pipe(Zu((n,i)=>N(t(n,i)).pipe(k((t,r)=>e(n,t,i,r))))):e=>e.lift(new Yu(t))}class Yu{constructor(t){this.project=t}call(t,e){return e.subscribe(new Xu(t,this.project))}}class Xu extends U{constructor(t,e){super(t),this.project=e,this.index=0}_next(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(i){return void this.destination.error(i)}this._innerSub(e)}_innerSub(t){const e=this.innerSubscription;e&&e.unsubscribe();const n=new j(this),i=this.destination;i.add(n),this.innerSubscription=H(t,n),this.innerSubscription!==n&&i.add(this.innerSubscription)}_complete(){const{innerSubscription:t}=this;t&&!t.closed||super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(t){this.destination.next(t)}}const Ju=(()=>{function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t})();function Ku(t){return e=>0===t?qu():e.lift(new tc(t))}class tc{constructor(t){if(this.total=t,this.total<0)throw new Ju}call(t,e){return e.subscribe(new ec(t,this.total))}}class ec extends f{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){const e=this.total,n=++this.count;n<=e&&(this.destination.next(t),n===e&&(this.destination.complete(),this.unsubscribe()))}}function nc(t,e){let n=!1;return arguments.length>=2&&(n=!0),function(i){return i.lift(new ic(t,e,n))}}class ic{constructor(t,e,n=!1){this.accumulator=t,this.seed=e,this.hasSeed=n}call(t,e){return e.subscribe(new rc(t,this.accumulator,this.seed,this.hasSeed))}}class rc extends f{constructor(t,e,n,i){super(t),this.accumulator=e,this._seed=n,this.hasSeed=i,this.index=0}get seed(){return this._seed}set seed(t){this.hasSeed=!0,this._seed=t}_next(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}_tryNext(t){const e=this.index++;let n;try{n=this.accumulator(this.seed,t,e)}catch(i){this.destination.error(i)}this.seed=n,this.destination.next(n)}}function oc(t,e){return function(n){return n.lift(new sc(t,e))}}class sc{constructor(t,e){this.predicate=t,this.thisArg=e}call(t,e){return e.subscribe(new ac(t,this.predicate,this.thisArg))}}class ac extends f{constructor(t,e,n){super(t),this.predicate=e,this.thisArg=n,this.count=0}_next(t){let e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}e&&this.destination.next(t)}}function lc(t){return function(e){const n=new uc(t),i=e.lift(n);return n.caught=i}}class uc{constructor(t){this.selector=t}call(t,e){return e.subscribe(new cc(t,this.selector,this.caught))}}class cc extends U{constructor(t,e,n){super(t),this.selector=e,this.caught=n}error(t){if(!this.isStopped){let n;try{n=this.selector(t,this.caught)}catch(e){return void super.error(e)}this._unsubscribeAndRecycle();const i=new j(this);this.add(i);const r=H(n,i);r!==i&&this.add(r)}}}function hc(t,e){return L(t,e,1)}function dc(t){return function(e){return 0===t?qu():e.lift(new pc(t))}}class pc{constructor(t){if(this.total=t,this.total<0)throw new Ju}call(t,e){return e.subscribe(new fc(t,this.total))}}class fc extends f{constructor(t,e){super(t),this.total=e,this.ring=new Array,this.count=0}_next(t){const e=this.ring,n=this.total,i=this.count++;e.length<n?e.push(t):e[i%n]=t}_complete(){const t=this.destination;let e=this.count;if(e>0){const n=this.count>=this.total?this.total:this.count,i=this.ring;for(let r=0;r<n;r++){const r=e++%n;t.next(i[r])}}t.complete()}}function mc(t=yc){return e=>e.lift(new gc(t))}class gc{constructor(t){this.errorFactory=t}call(t,e){return e.subscribe(new vc(t,this.errorFactory))}}class vc extends f{constructor(t,e){super(t),this.errorFactory=e,this.hasValue=!1}_next(t){this.hasValue=!0,this.destination.next(t)}_complete(){if(this.hasValue)return this.destination.complete();{let e;try{e=this.errorFactory()}catch(t){e=t}this.destination.error(e)}}}function yc(){return new Wu}function wc(t=null){return e=>e.lift(new bc(t))}class bc{constructor(t){this.defaultValue=t}call(t,e){return e.subscribe(new _c(t,this.defaultValue))}}class _c extends f{constructor(t,e){super(t),this.defaultValue=e,this.isEmpty=!0}_next(t){this.isEmpty=!1,this.destination.next(t)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}function xc(t,e){const n=arguments.length>=2;return i=>i.pipe(t?oc((e,n)=>t(e,n,i)):v,Ku(1),n?wc(e):mc(()=>new Wu))}function Cc(){}function Ic(t,e,n){return function(i){return i.lift(new Sc(t,e,n))}}class Sc{constructor(t,e,n){this.nextOrObserver=t,this.error=e,this.complete=n}call(t,e){return e.subscribe(new kc(t,this.nextOrObserver,this.error,this.complete))}}class kc extends f{constructor(t,e,n,r){super(t),this._tapNext=Cc,this._tapError=Cc,this._tapComplete=Cc,this._tapError=n||Cc,this._tapComplete=r||Cc,i(e)?(this._context=this,this._tapNext=e):e&&(this._context=e,this._tapNext=e.next||Cc,this._tapError=e.error||Cc,this._tapComplete=e.complete||Cc)}_next(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)}_error(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)}_complete(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()}}class Tc{constructor(t){this.callback=t}call(t,e){return e.subscribe(new Ac(t,this.callback))}}class Ac extends f{constructor(t,e){super(t),this.add(new h(e))}}class Ec{constructor(t,e){this.id=t,this.url=e}}class Oc extends Ec{constructor(t,e,n="imperative",i=null){super(t,e),this.navigationTrigger=n,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Pc extends Ec{constructor(t,e,n){super(t,e),this.urlAfterRedirects=n}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Mc extends Ec{constructor(t,e,n){super(t,e),this.reason=n}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Dc extends Ec{constructor(t,e,n){super(t,e),this.error=n}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Fc extends Ec{constructor(t,e,n,i){super(t,e),this.urlAfterRedirects=n,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Rc extends Ec{constructor(t,e,n,i){super(t,e),this.urlAfterRedirects=n,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Nc extends Ec{constructor(t,e,n,i,r){super(t,e),this.urlAfterRedirects=n,this.state=i,this.shouldActivate=r}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class jc extends Ec{constructor(t,e,n,i){super(t,e),this.urlAfterRedirects=n,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Uc extends Ec{constructor(t,e,n,i){super(t,e),this.urlAfterRedirects=n,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Hc{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Lc{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class zc{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Gc{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Vc{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Wc{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class $c{constructor(t,e,n){this.routerEvent=t,this.position=e,this.anchor=n}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const Bc="primary";class qc{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function Qc(t){return new qc(t)}function Zc(t){const e=Error("NavigationCancelingError: "+t);return e.ngNavigationCancelingError=!0,e}function Yc(t,e,n){const i=n.path.split("/");if(i.length>t.length)return null;if("full"===n.pathMatch&&(e.hasChildren()||i.length<t.length))return null;const r={};for(let o=0;o<i.length;o++){const e=i[o],n=t[o];if(e.startsWith(":"))r[e.substring(1)]=n;else if(e!==n.path)return null}return{consumed:t.slice(0,i.length),posParams:r}}function Xc(t,e){const n=t?Object.keys(t):void 0,i=e?Object.keys(e):void 0;if(!n||!i||n.length!=i.length)return!1;let r;for(let o=0;o<n.length;o++)if(r=n[o],!Jc(t[r],e[r]))return!1;return!0}function Jc(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),i=[...e].sort();return n.every((t,e)=>i[e]===t)}return t===e}function Kc(t){return Array.prototype.concat.apply([],t)}function th(t){return t.length>0?t[t.length-1]:null}function eh(t,e){for(const n in t)t.hasOwnProperty(n)&&e(t[n],n)}function nh(t){return(e=t)&&"function"==typeof e.subscribe?t:Vo(t)?N(Promise.resolve(t)):Nu(t);var e}function ih(t,e,n){return n?function(t,e){return Xc(t,e)}(t.queryParams,e.queryParams)&&rh(t.root,e.root):function(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>Jc(t[n],e[n]))}(t.queryParams,e.queryParams)&&oh(t.root,e.root)}function rh(t,e){if(!ch(t.segments,e.segments))return!1;if(t.numberOfChildren!==e.numberOfChildren)return!1;for(const n in e.children){if(!t.children[n])return!1;if(!rh(t.children[n],e.children[n]))return!1}return!0}function oh(t,e){return sh(t,e,e.segments)}function sh(t,e,n){if(t.segments.length>n.length)return!!ch(t.segments.slice(0,n.length),n)&&!e.hasChildren();if(t.segments.length===n.length){if(!ch(t.segments,n))return!1;for(const n in e.children){if(!t.children[n])return!1;if(!oh(t.children[n],e.children[n]))return!1}return!0}{const i=n.slice(0,t.segments.length),r=n.slice(t.segments.length);return!!ch(t.segments,i)&&!!t.children.primary&&sh(t.children.primary,e,r)}}class ah{constructor(t,e,n){this.root=t,this.queryParams=e,this.fragment=n}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Qc(this.queryParams)),this._queryParamMap}toString(){return ph.serialize(this)}}class lh{constructor(t,e){this.segments=t,this.children=e,this.parent=null,eh(e,(t,e)=>t.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return fh(this)}}class uh{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=Qc(this.parameters)),this._parameterMap}toString(){return _h(this)}}function ch(t,e){return t.length===e.length&&t.every((t,n)=>t.path===e[n].path)}class hh{}class dh{parse(t){const e=new kh(t);return new ah(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){var e;return`/${mh(t.root,!0)}${function(t){const e=Object.keys(t).map(e=>{const n=t[e];return Array.isArray(n)?n.map(t=>`${vh(e)}=${vh(t)}`).join("&"):`${vh(e)}=${vh(n)}`});return e.length?`?${e.join("&")}`:""}(t.queryParams)}${"string"==typeof t.fragment?`#${e=t.fragment,encodeURI(e)}`:""}`}}const ph=new dh;function fh(t){return t.segments.map(t=>_h(t)).join("/")}function mh(t,e){if(!t.hasChildren())return fh(t);if(e){const e=t.children.primary?mh(t.children.primary,!1):"",n=[];return eh(t.children,(t,e)=>{e!==Bc&&n.push(`${e}:${mh(t,!1)}`)}),n.length>0?`${e}(${n.join("//")})`:e}{const e=function(t,e){let n=[];return eh(t.children,(t,i)=>{i===Bc&&(n=n.concat(e(t,i)))}),eh(t.children,(t,i)=>{i!==Bc&&(n=n.concat(e(t,i)))}),n}(t,(e,n)=>n===Bc?[mh(t.children.primary,!1)]:[`${n}:${mh(e,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children.primary?`${fh(t)}/${e[0]}`:`${fh(t)}/(${e.join("//")})`}}function gh(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function vh(t){return gh(t).replace(/%3B/gi,";")}function yh(t){return gh(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function wh(t){return decodeURIComponent(t)}function bh(t){return wh(t.replace(/\+/g,"%20"))}function _h(t){return`${yh(t.path)}${e=t.parameters,Object.keys(e).map(t=>`;${yh(t)}=${yh(e[t])}`).join("")}`;var e}const xh=/^[^\/()?;=#]+/;function Ch(t){const e=t.match(xh);return e?e[0]:""}const Ih=/^[^=?&#]+/,Sh=/^[^?&#]+/;class kh{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new lh([],{}):new lh([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(n.primary=new lh(t,e)),n}parseSegment(){const t=Ch(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new uh(wh(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=Ch(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=Ch(this.remaining);t&&(n=t,this.capture(n))}t[wh(e)]=wh(n)}parseQueryParam(t){const e=function(t){const e=t.match(Ih);return e?e[0]:""}(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=function(t){const e=t.match(Sh);return e?e[0]:""}(this.remaining);t&&(n=t,this.capture(n))}const i=bh(e),r=bh(n);if(t.hasOwnProperty(i)){let e=t[i];Array.isArray(e)||(e=[e],t[i]=e),e.push(r)}else t[i]=r}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const n=Ch(this.remaining),i=this.remaining[n.length];if("/"!==i&&")"!==i&&";"!==i)throw new Error(`Cannot parse url '${this.url}'`);let r;n.indexOf(":")>-1?(r=n.substr(0,n.indexOf(":")),this.capture(r),this.capture(":")):t&&(r=Bc);const o=this.parseChildren();e[r]=1===Object.keys(o).length?o.primary:new lh([],o),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class Th{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=Ah(t,this._root);return e?e.children.map(t=>t.value):[]}firstChild(t){const e=Ah(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=Eh(t,this._root);return e.length<2?[]:e[e.length-2].children.map(t=>t.value).filter(e=>e!==t)}pathFromRoot(t){return Eh(t,this._root).map(t=>t.value)}}function Ah(t,e){if(t===e.value)return e;for(const n of e.children){const e=Ah(t,n);if(e)return e}return null}function Eh(t,e){if(t===e.value)return[e];for(const n of e.children){const i=Eh(t,n);if(i.length)return i.unshift(e),i}return[]}class Oh{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function Ph(t){const e={};return t&&t.children.forEach(t=>e[t.value.outlet]=t),e}class Mh extends Th{constructor(t,e){super(t),this.snapshot=e,Uh(this,t)}toString(){return this.snapshot.toString()}}function Dh(t,e){const n=function(t,e){const n=new Nh([],{},{},"",{},Bc,e,null,t.root,-1,{});return new jh("",new Oh(n,[]))}(t,e),i=new ju([new uh("",{})]),r=new ju({}),o=new ju({}),s=new ju({}),a=new ju(""),l=new Fh(i,r,s,a,o,Bc,e,n.root);return l.snapshot=n.root,new Mh(new Oh(l,[]),n)}class Fh{constructor(t,e,n,i,r,o,s,a){this.url=t,this.params=e,this.queryParams=n,this.fragment=i,this.data=r,this.outlet=o,this.component=s,this._futureSnapshot=a}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(k(t=>Qc(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(k(t=>Qc(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Rh(t,e="emptyOnly"){const n=t.pathFromRoot;let i=0;if("always"!==e)for(i=n.length-1;i>=1;){const t=n[i],e=n[i-1];if(t.routeConfig&&""===t.routeConfig.path)i--;else{if(e.component)break;i--}}return function(t){return t.reduce((t,e)=>({params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}),{params:{},data:{},resolve:{}})}(n.slice(i))}class Nh{constructor(t,e,n,i,r,o,s,a,l,u,c){this.url=t,this.params=e,this.queryParams=n,this.fragment=i,this.data=r,this.outlet=o,this.component=s,this.routeConfig=a,this._urlSegment=l,this._lastPathIndex=u,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Qc(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Qc(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(t=>t.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class jh extends Th{constructor(t,e){super(e),this.url=t,Uh(this,e)}toString(){return Hh(this._root)}}function Uh(t,e){e.value._routerState=t,e.children.forEach(e=>Uh(t,e))}function Hh(t){const e=t.children.length>0?` { ${t.children.map(Hh).join(", ")} } `:"";return`${t.value}${e}`}function Lh(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Xc(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),Xc(e.params,n.params)||t.params.next(n.params),function(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!Xc(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),Xc(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function zh(t,e){var n,i;return Xc(t.params,e.params)&&ch(n=t.url,i=e.url)&&n.every((t,e)=>Xc(t.parameters,i[e].parameters))&&!(!t.parent!=!e.parent)&&(!t.parent||zh(t.parent,e.parent))}function Gh(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){const i=n.value;i._futureSnapshot=e.value;const r=function(t,e,n){return e.children.map(e=>{for(const i of n.children)if(t.shouldReuseRoute(e.value,i.value.snapshot))return Gh(t,e,i);return Gh(t,e)})}(t,e,n);return new Oh(i,r)}{if(t.shouldAttach(e.value)){const n=t.retrieve(e.value);if(null!==n){const t=n.route;return Vh(e,t),t}}const n=new Fh(new ju((i=e.value).url),new ju(i.params),new ju(i.queryParams),new ju(i.fragment),new ju(i.data),i.outlet,i.component,i),r=e.children.map(e=>Gh(t,e));return new Oh(n,r)}var i}function Vh(t,e){if(t.value.routeConfig!==e.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(t.children.length!==e.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");e.value._futureSnapshot=t.value;for(let n=0;n<t.children.length;++n)Vh(t.children[n],e.children[n])}function Wh(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function $h(t){return"object"==typeof t&&null!=t&&t.outlets}function Bh(t,e,n,i,r){let o={};return i&&eh(i,(t,e)=>{o[e]=Array.isArray(t)?t.map(t=>`${t}`):`${t}`}),new ah(n.root===t?e:qh(n.root,t,e),o,r)}function qh(t,e,n){const i={};return eh(t.children,(t,r)=>{i[r]=t===e?n:qh(t,e,n)}),new lh(t.segments,i)}class Qh{constructor(t,e,n){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=n,t&&n.length>0&&Wh(n[0]))throw new Error("Root segment cannot have matrix parameters");const i=n.find($h);if(i&&i!==th(n))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Zh{constructor(t,e,n){this.segmentGroup=t,this.processChildren=e,this.index=n}}function Yh(t,e,n){if(t||(t=new lh([],{})),0===t.segments.length&&t.hasChildren())return Xh(t,e,n);const i=function(t,e,n){let i=0,r=e;const o={match:!1,pathIndex:0,commandIndex:0};for(;r<t.segments.length;){if(i>=n.length)return o;const e=t.segments[r],s=n[i];if($h(s))break;const a=`${s}`,l=i<n.length-1?n[i+1]:null;if(r>0&&void 0===a)break;if(a&&l&&"object"==typeof l&&void 0===l.outlets){if(!ed(a,l,e))return o;i+=2}else{if(!ed(a,{},e))return o;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(t,e,n),r=n.slice(i.commandIndex);if(i.match&&i.pathIndex<t.segments.length){const e=new lh(t.segments.slice(0,i.pathIndex),{});return e.children.primary=new lh(t.segments.slice(i.pathIndex),t.children),Xh(e,0,r)}return i.match&&0===r.length?new lh(t.segments,{}):i.match&&!t.hasChildren()?Jh(t,e,n):i.match?Xh(t,0,r):Jh(t,e,n)}function Xh(t,e,n){if(0===n.length)return new lh(t.segments,{});{const i=function(t){return $h(t[0])?t[0].outlets:{[Bc]:t}}(n),r={};return eh(i,(n,i)=>{"string"==typeof n&&(n=[n]),null!==n&&(r[i]=Yh(t.children[i],e,n))}),eh(t.children,(t,e)=>{void 0===i[e]&&(r[e]=t)}),new lh(t.segments,r)}}function Jh(t,e,n){const i=t.segments.slice(0,e);let r=0;for(;r<n.length;){const o=n[r];if($h(o)){const t=Kh(o.outlets);return new lh(i,t)}if(0===r&&Wh(n[0])){i.push(new uh(t.segments[e].path,td(n[0]))),r++;continue}const s=$h(o)?o.outlets.primary:`${o}`,a=r<n.length-1?n[r+1]:null;s&&a&&Wh(a)?(i.push(new uh(s,td(a))),r+=2):(i.push(new uh(s,{})),r++)}return new lh(i,{})}function Kh(t){const e={};return eh(t,(t,n)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[n]=Jh(new lh([],{}),0,t))}),e}function td(t){const e={};return eh(t,(t,n)=>e[n]=`${t}`),e}function ed(t,e,n){return t==n.path&&Xc(e,n.parameters)}class nd{constructor(t,e,n,i){this.routeReuseStrategy=t,this.futureState=e,this.currState=n,this.forwardEvent=i}activate(t){const e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,t),Lh(this.futureState.root),this.activateChildRoutes(e,n,t)}deactivateChildRoutes(t,e,n){const i=Ph(e);t.children.forEach(t=>{const e=t.value.outlet;this.deactivateRoutes(t,i[e],n),delete i[e]}),eh(i,(t,e)=>{this.deactivateRouteAndItsChildren(t,n)})}deactivateRoutes(t,e,n){const i=t.value,r=e?e.value:null;if(i===r)if(i.component){const r=n.getContext(i.outlet);r&&this.deactivateChildRoutes(t,e,r.children)}else this.deactivateChildRoutes(t,e,n);else r&&this.deactivateRouteAndItsChildren(e,n)}deactivateRouteAndItsChildren(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const n=e.getContext(t.value.outlet);if(n&&n.outlet){const e=n.outlet.detach(),i=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:e,route:t,contexts:i})}}deactivateRouteAndOutlet(t,e){const n=e.getContext(t.value.outlet),i=n&&t.value.component?n.children:e,r=Ph(t);for(const o of Object.keys(r))this.deactivateRouteAndItsChildren(r[o],i);n&&n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated(),n.attachRef=null,n.resolver=null,n.route=null)}activateChildRoutes(t,e,n){const i=Ph(e);t.children.forEach(t=>{this.activateRoutes(t,i[t.value.outlet],n),this.forwardEvent(new Wc(t.value.snapshot))}),t.children.length&&this.forwardEvent(new Gc(t.value.snapshot))}activateRoutes(t,e,n){const i=t.value,r=e?e.value:null;if(Lh(i),i===r)if(i.component){const r=n.getOrCreateContext(i.outlet);this.activateChildRoutes(t,e,r.children)}else this.activateChildRoutes(t,e,n);else if(i.component){const e=n.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const t=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),e.children.onOutletReAttached(t.contexts),e.attachRef=t.componentRef,e.route=t.route.value,e.outlet&&e.outlet.attach(t.componentRef,t.route.value),id(t.route)}else{const n=function(t){for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(i.snapshot),r=n?n.module.componentFactoryResolver:null;e.attachRef=null,e.route=i,e.resolver=r,e.outlet&&e.outlet.activateWith(i,r),this.activateChildRoutes(t,null,e.children)}}else this.activateChildRoutes(t,null,n)}}function id(t){Lh(t.value),t.children.forEach(id)}class rd{constructor(t,e){this.routes=t,this.module=e}}function od(t){return"function"==typeof t}function sd(t){return t instanceof ah}const ad=Symbol("INITIAL_VALUE");function ld(){return Zu(t=>function(...t){let e,n;return S(t[t.length-1])&&(n=t.pop()),"function"==typeof t[t.length-1]&&(e=t.pop()),1===t.length&&l(t[0])&&(t=t[0]),W(t,n).lift(new Gu(e))}(t.map(t=>t.pipe(Ku(1),function(...t){const e=t[t.length-1];return S(e)?(t.pop(),n=>$u(t,n,e)):e=>$u(t,e)}(ad)))).pipe(nc((t,e)=>{let n=!1;return e.reduce((t,i,r)=>{if(t!==ad)return t;if(i===ad&&(n=!0),!n){if(!1===i)return i;if(r===e.length-1||sd(i))return i}return t},t)},ad),oc(t=>t!==ad),k(t=>sd(t)?t:!0===t),Ku(1)))}let ud=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=Gt({type:t,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,e){1&t&&zo(0,"router-outlet")},directives:function(){return[ip]},encapsulation:2}),t})();function cd(t,e=""){for(let n=0;n<t.length;n++){const i=t[n];hd(i,dd(e,i))}}function hd(t,e){t.children&&cd(t.children,e)}function dd(t,e){return e?t||e.path?t&&!e.path?`${t}/`:!t&&e.path?e.path:`${t}/${e.path}`:"":t}function pd(t){const e=t.children&&t.children.map(pd),n=e?Object.assign(Object.assign({},t),{children:e}):Object.assign({},t);return!n.component&&(e||n.loadChildren)&&n.outlet&&n.outlet!==Bc&&(n.component=ud),n}function fd(t){return t.outlet||Bc}function md(t,e){const n=t.filter(t=>fd(t)===e);return n.push(...t.filter(t=>fd(t)!==e)),n}const gd={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function vd(t,e,n){var i;if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?Object.assign({},gd):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const r=(e.matcher||Yc)(n,t,e);if(!r)return Object.assign({},gd);const o={};eh(r.posParams,(t,e)=>{o[e]=t.path});const s=r.consumed.length>0?Object.assign(Object.assign({},o),r.consumed[r.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:r.consumed,lastChild:r.consumed.length,parameters:s,positionalParamSegments:null!==(i=r.posParams)&&void 0!==i?i:{}}}function yd(t,e,n,i,r="corrected"){if(n.length>0&&function(t,e,n){return n.some(n=>wd(t,e,n)&&fd(n)!==Bc)}(t,n,i)){const r=new lh(e,function(t,e,n,i){const r={};r.primary=i,i._sourceSegment=t,i._segmentIndexShift=e.length;for(const o of n)if(""===o.path&&fd(o)!==Bc){const n=new lh([],{});n._sourceSegment=t,n._segmentIndexShift=e.length,r[fd(o)]=n}return r}(t,e,i,new lh(n,t.children)));return r._sourceSegment=t,r._segmentIndexShift=e.length,{segmentGroup:r,slicedSegments:[]}}if(0===n.length&&function(t,e,n){return n.some(n=>wd(t,e,n))}(t,n,i)){const o=new lh(t.segments,function(t,e,n,i,r,o){const s={};for(const a of i)if(wd(t,n,a)&&!r[fd(a)]){const n=new lh([],{});n._sourceSegment=t,n._segmentIndexShift="legacy"===o?t.segments.length:e.length,s[fd(a)]=n}return Object.assign(Object.assign({},r),s)}(t,e,n,i,t.children,r));return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:n}}const o=new lh(t.segments,t.children);return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:n}}function wd(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path}function bd(t,e,n,i){return!!(fd(t)===i||i!==Bc&&wd(e,n,t))&&("**"===t.path||vd(e,t,n).matched)}function _d(t,e,n){return 0===e.length&&!t.children[n]}class xd{constructor(t){this.segmentGroup=t||null}}class Cd{constructor(t){this.urlTree=t}}function Id(t){return new y(e=>e.error(new xd(t)))}function Sd(t){return new y(e=>e.error(new Cd(t)))}function kd(t){return new y(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${t}'`)))}class Td{constructor(t,e,n,i,r){this.configLoader=e,this.urlSerializer=n,this.urlTree=i,this.config=r,this.allowRedirects=!0,this.ngModule=t.get(ua)}apply(){const t=yd(this.urlTree.root,[],[],this.config).segmentGroup,e=new lh(t.segments,t.children);return this.expandSegmentGroup(this.ngModule,this.config,e,Bc).pipe(k(t=>this.createUrlTree(Ad(t),this.urlTree.queryParams,this.urlTree.fragment))).pipe(lc(t=>{if(t instanceof Cd)return this.allowRedirects=!1,this.match(t.urlTree);if(t instanceof xd)throw this.noMatchError(t);throw t}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,Bc).pipe(k(e=>this.createUrlTree(Ad(e),t.queryParams,t.fragment))).pipe(lc(t=>{if(t instanceof xd)throw this.noMatchError(t);throw t}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,e,n){const i=t.segments.length>0?new lh([],{[Bc]:t}):t;return new ah(i,e,n)}expandSegmentGroup(t,e,n,i){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(t,e,n).pipe(k(t=>new lh([],t))):this.expandSegment(t,n,e,n.segments,i,!0)}expandChildren(t,e,n){const i=[];for(const r of Object.keys(n.children))"primary"===r?i.unshift(r):i.push(r);return N(i).pipe(hc(i=>{const r=n.children[i],o=md(e,i);return this.expandSegmentGroup(t,o,r,i).pipe(k(t=>({segment:t,outlet:i})))}),nc((t,e)=>(t[e.outlet]=e.segment,t),{}),function(t,e){const n=arguments.length>=2;return i=>i.pipe(t?oc((e,n)=>t(e,n,i)):v,dc(1),n?wc(e):mc(()=>new Wu))}())}expandSegment(t,e,n,i,r,o){return N(n).pipe(hc(s=>this.expandSegmentAgainstRoute(t,e,n,s,i,r,o).pipe(lc(t=>{if(t instanceof xd)return Nu(null);throw t}))),xc(t=>!!t),lc((t,n)=>{if(t instanceof Wu||"EmptyError"===t.name){if(_d(e,i,r))return Nu(new lh([],{}));throw new xd(e)}throw t}))}expandSegmentAgainstRoute(t,e,n,i,r,o,s){return bd(i,e,r,o)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(t,e,i,r,o):s&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,n,i,r,o):Id(e):Id(e)}expandSegmentAgainstRouteUsingRedirect(t,e,n,i,r,o){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,i,o):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,i,r,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,n,i){const r=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?Sd(r):this.lineralizeSegments(n,r).pipe(L(n=>{const r=new lh(n,{});return this.expandSegment(t,r,e,n,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,i,r,o){const{matched:s,consumedSegments:a,lastChild:l,positionalParamSegments:u}=vd(e,i,r);if(!s)return Id(e);const c=this.applyRedirectCommands(a,i.redirectTo,u);return i.redirectTo.startsWith("/")?Sd(c):this.lineralizeSegments(i,c).pipe(L(i=>this.expandSegment(t,e,n,i.concat(r.slice(l)),o,!1)))}matchSegmentAgainstRoute(t,e,n,i,r){if("**"===n.path)return n.loadChildren?(n._loadedConfig?Nu(n._loadedConfig):this.configLoader.load(t.injector,n)).pipe(k(t=>(n._loadedConfig=t,new lh(i,{})))):Nu(new lh(i,{}));const{matched:o,consumedSegments:s,lastChild:a}=vd(e,n,i);if(!o)return Id(e);const l=i.slice(a);return this.getChildConfig(t,n,i).pipe(L(t=>{const i=t.module,o=t.routes,{segmentGroup:a,slicedSegments:u}=yd(e,s,l,o),c=new lh(a.segments,a.children);if(0===u.length&&c.hasChildren())return this.expandChildren(i,o,c).pipe(k(t=>new lh(s,t)));if(0===o.length&&0===u.length)return Nu(new lh(s,{}));const h=fd(n)===r;return this.expandSegment(i,c,o,u,h?Bc:r,!0).pipe(k(t=>new lh(s.concat(t.segments),t.children)))}))}getChildConfig(t,e,n){return e.children?Nu(new rd(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?Nu(e._loadedConfig):this.runCanLoadGuards(t.injector,e,n).pipe(L(n=>n?this.configLoader.load(t.injector,e).pipe(k(t=>(e._loadedConfig=t,t))):function(t){return new y(e=>e.error(Zc(`Cannot load children because the guard of the route "path: '${t.path}'" returned false`)))}(e))):Nu(new rd([],t))}runCanLoadGuards(t,e,n){const i=e.canLoad;return i&&0!==i.length?Nu(i.map(i=>{const r=t.get(i);let o;if(function(t){return t&&od(t.canLoad)}(r))o=r.canLoad(e,n);else{if(!od(r))throw new Error("Invalid CanLoad guard");o=r(e,n)}return nh(o)})).pipe(ld(),Ic(t=>{if(!sd(t))return;const e=Zc(`Redirecting to "${this.urlSerializer.serialize(t)}"`);throw e.url=t,e}),k(t=>!0===t)):Nu(!0)}lineralizeSegments(t,e){let n=[],i=e.root;for(;;){if(n=n.concat(i.segments),0===i.numberOfChildren)return Nu(n);if(i.numberOfChildren>1||!i.children.primary)return kd(t.redirectTo);i=i.children.primary}}applyRedirectCommands(t,e,n){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,n)}applyRedirectCreatreUrlTree(t,e,n,i){const r=this.createSegmentGroup(t,e.root,n,i);return new ah(r,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const n={};return eh(t,(t,i)=>{if("string"==typeof t&&t.startsWith(":")){const r=t.substring(1);n[i]=e[r]}else n[i]=t}),n}createSegmentGroup(t,e,n,i){const r=this.createSegments(t,e.segments,n,i);let o={};return eh(e.children,(e,r)=>{o[r]=this.createSegmentGroup(t,e,n,i)}),new lh(r,o)}createSegments(t,e,n,i){return e.map(e=>e.path.startsWith(":")?this.findPosParam(t,e,i):this.findOrReturn(e,n))}findPosParam(t,e,n){const i=n[e.path.substring(1)];if(!i)throw new Error(`Cannot redirect to '${t}'. Cannot find '${e.path}'.`);return i}findOrReturn(t,e){let n=0;for(const i of e){if(i.path===t.path)return e.splice(n),i;n++}return t}}function Ad(t){const e={};for(const n of Object.keys(t.children)){const i=Ad(t.children[n]);(i.segments.length>0||i.hasChildren())&&(e[n]=i)}return function(t){if(1===t.numberOfChildren&&t.children.primary){const e=t.children.primary;return new lh(t.segments.concat(e.segments),e.children)}return t}(new lh(t.segments,e))}class Ed{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class Od{constructor(t,e){this.component=t,this.route=e}}function Pd(t,e,n){const i=t._root;return Dd(i,e?e._root:null,n,[i.value])}function Md(t,e,n){const i=function(t){if(!t)return null;for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(i?i.module.injector:n).get(t)}function Dd(t,e,n,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const o=Ph(e);return t.children.forEach(t=>{!function(t,e,n,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const o=t.value,s=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){const l=function(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!ch(t.url,e.url);case"pathParamsOrQueryParamsChange":return!ch(t.url,e.url)||!Xc(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!zh(t,e)||!Xc(t.queryParams,e.queryParams);case"paramsChange":default:return!zh(t,e)}}(s,o,o.routeConfig.runGuardsAndResolvers);l?r.canActivateChecks.push(new Ed(i)):(o.data=s.data,o._resolvedData=s._resolvedData),Dd(t,e,o.component?a?a.children:null:n,i,r),l&&a&&a.outlet&&a.outlet.isActivated&&r.canDeactivateChecks.push(new Od(a.outlet.component,s))}else s&&Fd(e,a,r),r.canActivateChecks.push(new Ed(i)),Dd(t,null,o.component?a?a.children:null:n,i,r)}(t,o[t.value.outlet],n,i.concat([t.value]),r),delete o[t.value.outlet]}),eh(o,(t,e)=>Fd(t,n.getContext(e),r)),r}function Fd(t,e,n){const i=Ph(t),r=t.value;eh(i,(t,i)=>{Fd(t,r.component?e?e.children.getContext(i):null:e,n)}),n.canDeactivateChecks.push(new Od(r.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,r))}class Rd{}function Nd(t){return new y(e=>e.error(t))}class jd{constructor(t,e,n,i,r,o){this.rootComponentType=t,this.config=e,this.urlTree=n,this.url=i,this.paramsInheritanceStrategy=r,this.relativeLinkResolution=o}recognize(){const t=yd(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,Bc);if(null===e)return null;const n=new Nh([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},Bc,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new Oh(n,e),r=new jh(this.url,i);return this.inheritParamsAndData(r._root),r}inheritParamsAndData(t){const e=t.value,n=Rh(e,this.paramsInheritanceStrategy);e.params=Object.freeze(n.params),e.data=Object.freeze(n.data),t.children.forEach(t=>this.inheritParamsAndData(t))}processSegmentGroup(t,e,n){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,n)}processChildren(t,e){const n=[];for(const r of Object.keys(e.children)){const i=e.children[r],o=md(t,r),s=this.processSegmentGroup(o,i,r);if(null===s)return null;n.push(...s)}const i=Hd(n);return i.sort((t,e)=>t.value.outlet===Bc?-1:e.value.outlet===Bc?1:t.value.outlet.localeCompare(e.value.outlet)),i}processSegment(t,e,n,i){for(const r of t){const t=this.processSegmentAgainstRoute(r,e,n,i);if(null!==t)return t}return _d(e,n,i)?[]:null}processSegmentAgainstRoute(t,e,n,i){if(t.redirectTo||!bd(t,e,n,i))return null;let r,o=[],s=[];if("**"===t.path){const i=n.length>0?th(n).parameters:{};r=new Nh(n,i,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Gd(t),fd(t),t.component,t,Ld(e),zd(e)+n.length,Vd(t))}else{const i=vd(e,t,n);if(!i.matched)return null;o=i.consumedSegments,s=n.slice(i.lastChild),r=new Nh(o,i.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Gd(t),fd(t),t.component,t,Ld(e),zd(e)+o.length,Vd(t))}const a=function(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}(t),{segmentGroup:l,slicedSegments:u}=yd(e,o,s,a.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution);if(0===u.length&&l.hasChildren()){const t=this.processChildren(a,l);return null===t?null:[new Oh(r,t)]}if(0===a.length&&0===u.length)return[new Oh(r,[])];const c=fd(t)===i,h=this.processSegment(a,l,u,c?Bc:i);return null===h?null:[new Oh(r,h)]}}function Ud(t){const e=t.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function Hd(t){const e=[],n=new Set;for(const i of t){if(!Ud(i)){e.push(i);continue}const t=e.find(t=>i.value.routeConfig===t.value.routeConfig);void 0!==t?(t.children.push(...i.children),n.add(t)):e.push(i)}for(const i of n){const t=Hd(i.children);e.push(new Oh(i.value,t))}return e.filter(t=>!n.has(t))}function Ld(t){let e=t;for(;e._sourceSegment;)e=e._sourceSegment;return e}function zd(t){let e=t,n=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,n+=e._segmentIndexShift?e._segmentIndexShift:0;return n-1}function Gd(t){return t.data||{}}function Vd(t){return t.resolve||{}}function Wd(t){return Zu(e=>{const n=t(e);return n?N(n).pipe(k(()=>e)):Nu(e)})}class $d extends class{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}{}const Bd=new Vn("ROUTES");class qd{constructor(t,e,n,i){this.loader=t,this.compiler=e,this.onLoadStartListener=n,this.onLoadEndListener=i}load(t,e){if(e._loader$)return e._loader$;this.onLoadStartListener&&this.onLoadStartListener(e);const n=this.loadModuleFactory(e.loadChildren).pipe(k(n=>{this.onLoadEndListener&&this.onLoadEndListener(e);const i=n.create(t);return new rd(Kc(i.injector.get(Bd,void 0,wt.Self|wt.Optional)).map(pd),i)}),lc(t=>{throw e._loader$=void 0,t}));return e._loader$=new Q(n,()=>new C).pipe($()),e._loader$}loadModuleFactory(t){return"string"==typeof t?N(this.loader.load(t)):nh(t()).pipe(L(t=>t instanceof ca?Nu(t):N(this.compiler.compileModuleAsync(t))))}}class Qd{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Zd,this.attachRef=null}}class Zd{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const n=this.getOrCreateContext(t);n.outlet=e,this.contexts.set(t,n)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new Qd,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}class Yd{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function Xd(t){throw t}function Jd(t,e,n){return e.parse("/")}function Kd(t,e){return Nu(null)}let tp=(()=>{class t{constructor(t,e,n,i,r,o,s,a){this.rootComponentType=t,this.urlSerializer=e,this.rootContexts=n,this.location=i,this.config=a,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.lastLocationChangeInfo=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new C,this.errorHandler=Xd,this.malformedUriErrorHandler=Jd,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Kd,afterPreactivation:Kd},this.urlHandlingStrategy=new Yd,this.routeReuseStrategy=new $d,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.ngModule=r.get(ua),this.console=r.get(Ha);const l=r.get(Ja);this.isNgZoneEnabled=l instanceof Ja&&Ja.isInAngularZone(),this.resetConfig(a),this.currentUrlTree=new ah(new lh([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new qd(o,s,t=>this.triggerEvent(new Hc(t)),t=>this.triggerEvent(new Lc(t))),this.routerState=Dh(this.currentUrlTree,this.rootComponentType),this.transitions=new ju({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}setupNavigations(t){const e=this.events;return t.pipe(oc(t=>0!==t.id),k(t=>Object.assign(Object.assign({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl)})),Zu(t=>{let n=!1,i=!1;return Nu(t).pipe(Ic(t=>{this.currentNavigation={id:t.id,initialUrl:t.currentRawUrl,extractedUrl:t.extractedUrl,trigger:t.source,extras:t.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Zu(t=>{const n=!this.navigated||t.extractedUrl.toString()!==this.browserUrlTree.toString();if(("reload"===this.onSameUrlNavigation||n)&&this.urlHandlingStrategy.shouldProcessUrl(t.rawUrl))return Nu(t).pipe(Zu(t=>{const n=this.transitions.getValue();return e.next(new Oc(t.id,this.serializeUrl(t.extractedUrl),t.source,t.restoredState)),n!==this.transitions.getValue()?Bu:Promise.resolve(t)}),(i=this.ngModule.injector,r=this.configLoader,o=this.urlSerializer,s=this.config,Zu(t=>function(t,e,n,i,r){return new Td(t,e,n,i,r).apply()}(i,r,o,t.extractedUrl,s).pipe(k(e=>Object.assign(Object.assign({},t),{urlAfterRedirects:e}))))),Ic(t=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:t.urlAfterRedirects})}),function(t,e,n,i,r){return L(o=>function(t,e,n,i,r="emptyOnly",o="legacy"){try{const s=new jd(t,e,n,i,r,o).recognize();return null===s?Nd(new Rd):Nu(s)}catch(s){return Nd(s)}}(t,e,o.urlAfterRedirects,n(o.urlAfterRedirects),i,r).pipe(k(t=>Object.assign(Object.assign({},o),{targetSnapshot:t}))))}(this.rootComponentType,this.config,t=>this.serializeUrl(t),this.paramsInheritanceStrategy,this.relativeLinkResolution),Ic(t=>{"eager"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(t.urlAfterRedirects,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects);const n=new Fc(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.next(n)}));var i,r,o,s;if(n&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:n,extractedUrl:i,source:r,restoredState:o,extras:s}=t,a=new Oc(n,this.serializeUrl(i),r,o);e.next(a);const l=Dh(i,this.rootComponentType).snapshot;return Nu(Object.assign(Object.assign({},t),{targetSnapshot:l,urlAfterRedirects:i,extras:Object.assign(Object.assign({},s),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=t.rawUrl,this.browserUrlTree=t.urlAfterRedirects,t.resolve(null),Bu}),Wd(t=>{const{targetSnapshot:e,id:n,extractedUrl:i,rawUrl:r,extras:{skipLocationChange:o,replaceUrl:s}}=t;return this.hooks.beforePreactivation(e,{navigationId:n,appliedUrlTree:i,rawUrlTree:r,skipLocationChange:!!o,replaceUrl:!!s})}),Ic(t=>{const e=new Rc(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),k(t=>Object.assign(Object.assign({},t),{guards:Pd(t.targetSnapshot,t.currentSnapshot,this.rootContexts)})),function(t,e){return L(n=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return 0===s.length&&0===o.length?Nu(Object.assign(Object.assign({},n),{guardsResult:!0})):function(t,e,n,i){return N(t).pipe(L(t=>function(t,e,n,i,r){const o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return o&&0!==o.length?Nu(o.map(o=>{const s=Md(o,e,r);let a;if(function(t){return t&&od(t.canDeactivate)}(s))a=nh(s.canDeactivate(t,e,n,i));else{if(!od(s))throw new Error("Invalid CanDeactivate guard");a=nh(s(t,e,n,i))}return a.pipe(xc())})).pipe(ld()):Nu(!0)}(t.component,t.route,n,e,i)),xc(t=>!0!==t,!0))}(s,i,r,t).pipe(L(n=>n&&"boolean"==typeof n?function(t,e,n,i){return N(e).pipe(hc(e=>$u(function(t,e){return null!==t&&e&&e(new zc(t)),Nu(!0)}(e.route.parent,i),function(t,e){return null!==t&&e&&e(new Vc(t)),Nu(!0)}(e.route,i),function(t,e,n){const i=e[e.length-1],r=e.slice(0,e.length-1).reverse().map(t=>function(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(t)).filter(t=>null!==t).map(e=>Qu(()=>Nu(e.guards.map(r=>{const o=Md(r,e.node,n);let s;if(function(t){return t&&od(t.canActivateChild)}(o))s=nh(o.canActivateChild(i,t));else{if(!od(o))throw new Error("Invalid CanActivateChild guard");s=nh(o(i,t))}return s.pipe(xc())})).pipe(ld())));return Nu(r).pipe(ld())}(t,e.path,n),function(t,e,n){const i=e.routeConfig?e.routeConfig.canActivate:null;return i&&0!==i.length?Nu(i.map(i=>Qu(()=>{const r=Md(i,e,n);let o;if(function(t){return t&&od(t.canActivate)}(r))o=nh(r.canActivate(e,t));else{if(!od(r))throw new Error("Invalid CanActivate guard");o=nh(r(e,t))}return o.pipe(xc())}))).pipe(ld()):Nu(!0)}(t,e.route,n))),xc(t=>!0!==t,!0))}(i,o,t,e):Nu(n)),k(t=>Object.assign(Object.assign({},n),{guardsResult:t})))})}(this.ngModule.injector,t=>this.triggerEvent(t)),Ic(t=>{if(sd(t.guardsResult)){const e=Zc(`Redirecting to "${this.serializeUrl(t.guardsResult)}"`);throw e.url=t.guardsResult,e}const e=new Nc(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot,!!t.guardsResult);this.triggerEvent(e)}),oc(t=>{if(!t.guardsResult){this.resetUrlToCurrentUrlTree();const n=new Mc(t.id,this.serializeUrl(t.extractedUrl),"");return e.next(n),t.resolve(!1),!1}return!0}),Wd(t=>{if(t.guards.canActivateChecks.length)return Nu(t).pipe(Ic(t=>{const e=new jc(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),Zu(t=>{let n=!1;return Nu(t).pipe((i=this.paramsInheritanceStrategy,r=this.ngModule.injector,L(t=>{const{targetSnapshot:e,guards:{canActivateChecks:n}}=t;if(!n.length)return Nu(t);let o=0;return N(n).pipe(hc(t=>function(t,e,n,i){return function(t,e,n,i){const r=Object.keys(t);if(0===r.length)return Nu({});const o={};return N(r).pipe(L(r=>function(t,e,n,i){const r=Md(t,e,i);return nh(r.resolve?r.resolve(e,n):r(e,n))}(t[r],e,n,i).pipe(Ic(t=>{o[r]=t}))),dc(1),L(()=>Object.keys(o).length===r.length?Nu(o):Bu))}(t._resolve,t,e,i).pipe(k(e=>(t._resolvedData=e,t.data=Object.assign(Object.assign({},t.data),Rh(t,n).resolve),null)))}(t.route,e,i,r)),Ic(()=>o++),dc(1),L(e=>o===n.length?Nu(t):Bu))})),Ic({next:()=>n=!0,complete:()=>{if(!n){const n=new Mc(t.id,this.serializeUrl(t.extractedUrl),"At least one route resolver didn't emit any value.");e.next(n),t.resolve(!1)}}}));var i,r}),Ic(t=>{const e=new Uc(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}))}),Wd(t=>{const{targetSnapshot:e,id:n,extractedUrl:i,rawUrl:r,extras:{skipLocationChange:o,replaceUrl:s}}=t;return this.hooks.afterPreactivation(e,{navigationId:n,appliedUrlTree:i,rawUrlTree:r,skipLocationChange:!!o,replaceUrl:!!s})}),k(t=>{const e=function(t,e,n){const i=Gh(t,e._root,n?n._root:void 0);return new Mh(i,e)}(this.routeReuseStrategy,t.targetSnapshot,t.currentRouterState);return Object.assign(Object.assign({},t),{targetRouterState:e})}),Ic(t=>{this.currentUrlTree=t.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl),this.routerState=t.targetRouterState,"deferred"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects)}),(o=this.rootContexts,s=this.routeReuseStrategy,a=t=>this.triggerEvent(t),k(t=>(new nd(s,t.targetRouterState,t.currentRouterState,a).activate(o),t))),Ic({next(){n=!0},complete(){n=!0}}),(r=()=>{if(!n&&!i){this.resetUrlToCurrentUrlTree();const n=new Mc(t.id,this.serializeUrl(t.extractedUrl),`Navigation ID ${t.id} is not equal to the current navigation id ${this.navigationId}`);e.next(n),t.resolve(!1)}this.currentNavigation=null},t=>t.lift(new Tc(r))),lc(n=>{if(i=!0,(r=n)&&r.ngNavigationCancelingError){const i=sd(n.url);i||(this.navigated=!0,this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl));const r=new Mc(t.id,this.serializeUrl(t.extractedUrl),n.message);e.next(r),i?setTimeout(()=>{const e=this.urlHandlingStrategy.merge(n.url,this.rawUrlTree);this.scheduleNavigation(e,"imperative",null,{skipLocationChange:t.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy},{resolve:t.resolve,reject:t.reject,promise:t.promise})},0):t.resolve(!1)}else{this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl);const i=new Dc(t.id,this.serializeUrl(t.extractedUrl),n);e.next(i);try{t.resolve(this.errorHandler(n))}catch(o){t.reject(o)}}var r;return Bu}));var r,o,s,a}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}getTransition(){const t=this.transitions.value;return t.urlAfterRedirects=this.browserUrlTree,t}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const e=this.extractLocationChangeInfoFromEvent(t);this.shouldScheduleNavigation(this.lastLocationChangeInfo,e)&&setTimeout(()=>{const{source:t,state:n,urlTree:i}=e,r={replaceUrl:!0};if(n){const t=Object.assign({},n);delete t.navigationId,0!==Object.keys(t).length&&(r.state=t)}this.scheduleNavigation(i,t,n,r)},0),this.lastLocationChangeInfo=e}))}extractLocationChangeInfoFromEvent(t){var e;return{source:"popstate"===t.type?"popstate":"hashchange",urlTree:this.parseUrl(t.url),state:(null===(e=t.state)||void 0===e?void 0:e.navigationId)?t.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(t,e){if(!t)return!0;const n=e.urlTree.toString()===t.urlTree.toString();return!(e.transitionId===t.transitionId&&n&&("hashchange"===e.source&&"popstate"===t.source||"popstate"===e.source&&"hashchange"===t.source))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){cd(t),this.config=t.map(pd),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,e={}){const{relativeTo:n,queryParams:i,fragment:r,queryParamsHandling:o,preserveFragment:s}=e,a=n||this.routerState.root,l=s?this.currentUrlTree.fragment:r;let u=null;switch(o){case"merge":u=Object.assign(Object.assign({},this.currentUrlTree.queryParams),i);break;case"preserve":u=this.currentUrlTree.queryParams;break;default:u=i||null}return null!==u&&(u=this.removeEmptyProps(u)),function(t,e,n,i,r){if(0===n.length)return Bh(e.root,e.root,e,i,r);const o=function(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new Qh(!0,0,t);let e=0,n=!1;const i=t.reduce((t,i,r)=>{if("object"==typeof i&&null!=i){if(i.outlets){const e={};return eh(i.outlets,(t,n)=>{e[n]="string"==typeof t?t.split("/"):t}),[...t,{outlets:e}]}if(i.segmentPath)return[...t,i.segmentPath]}return"string"!=typeof i?[...t,i]:0===r?(i.split("/").forEach((i,r)=>{0==r&&"."===i||(0==r&&""===i?n=!0:".."===i?e++:""!=i&&t.push(i))}),t):[...t,i]},[]);return new Qh(n,e,i)}(n);if(o.toRoot())return Bh(e.root,new lh([],{}),e,i,r);const s=function(t,e,n){if(t.isAbsolute)return new Zh(e.root,!0,0);if(-1===n.snapshot._lastPathIndex){const t=n.snapshot._urlSegment;return new Zh(t,t===e.root,0)}const i=Wh(t.commands[0])?0:1;return function(t,e,n){let i=t,r=e,o=n;for(;o>r;){if(o-=r,i=i.parent,!i)throw new Error("Invalid number of '../'");r=i.segments.length}return new Zh(i,!1,r-o)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+i,t.numberOfDoubleDots)}(o,e,t),a=s.processChildren?Xh(s.segmentGroup,s.index,o.commands):Yh(s.segmentGroup,s.index,o.commands);return Bh(s.segmentGroup,a,e,i,r)}(a,this.currentUrlTree,t,u,l)}navigateByUrl(t,e={skipLocationChange:!1}){const n=sd(t)?t:this.parseUrl(t),i=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(i,"imperative",null,e)}navigate(t,e={skipLocationChange:!1}){return function(t){for(let e=0;e<t.length;e++){const n=t[e];if(null==n)throw new Error(`The requested path contains ${n} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,e),e)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let e;try{e=this.urlSerializer.parse(t)}catch(n){e=this.malformedUriErrorHandler(n,this.urlSerializer,t)}return e}isActive(t,e){if(sd(t))return ih(this.currentUrlTree,t,e);const n=this.parseUrl(t);return ih(this.currentUrlTree,n,e)}removeEmptyProps(t){return Object.keys(t).reduce((e,n)=>{const i=t[n];return null!=i&&(e[n]=i),e},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.events.next(new Pc(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,t.resolve(!0)},t=>{this.console.warn("Unhandled Navigation Error: ")})}scheduleNavigation(t,e,n,i,r){if(this.disposed)return Promise.resolve(!1);const o=this.getTransition(),s="imperative"!==e&&"imperative"===(null==o?void 0:o.source),a=(this.lastSuccessfulId===o.id||this.currentNavigation?o.rawUrl:o.urlAfterRedirects).toString()===t.toString();if(s&&a)return Promise.resolve(!0);let l,u,c;r?(l=r.resolve,u=r.reject,c=r.promise):c=new Promise((t,e)=>{l=t,u=e});const h=++this.navigationId;return this.setTransition({id:h,source:e,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:i,resolve:l,reject:u,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(t=>Promise.reject(t))}setBrowserUrl(t,e,n,i){const r=this.urlSerializer.serialize(t);i=i||{},this.location.isCurrentPathEqualTo(r)||e?this.location.replaceState(r,"",Object.assign(Object.assign({},i),{navigationId:n})):this.location.go(r,"",Object.assign(Object.assign({},i),{navigationId:n}))}resetStateAndUrl(t,e,n){this.routerState=t,this.currentUrlTree=e,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})}}return t.\u0275fac=function(e){return new(e||t)(oi($n),oi(hh),oi(Zd),oi($l),oi(yo),oi(bl),oi(Za),oi(void 0))},t.\u0275prov=ct({token:t,factory:t.\u0275fac}),t})(),ep=(()=>{class t{constructor(t,e,n){this.router=t,this.route=e,this.locationStrategy=n,this.commands=[],this.onChanges=new C,this.subscription=t.events.subscribe(t=>{t instanceof Pc&&this.updateTargetUrlAndHref()})}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}ngOnChanges(t){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,e,n,i,r){if(0!==t||e||n||i||r)return!0;if("string"==typeof this.target&&"_self"!=this.target)return!0;const o={skipLocationChange:np(this.skipLocationChange),replaceUrl:np(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,o),!1}updateTargetUrlAndHref(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:np(this.preserveFragment)})}}return t.\u0275fac=function(e){return new(e||t)(No(tp),No(Fh),No(Ll))},t.\u0275dir=Qt({type:t,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,e){1&t&&Wo("click",function(t){return e.onClick(t.button,t.ctrlKey,t.shiftKey,t.altKey,t.metaKey)}),2&t&&(vs("href",e.href,gi),Do("target",e.target))},inputs:{routerLink:"routerLink",target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[ae]}),t})();function np(t){return""===t||!!t}let ip=(()=>{class t{constructor(t,e,n,i,r){this.parentContexts=t,this.location=e,this.resolver=n,this.changeDetector=r,this.activated=null,this._activatedRoute=null,this.activateEvents=new Oa,this.deactivateEvents=new Oa,this.name=i||Bc,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,t}attach(t,e){this.activated=t,this._activatedRoute=e,this.location.insert(t.hostView)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,e){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const n=(e=e||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),i=this.parentContexts.getOrCreateContext(this.name).children,r=new rp(t,i,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,r),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return t.\u0275fac=function(e){return new(e||t)(No(Zd),No(da),No(As),("name",function(t,e){const n=t.attrs;if(n){const t=n.length;let i=0;for(;i<t;){const r=n[i];if(fn(r))break;if(0===r)i+=2;else if("number"==typeof r)for(i++;i<t&&"string"==typeof n[i];)i++;else{if(r===e)return n[i+1];i+=2}}}return null}(Me(),"name")),No(ea))},t.\u0275dir=Qt({type:t,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),t})();class rp{constructor(t,e,n){this.route=t,this.childContexts=e,this.parent=n}get(t,e){return t===Fh?this.route:t===Zd?this.childContexts:this.parent.get(t,e)}}class op{}class sp{preload(t,e){return Nu(null)}}let ap=(()=>{class t{constructor(t,e,n,i,r){this.router=t,this.injector=i,this.preloadingStrategy=r,this.loader=new qd(e,n,e=>t.triggerEvent(new Hc(e)),e=>t.triggerEvent(new Lc(e)))}setUpPreloading(){this.subscription=this.router.events.pipe(oc(t=>t instanceof Pc),hc(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(ua);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,e){const n=[];for(const i of e)if(i.loadChildren&&!i.canLoad&&i._loadedConfig){const t=i._loadedConfig;n.push(this.processRoutes(t.module,t.routes))}else i.loadChildren&&!i.canLoad?n.push(this.preloadConfig(t,i)):i.children&&n.push(this.processRoutes(t,i.children));return N(n).pipe(V(),k(t=>{}))}preloadConfig(t,e){return this.preloadingStrategy.preload(e,()=>(e._loadedConfig?Nu(e._loadedConfig):this.loader.load(t.injector,e)).pipe(L(t=>(e._loadedConfig=t,this.processRoutes(t.module,t.routes)))))}}return t.\u0275fac=function(e){return new(e||t)(oi(tp),oi(bl),oi(Za),oi(yo),oi(op))},t.\u0275prov=ct({token:t,factory:t.\u0275fac}),t})(),lp=(()=>{class t{constructor(t,e,n={}){this.router=t,this.viewportScroller=e,this.options=n,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},n.scrollPositionRestoration=n.scrollPositionRestoration||"disabled",n.anchorScrolling=n.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Oc?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Pc&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof $c&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,e){this.router.triggerEvent(new $c(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,e))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(oi(tp),oi(ru),oi(void 0))},t.\u0275prov=ct({token:t,factory:t.\u0275fac}),t})();const up=new Vn("ROUTER_CONFIGURATION"),cp=new Vn("ROUTER_FORROOT_GUARD"),hp=[$l,{provide:hh,useClass:dh},{provide:tp,useFactory:function(t,e,n,i,r,o,s,a={},l,u){const c=new tp(null,t,e,n,i,r,o,Kc(s));if(l&&(c.urlHandlingStrategy=l),u&&(c.routeReuseStrategy=u),function(t,e){t.errorHandler&&(e.errorHandler=t.errorHandler),t.malformedUriErrorHandler&&(e.malformedUriErrorHandler=t.malformedUriErrorHandler),t.onSameUrlNavigation&&(e.onSameUrlNavigation=t.onSameUrlNavigation),t.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=t.paramsInheritanceStrategy),t.relativeLinkResolution&&(e.relativeLinkResolution=t.relativeLinkResolution),t.urlUpdateStrategy&&(e.urlUpdateStrategy=t.urlUpdateStrategy)}(a,c),a.enableTracing){const t=El();c.events.subscribe(e=>{t.logGroup(`Router Event: ${e.constructor.name}`),t.log(e.toString()),t.log(e),t.logGroupEnd()})}return c},deps:[hh,Zd,$l,yo,bl,Za,Bd,up,[class{},new ui],[class{},new ui]]},Zd,{provide:Fh,useFactory:function(t){return t.routerState.root},deps:[tp]},{provide:bl,useClass:Cl},ap,sp,class{preload(t,e){return e().pipe(lc(()=>Nu(null)))}},{provide:up,useValue:{enableTracing:!1}}];function dp(){return new pl("Router",tp)}let pp=(()=>{class t{constructor(t,e){}static forRoot(e,n){return{ngModule:t,providers:[hp,vp(e),{provide:cp,useFactory:gp,deps:[[tp,new ui,new ci]]},{provide:up,useValue:n||{}},{provide:Ll,useFactory:mp,deps:[Pl,[new li(Gl),new ui],up]},{provide:lp,useFactory:fp,deps:[tp,ru,up]},{provide:op,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:sp},{provide:pl,multi:!0,useFactory:dp},[yp,{provide:Pa,multi:!0,useFactory:wp,deps:[yp]},{provide:_p,useFactory:bp,deps:[yp]},{provide:Ua,multi:!0,useExisting:_p}]]}}static forChild(e){return{ngModule:t,providers:[vp(e)]}}}return t.\u0275fac=function(e){return new(e||t)(oi(cp,8),oi(tp,8))},t.\u0275mod=Bt({type:t}),t.\u0275inj=ht({}),t})();function fp(t,e,n){return n.scrollOffset&&e.setOffset(n.scrollOffset),new lp(t,e,n)}function mp(t,e,n={}){return n.useHash?new Wl(t,e):new Vl(t,e)}function gp(t){return"guarded"}function vp(t){return[{provide:Wn,multi:!0,useValue:t},{provide:Bd,multi:!0,useValue:t}]}let yp=(()=>{class t{constructor(t){this.injector=t,this.initNavigation=!1,this.resultOfPreactivationDone=new C}appInitializer(){return this.injector.get(Dl,Promise.resolve(null)).then(()=>{let t=null;const e=new Promise(e=>t=e),n=this.injector.get(tp),i=this.injector.get(up);return"disabled"===i.initialNavigation?(n.setUpLocationChangeListener(),t(!0)):"enabled"===i.initialNavigation||"enabledBlocking"===i.initialNavigation?(n.hooks.afterPreactivation=()=>this.initNavigation?Nu(null):(this.initNavigation=!0,t(!0),this.resultOfPreactivationDone),n.initialNavigation()):t(!0),e})}bootstrapListener(t){const e=this.injector.get(up),n=this.injector.get(ap),i=this.injector.get(lp),r=this.injector.get(tp),o=this.injector.get(yl);t===o.components[0]&&("enabledNonBlocking"!==e.initialNavigation&&void 0!==e.initialNavigation||r.initialNavigation(),n.setUpPreloading(),i.init(),r.resetRootComponentType(o.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}}return t.\u0275fac=function(e){return new(e||t)(oi(yo))},t.\u0275prov=ct({token:t,factory:t.\u0275fac}),t})();function wp(t){return t.appInitializer.bind(t)}function bp(t){return t.bootstrapListener.bind(t)}const _p=new Vn("Router Initializer");let xp=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Bt({type:t}),t.\u0275inj=ht({imports:[[pp.forRoot([],{useHash:!0})],pp]}),t})(),Cp=(()=>{class t{onOrientationChange(){location.reload()}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=Gt({type:t,selectors:[["app-root"]],hostBindings:function(t,e){1&t&&Wo("orientationchange",function(){return e.onOrientationChange()},!1,Ci)},decls:4,vars:0,consts:[[1,"rotate-device-container"],[1,"rotate-device-message"]],template:function(t,e){1&t&&(Ho(0,"div",0),Ho(1,"div",1),hs(2," This app is designed to display in landscape. Please rotate your device \ud83d\udd04 "),Lo(),Lo(),zo(3,"router-outlet"))},directives:[ip],styles:[".rotate-device-container[_ngcontent-%COMP%]{display:none;flex-direction:column;justify-content:center;align-items:center;height:100vh;width:100vw;background-color:var(--primary-color)}.rotate-device-message[_ngcontent-%COMP%]{margin:10px 10px 100px}@media screen and (max-width:767px) and (orientation:portrait){.rotate-device-container[_ngcontent-%COMP%]{display:flex}}"]}),t})();const Ip=window.innerHeight+window.innerWidth/200,Sp="ontouchstart"in window||navigator.maxTouchPoints>0;function kp(t,e){return Math.round(Math.floor(Math.random()*(e-t))+t)}function Tp(t){return t%2==0}function Ap(t){return new Promise(e=>setTimeout(e,t))}function Ep(t){return parseInt(t.target.value,10)}function Op(t){if(void 0===t)throw new Error("Argument is undefined!");return t}function Pp(t){if(null===t)throw new Error("Argument is null!");return t}function Mp(t,e){const n=[];for(let i=t;i<e;i++)n.push(i);return n}function Dp(t,e){const n=t.indexOf(e);-1!==n&&t.splice(n,1)}function Fp(t,e,n){const i=[];for(let r=0;r<t;r++){i.push([]);for(let t=0;t<e;t++)i[r].push(n(r,t))}return i}function Rp(t,e){return e<0?0:e>=t.length?t.length-1:e}function Np(t){const e=localStorage.getItem(t);return null===e?null:JSON.parse(e)}function jp(t,e){localStorage.setItem(t,JSON.stringify(e))}function Up(t){return window.innerWidth>t}function Hp(t){return window.innerHeight>t}var Lp=n("lnXG"),zp=n.n(Lp);function Gp({rootNode:t,currNodeId:e,optimalPathIds:n,commentary:i}){return{tree:Vp(t,1150,280,60),currNodeId:e,optimalPathIds:n,commentary:i}}function Vp(t,e,n,i){const r={edges:[],nodes:[]};return Bp(t,e/2,i/5,n,i,r),r}function Wp(t,e,n){return{rootNode:t,currNodeId:e,optimalPathIds:$p(t),commentary:n}}function $p(t){const e=[t.id];let n=t;for(;null!==n.chosenChild;)n=n.chosenChild,e.push(n.id);return e}function Bp(t,e,n,i,r,o){null!==t.leftChild&&(o.edges.push({startX:e,startY:n,endX:e-i,endY:n+r}),Bp(t.leftChild,e-i,n+r,i/2,r,o)),null!==t.rightChild&&(o.edges.push({startX:e,startY:n,endX:e+i,endY:n+r}),Bp(t.rightChild,e+i,n+r,i/2,r,o)),o.nodes.push({centerX:e,centerY:n,internalNode:t,dataHiddenForUserGuess:0})}const qp=Math.pow(2,4);function Qp(t){return Yp(0,[...t],"")}function Zp(t){return null===t.leftChild&&null===t.rightChild}function Yp(t,e,n){const i=function(t,e){return{alpha:null,beta:null,val:null,hasBeenConsidered:!1,leftChild:null,rightChild:null,chosenChild:null,depth:e,id:t}}(n,t);return 4===t?i.val=Op(e.shift()):(i.leftChild=Yp(t+1,e,n+"l"),i.rightChild=Yp(t+1,e,n+"r")),i}function Xp(t,e,n,i,r,o,s){if(e.alpha=n,e.beta=i,e.hasBeenConsidered=!0,e.id!==t.id&&!Zp(e)&&o?s.push(Wp(zp()(t),e.id,`Set alpha and beta values to parent values ... alpha = ${e.alpha} and beta = ${e.beta}`)):!Zp(e)&&o&&s.push(Wp(zp()(t),e.id,`Initialise alpha to ${Number.NEGATIVE_INFINITY} and beta to ${Number.POSITIVE_INFINITY}`)),4===r)return s.push(Wp(zp()(t),e.id,`Leaf node reached, return default value of ${e.val}`)),Pp(e.val);e.val=Number.NEGATIVE_INFINITY,s.push(Wp(zp()(t),e.id,`Since this is a MAX node, we want to initialise the value such that any value a child returns will be greater than it ... initialise value to ${e.val}`));for(const a of[e.leftChild,e.rightChild])if(null!==a){s.push(Wp(zp()(t),e.id,"Exploring next child..."));const n=Jp(t,a,e.alpha,e.beta,r+1,o,s);if(s.push(Wp(zp()(t),e.id,`Computed result of child ... ${n}`)),n>e.val?(s.push(Wp(zp()(t),e.id,`Child result of ${n} is higher than current value of ${e.val}, so update current value to ${n} `)),e.val=n,e.chosenChild=a):s.push(Wp(zp()(t),e.id,`Child result of ${n} isn't higher than current value of ${e.val}, so don't update current value`)),e.val>e.alpha&&o?(s.push(Wp(zp()(t),e.id,`Current value of ${e.val} is higher than alpha value of ${e.alpha}, so update alpha value to ${e.val}`)),e.alpha=e.val):o&&s.push(Wp(zp()(t),e.id,`Current value of ${e.val} isn't higher than alpha value of ${e.alpha}, so don't update alpha value`)),e.alpha>=e.beta&&o){s.push(Wp(zp()(t),e.id,`Alpha value is ${e.alpha} and beta value is ${e.beta}, so a child node can only be part of final path if it returns a value greater than  ${e.alpha} and less than ${e.beta}. This isn't possible, so don't consider any more children`));break}a.id!==Pp(e.rightChild).id&&o&&s.push(Wp(zp()(t),e.id,`Alpha value is ${e.alpha} and beta value is ${e.beta}, so a child node can only be part of final path if it returns a value greater than  ${e.alpha} and less than ${e.beta}. This is still possible, so consider next child`))}return e.id!==t.id&&s.push(Wp(zp()(t),e.id,`Done exploring children, return current value to parent ... ${e.val}`)),e.val}function Jp(t,e,n,i,r,o,s){if(e.alpha=n,e.beta=i,e.hasBeenConsidered=!0,e.id!==t.id&&!Zp(e)&&o?s.push(Wp(zp()(t),e.id,`Set alpha and beta values to parent values ... alpha = ${e.alpha} and beta = ${e.beta}`)):!Zp(e)&&o&&s.push(Wp(zp()(t),null,`Initialise alpha to ${Number.NEGATIVE_INFINITY} and beta to ${Number.POSITIVE_INFINITY}`)),4===r)return s.push(Wp(zp()(t),e.id,`Leaf node reached, return default value of ${e.val}`)),Pp(e.val);e.val=Number.POSITIVE_INFINITY,s.push(Wp(zp()(t),e.id,`Since this is a MIN node, we want to initialise the value such that any value a child returns will be smaller than it ... initialise value to ${e.val}`));for(const a of[e.leftChild,e.rightChild])if(null!==a){s.push(Wp(zp()(t),e.id,"Exploring next child..."));const n=Xp(t,a,e.alpha,e.beta,r+1,o,s);if(s.push(Wp(zp()(t),e.id,`Computed result of child ... ${n}`)),n<e.val?(s.push(Wp(zp()(t),e.id,`Child result of ${n} is lower than current value of ${e.val}, so update current value to ${n} `)),e.val=n,e.chosenChild=a):s.push(Wp(zp()(t),e.id,`Child result of ${n} isn't lower than current value of ${e.val}, so don't update current value`)),e.val<e.beta&&o?(s.push(Wp(zp()(t),e.id,`Current value of ${e.val} is lower than beta value of ${e.beta}, so update beta value to ${e.val}`)),e.beta=e.val):o&&s.push(Wp(zp()(t),e.id,`Current value of ${e.val} isn't lower than beta value of ${e.beta}, so don't update beta value`)),e.alpha>=e.beta&&o){s.push(Wp(zp()(t),e.id,`Alpha value is ${e.alpha} and beta value is ${e.beta}, so a child node can only be part of final path if it returns a value greater than  ${e.alpha} and less than ${e.beta}. This isn't possible, so don't consider any more children`));break}a.id!==Pp(e.rightChild).id&&o&&s.push(Wp(zp()(t),e.id,`Alpha value is ${e.alpha} and beta value is ${e.beta}, so a child node can only be part of final path if it returns a value greater than  ${e.alpha} and less than ${e.beta}. This is still possible, so consider next child`))}return s.push(Wp(zp()(t),e.id,`Done exploring children, return current value to parent ... ${e.val}`)),e.val}var Kp=function(t){return t.None="No Pruning",t.AlphaBeta="Use Alpha Beta Pruning",t}({}),tf=function(t){return t.Visualise="Visualisation Mode",t.Quiz="Quiz Mode",t}({});let ef=(()=>{class t{constructor(){this.hideEmitter=new Oa,this.slideIndex=0}hideModal(){this.hideEmitter.emit()}nextSlide(){this.slideIndex<this.slides.length-1&&this.slideIndex++}prevSlide(){this.slideIndex>0&&this.slideIndex--}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=Gt({type:t,selectors:[["ng-component"]],inputs:{slides:"slides"},outputs:{hideEmitter:"hideEmitter"},decls:0,vars:0,template:function(t,e){},encapsulation:2}),t})();function nf(t,e){if(1&t){const t=Go();Ho(0,"div",1),Ho(1,"h1",2),hs(2,"Welcome to Minimax Visualiser!"),Lo(),Ho(3,"span",3),Ho(4,"p",4),hs(5," This is a project that aims to help students learn about minimax through visualising it on an abstract tree diagram. This app works by animating the process it goes through as it searches for the optimal route through the tree. It was written by Mark Lee as his final year project for BSc Computer Science at the University of Strathclyde. "),Lo(),Ho(6,"p",4),hs(7," These slides will guide you through the features of the application. You can navigate through the slides using the buttons at the bottom left and bottom right corners of the current slide. "),Lo(),Ho(8,"p",4),hs(9," A general tip for using algorithm visualisation tools: it's better to try and actively learn than passively learn. When stepping through an algorithm, try and predict what it will do next. If you're right, then it shows you understand the algorithm. If you're wrong, it's worth wondering why that is and comparing your result with the actual one. "),Lo(),Ho(10,"p",4),hs(11," As part of this project I've also implemented visualisers for "),Ho(12,"a",5),hs(13,"Constraint Satisfaction"),Lo(),hs(14," and "),Ho(15,"a",5),hs(16,"Pathfinding"),Lo(),Lo(),Lo(),Ho(17,"button",6),Wo("click",function(){return Pe(t),qo().nextSlide()}),hs(18," Next Slide "),Lo(),Ho(19,"button",7),Wo("click",function(){return Pe(t),qo().hideModal()}),hs(20," Skip Tutorial "),Lo(),Lo()}2&t&&(lr(12),jo("routerLink","/n-queens"),lr(3),jo("routerLink","/pathfinding"))}function rf(t,e){if(1&t){const t=Go();Ho(0,"div",1),Ho(1,"h1",2),hs(2,"Animating the Algorithm"),Lo(),Ho(3,"span",3),Ho(4,"p",4),hs(5,' To animate an algorithm simply press the "\u23ef" button. While an algorithm is being animated this button will change to "\u23f8", which pauses the animation. You can configure the speed of the animation by adjusting the slider under "Set Animation Delay". '),Lo(),zo(6,"video",8),Lo(),Ho(7,"button",9),Wo("click",function(){return Pe(t),qo().prevSlide()}),hs(8," Previous Slide "),Lo(),Ho(9,"button",6),Wo("click",function(){return Pe(t),qo().nextSlide()}),hs(10," Next Slide "),Lo(),Ho(11,"button",7),Wo("click",function(){return Pe(t),qo().hideModal()}),hs(12," Skip Tutorial "),Lo(),Lo()}}function of(t,e){if(1&t){const t=Go();Ho(0,"div",1),Ho(1,"h1",2),hs(2,"Stepping Through Animations"),Lo(),Ho(3,"span",3),Ho(4,"p",4),hs(5,' You can step through animations to view them at your own pace. The "\u25b6\ufe0f" button moves to the next frame in the animation while the "\u25c0" button moves to the previous. '),Lo(),Ho(6,"p",4),hs(7,' You can also step through the animations quickly by adjusting the slider under "Step Through Animation Frames". '),Lo(),zo(8,"video",10),Lo(),Ho(9,"button",9),Wo("click",function(){return Pe(t),qo().prevSlide()}),hs(10," Previous Slide "),Lo(),Ho(11,"button",6),Wo("click",function(){return Pe(t),qo().nextSlide()}),hs(12," Next Slide "),Lo(),Ho(13,"button",7),Wo("click",function(){return Pe(t),qo().hideModal()}),hs(14," Skip Tutorial "),Lo(),Lo()}}function sf(t,e){if(1&t){const t=Go();Ho(0,"div",1),Ho(1,"h1",2),hs(2,"Leaf Values"),Lo(),Ho(3,"span",3),Ho(4,"p",4),hs(5,' You can generate a new random list of leaf values by clicking on "New Tree". '),Lo(),Ho(6,"p",4),hs(7,' You can add a manual list by clicking "Add Custom Leaf Values" and entering the values as a comma separated list '),Lo(),zo(8,"video",11),Lo(),Ho(9,"button",9),Wo("click",function(){return Pe(t),qo().prevSlide()}),hs(10," Previous Slide "),Lo(),Ho(11,"button",6),Wo("click",function(){return Pe(t),qo().nextSlide()}),hs(12," Next Slide "),Lo(),Ho(13,"button",7),Wo("click",function(){return Pe(t),qo().hideModal()}),hs(14," Skip Tutorial "),Lo(),Lo()}}function af(t,e){if(1&t){const t=Go();Ho(0,"div",1),Ho(1,"h1",2),hs(2,"Quiz Mode"),Lo(),Ho(3,"span",3),Ho(4,"p",4),hs(5," By default the app is in Visualisation Mode, which is pretty much what you'd expect from a visualiser tool. You can switch it to Quiz Mode, which displays the final frame in the animation and marks some of the values of some of the nodes as '?''. Clicking on a node will bring up a box with two buttons and an input box, which you can use to guess what the value should be. The two buttons are for guessing -\u221e and \u221e, and the input box is for guessing a concrete number. Press the enter key to submit your answer. "),Lo(),zo(6,"video",12),Lo(),Ho(7,"button",9),Wo("click",function(){return Pe(t),qo().prevSlide()}),hs(8," Previous Slide "),Lo(),Ho(9,"button",6),Wo("click",function(){return Pe(t),qo().nextSlide()}),hs(10," Next Slide "),Lo(),Ho(11,"button",7),Wo("click",function(){return Pe(t),qo().hideModal()}),hs(12," Skip Tutorial "),Lo(),Lo()}}function lf(t,e){if(1&t){const t=Go();Ho(0,"div",1),Ho(1,"h1",2),hs(2,"That's Everything!"),Lo(),Ho(3,"span",3),Ho(4,"p",4),hs(5," That's a quick summary of all the features. If you have any questions you can contact the developer through email at mark.lee.2018@uni.strath.ac.uk "),Lo(),Ho(6,"p",4),hs(7," You can also checkout the "),Ho(8,"a",13),hs(9,"source code"),Lo(),hs(10," on GitHub when it is released. "),Lo(),Lo(),Ho(11,"button",9),Wo("click",function(){return Pe(t),qo().prevSlide()}),hs(12," Previous Slide "),Lo(),Ho(13,"button",7),Wo("click",function(){return Pe(t),qo().hideModal()}),hs(14," Finish Tutorial "),Lo(),Lo()}}let uf=(()=>{class t extends ef{constructor(){super(...arguments),this.Slide=hf}}return t.\u0275fac=function(e){return cf(e||t)},t.\u0275cmp=Gt({type:t,selectors:[["app-tutorial-modal"]],features:[bo],decls:6,vars:6,consts:[["class","modal-slide",4,"ngIf"],[1,"modal-slide"],[1,"modal-title"],[1,"modal-content"],[1,"modal-text"],[3,"routerLink"],[1,"modal-left-of-bottom-right-btn",3,"click"],[1,"modal-bottom-right-btn",3,"click"],["src","./assets/running-minimax.mp4","autoplay","","loop","",1,"modal-visual-media"],[1,"modal-bottom-left-btn",3,"click"],["src","./assets/step-features-minimax.mp4","autoplay","","loop","",1,"modal-visual-media"],["src","./assets/enter-custom-leaf-values.mp4","autoplay","","loop","",1,"modal-visual-media"],["src","./assets/minimax-quiz.mp4","autoplay","","loop","",1,"modal-visual-media"],["href","https://github.com/MarkLee7916/AI-Search-Algorithm-Visualisation"]],template:function(t,e){1&t&&(Fo(0,nf,21,2,"div",0),Fo(1,rf,13,0,"div",0),Fo(2,of,15,0,"div",0),Fo(3,sf,15,0,"div",0),Fo(4,af,13,0,"div",0),Fo(5,lf,15,0,"div",0)),2&t&&(jo("ngIf",e.slides[e.slideIndex]===e.Slide.Intro),lr(1),jo("ngIf",e.slides[e.slideIndex]===e.Slide.Animating),lr(1),jo("ngIf",e.slides[e.slideIndex]===e.Slide.SteppingThroughAnimations),lr(1),jo("ngIf",e.slides[e.slideIndex]===e.Slide.LeafValues),lr(1),jo("ngIf",e.slides[e.slideIndex]===e.Slide.Quiz),lr(1),jo("ngIf",e.slides[e.slideIndex]===e.Slide.Conclusion))},directives:[tu,ep],styles:[".modal-slide[_ngcontent-%COMP%]{position:fixed;top:0;left:0;background-color:#fff;border:3px solid var(--secondary-color);height:90vh;width:90vw;margin-left:5vw;margin-top:5vh;display:flex;flex-direction:column;align-items:flex-start;justify-content:flex-start}@media screen and (max-width:767px) and (orientation:portrait){.modal-slide[_ngcontent-%COMP%]{display:none}}.modal-title[_ngcontent-%COMP%]{margin-top:10px;font-size:25px;align-self:center}.modal-content[_ngcontent-%COMP%]{overflow:scroll;overflow-y:auto;overflow-x:hidden;margin-top:5px;margin-bottom:50px;width:90vw}.modal-centered-text[_ngcontent-%COMP%], .modal-text[_ngcontent-%COMP%]{font-size:18px;margin:10px 3%}.modal-centered-text[_ngcontent-%COMP%]{align-self:center}.modal-visual-media[_ngcontent-%COMP%]{height:331px;width:539px;margin-left:50%;transform:translate(-50%)}@media screen and (min-height:500px) and (min-width:950px){.modal-visual-media[_ngcontent-%COMP%]{height:496px;width:808px}}.modal-bottom-left-btn[_ngcontent-%COMP%]{position:absolute;bottom:0;left:0;margin-bottom:5px;margin-left:20px}.modal-left-of-bottom-right-btn[_ngcontent-%COMP%]{transform:translateX(-110%)}.modal-bottom-right-btn[_ngcontent-%COMP%], .modal-left-of-bottom-right-btn[_ngcontent-%COMP%]{position:absolute;bottom:0;right:0;margin-bottom:5px;margin-right:20px}@media screen and (max-height:600px){.modal-bottom-left-btn[_ngcontent-%COMP%], .modal-bottom-right-btn[_ngcontent-%COMP%], .modal-left-of-bottom-right-btn[_ngcontent-%COMP%]{position:fixed}}.modal-input-item[_ngcontent-%COMP%]{align-self:center;width:500px;height:100px;font-size:18px}"]}),t})();const cf=Hn(uf);var hf=function(t){return t.Intro="Intro",t.Animating="Animating",t.SteppingThroughAnimations="SteppingThroughAnimations",t.LeafValues="LeafValues",t.Quiz="Quiz",t.Conclusion="Conclusion",t}({});function df(t,e){if(1&t){const t=Go();Ho(0,"button",7),Wo("click",function(){Pe(t);const n=e.$implicit;return qo(2).handleDropdownItemClick(n)}),hs(1),Lo()}if(2&t){const t=e.$implicit;lr(1),ps(" ",t," ")}}function pf(t,e){if(1&t&&(Ho(0,"div",5),Fo(1,df,2,1,"button",6),Lo()),2&t){const t=qo();lr(1),jo("ngForOf",t.items)}}function ff(t,e){if(1&t&&(Ho(0,"div",8),hs(1),Lo()),2&t){const t=qo();lr(1),ps(" ",t.commentary," ")}}let mf=(()=>{class t{constructor(){this.itemChangedEmitter=new Oa,this.isDropdownDisplayed=!1,this.isTooltipDisplayed=!1}toggleDropdown(){this.isDropdownDisplayed=!this.isDropdownDisplayed,this.hideTooltip()}handleDropdownItemClick(t){this.toggleDropdown(),this.itemChangedEmitter.emit(t)}displayTooltip(){this.isTooltipDisplayed=!0}hideTooltip(){this.isTooltipDisplayed=!1}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=Gt({type:t,selectors:[["app-dropdown"]],inputs:{currentItem:"currentItem",items:"items",commentary:"commentary",label:"label"},outputs:{itemChangedEmitter:"itemChangedEmitter"},decls:7,vars:4,consts:[[1,"dropdown-wrapper"],[1,"dropdown-label"],[1,"dropdown-button",3,"click","mouseenter","mouseleave"],["class","dropdown-items",4,"ngIf"],["class","dropdown-tooltip",4,"ngIf"],[1,"dropdown-items"],["class","dropdown-button",3,"click",4,"ngFor","ngForOf"],[1,"dropdown-button",3,"click"],[1,"dropdown-tooltip"]],template:function(t,e){1&t&&(Ho(0,"div",0),Ho(1,"p",1),hs(2),Lo(),Ho(3,"button",2),Wo("click",function(){return e.toggleDropdown()})("mouseenter",function(){return e.displayTooltip()})("mouseleave",function(){return e.hideTooltip()}),hs(4),Lo(),Fo(5,pf,2,1,"div",3),Fo(6,ff,2,1,"div",4),Lo()),2&t&&(lr(2),ds(e.label),lr(2),ps(" ",e.currentItem+(e.isDropdownDisplayed?" \u25b2":" \u25bc")," "),lr(1),jo("ngIf",e.isDropdownDisplayed),lr(1),jo("ngIf",e.isTooltipDisplayed&&e.commentary))},directives:[tu,Jl],styles:[".dropdown-button[_ngcontent-%COMP%]{display:block;border-radius:0;margin:0}.dropdown-items[_ngcontent-%COMP%]{position:absolute;display:block}.dropdown-tooltip[_ngcontent-%COMP%]{position:absolute;width:250px;font-size:16px;background-color:#fff;border:2px solid var(--secondary-color);margin-left:8vh;padding:10px;margin-top:.3vh}.dropdown-wrapper[_ngcontent-%COMP%]{text-align:center}.dropdown-label[_ngcontent-%COMP%]{font-size:16px}@media screen and (max-width:1200px){.dropdown-label[_ngcontent-%COMP%]{font-size:12px}}"],changeDetection:0}),t})();function gf(t,e,n,i){return new(n||(n=Promise))(function(r,o){function s(t){try{l(i.next(t))}catch(e){o(e)}}function a(t){try{l(i.throw(t))}catch(e){o(e)}}function l(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}l((i=i.apply(t,e||[])).next())})}let vf=(()=>{class t{constructor(){this.setAnimationRunningEmitter=new Oa,this.setAnimationIndexEmitter=new Oa,this.animationDelayMs=0}prepareToAnimateAlgo(){this.updateAnimationFramesIfNeeded(),this.resetAnimationIndexIfAtEnd(),this.setAnimationRunningEmitter.emit(!0),this.animateAlgoWaitingForStateUpdateFromParent()}animateAlgoWaitingForStateUpdateFromParent(){const t=setInterval(()=>gf(this,void 0,void 0,function*(){this.canAnimationRun()&&(clearInterval(t),this.animateAlgo())}),0)}animateAlgo(){return gf(this,void 0,void 0,function*(){for(yield Ap(this.animationDelayMs);this.canAnimationRun();)this.incrementAnimationIndex(),yield Ap(this.animationDelayMs);this.setAnimationRunningEmitter.emit(!1)})}canAnimationRun(){return this.animationIndex<this.animationFrames.length-1&&this.isAnimationRunning}resetAnimationIndexIfAtEnd(){this.safeGetAnimationIndex()===this.animationFrames.length-1&&this.setAnimationIndexEmitter.emit(0)}decrementAnimationIndex(){this.animationIndex>0&&(this.setAnimationIndexEmitter.emit(this.animationIndex-1),this.updateAnimationFramesIfNeeded())}incrementAnimationIndex(){this.animationIndex<this.animationFrames.length-1&&(this.setAnimationIndexEmitter.emit(this.animationIndex+1),this.updateAnimationFramesIfNeeded())}updateAnimationDelayMs(t){this.animationDelayMs=Ep(t)}updateAnimationFrameIndex(t){this.updateAnimationFramesIfNeeded(),this.setAnimationIndexEmitter.emit(Ep(t))}safeGetAnimationIndex(){return Rp(this.animationFrames,this.animationIndex)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=Gt({type:t,selectors:[["app-animation"]],inputs:{isAnimationRunning:"isAnimationRunning",animationIndex:"animationIndex",animationFrames:"animationFrames",updateAnimationFramesIfNeeded:"updateAnimationFramesIfNeeded",needToUpdateAnimationFrames:"needToUpdateAnimationFrames"},outputs:{setAnimationRunningEmitter:"setAnimationRunningEmitter",setAnimationIndexEmitter:"setAnimationIndexEmitter"},decls:18,vars:10,consts:[["id","animation-menu"],[1,"range-container"],["type","range","id","set-animation-delay","min","0","max","2000",1,"range",3,"defaultValue","input"],["id","media-control-container"],["id","step-back-btn","src","./assets/step-back-button.png",1,"media-control-symbol",3,"click"],["id","play-btn","src","./assets/play-button.png",1,"media-control-symbol",3,"click"],["id","pause-btn","src","./assets/pause-button.png",1,"media-control-symbol",3,"click"],["id","step-forward-btn","src","./assets/step-forward-button.png",1,"media-control-symbol",3,"click"],["id","step-through-animation-frames","type","range","min","0",1,"range",3,"value","max","input"]],template:function(t,e){1&t&&(Ho(0,"div",0),Ho(1,"div",1),Ho(2,"p"),hs(3,"Set Animation Delay"),Lo(),Ho(4,"input",2),Wo("input",function(t){return e.updateAnimationDelayMs(t)}),Lo(),Ho(5,"p"),hs(6),Lo(),Lo(),Ho(7,"div",3),Ho(8,"img",4),Wo("click",function(){return e.decrementAnimationIndex()}),Lo(),Ho(9,"img",5),Wo("click",function(){return e.prepareToAnimateAlgo()}),Lo(),Ho(10,"img",6),Wo("click",function(){return e.setAnimationRunningEmitter.emit(!1)}),Lo(),Ho(11,"img",7),Wo("click",function(){return e.incrementAnimationIndex()}),Lo(),Lo(),Ho(12,"div",1),Ho(13,"p"),hs(14,"Step Through Animation Frames"),Lo(),Ho(15,"input",8),Wo("input",function(t){return e.updateAnimationFrameIndex(t)}),Lo(),Ho(16,"p"),hs(17),Lo(),Lo(),Lo()),2&t&&(lr(4),jo("defaultValue",e.animationDelayMs),lr(2),ps("",e.animationDelayMs,"ms"),lr(3),ts("display",e.isAnimationRunning?"none":"block"),lr(1),ts("display",e.isAnimationRunning?"block":"none"),lr(5),jo("value",e.safeGetAnimationIndex())("max",e.animationFrames.length-1),lr(2),fs(" ",e.safeGetAnimationIndex()+1," / ",e.needToUpdateAnimationFrames?"?":e.animationFrames.length," "))},styles:["#animation-menu[_ngcontent-%COMP%]{display:flex;justify-content:space-around;width:70vw}@media screen and (max-width:1300px){#animation-menu[_ngcontent-%COMP%]{width:100vw}}#media-control-container[_ngcontent-%COMP%]{display:flex;justify-content:space-around;width:30vw}.media-control-symbol[_ngcontent-%COMP%]{border:none;height:55px;width:50px;background-color:initial;cursor:pointer}.media-control-symbol[_ngcontent-%COMP%]:hover{background-color:var(--primary-color);color:initial;opacity:.3}"],changeDetection:0}),t})(),yf=(()=>{class t{transform(t){if("null"===t||null===t)return"";for(;t.includes("Infinity");)t=t.replace("Infinity","\u221e");return t}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe={type:(e={name:"infinitySymbol",type:t,pure:!0}).type,name:e.name,factory:null,pure:!1!==e.pure,onDestroy:e.type.prototype.ngOnDestroy||null},t;var e})();const wf=["app-node",""];function bf(t,e){if(1&t&&(nn(),Ho(0,"text"),hs(1),Ta(2,"infinitySymbol"),Lo()),2&t){const t=qo();Do("x",t.svgNode.centerX+5)("y",t.svgNode.centerY+15),lr(1),ps(" \u03b1: ",Aa(2,3,t.getAlphaDisplay()+"")," ")}}function _f(t,e){if(1&t&&(nn(),Ho(0,"text"),hs(1),Ta(2,"infinitySymbol"),Lo()),2&t){const t=qo();Do("x",t.svgNode.centerX+5)("y",t.svgNode.centerY+30),lr(1),ps(" \u03b2: ",Aa(2,3,t.getBetaDisplay()+"")," ")}}function xf(t,e){if(1&t){const t=Go();nn(),Ho(0,"foreignObject",4),rn(),Ho(1,"div",5),Ho(2,"button",6),Wo("click",function(){Pe(t);const e=qo();return e.handleUserGuess(e.Number.POSITIVE_INFINITY)}),hs(3," \u221e "),Lo(),Ho(4,"button",6),Wo("click",function(){Pe(t);const e=qo();return e.handleUserGuess(e.Number.NEGATIVE_INFINITY)}),hs(5," -\u221e "),Lo(),Ho(6,"input",7,8),Wo("keyup.enter",function(){Pe(t);const e=Ro(7),n=qo();return n.handleUserGuess(n.Number(e.value))}),Lo(),Lo(),Lo()}if(2&t){const t=qo();Do("x",t.getUserGuessInputXCoord())("y",t.getUserGuessInputYCoord())}}let Cf=(()=>{class t{constructor(){this.correctGuessEmitter=new Oa,this.incorrectGuessEmitter=new Oa,this.SVG_NODE_RADIUS=5,this.Number=Number,this.hasUserSetGuessInputToDisplay=!1}toggleGuessInputDisplaySelection(){this.hasUserSetGuessInputToDisplay=!this.hasUserSetGuessInputToDisplay}getAlphaDisplay(){return 1===this.svgNode.dataHiddenForUserGuess?"?":this.svgNode.internalNode.alpha+""}getBetaDisplay(){return 2===this.svgNode.dataHiddenForUserGuess?"?":this.svgNode.internalNode.beta+""}getValDisplay(){return 3===this.svgNode.dataHiddenForUserGuess?"?":this.svgNode.internalNode.val+""}isDataHiddenForUserGuess(){return 0!==this.svgNode.dataHiddenForUserGuess}getUserGuessInputXCoord(){return(this.svgNode.centerX+45).toString()}getUserGuessInputYCoord(){return(this.svgNode.centerY-50).toString()}isDisplayingGuessInput(){return this.hasUserSetGuessInputToDisplay&&this.isDataHiddenForUserGuess()}getValueToGuess(){switch(this.svgNode.dataHiddenForUserGuess){case 1:return this.svgNode.internalNode.alpha;case 2:return this.svgNode.internalNode.beta;default:return this.svgNode.internalNode.val}}handleUserGuess(t){t===this.getValueToGuess()?this.notifyCorrectGuess():this.notifyIncorrectGuess()}notifyCorrectGuess(){this.correctGuessEmitter.emit(this.svgNode)}notifyIncorrectGuess(){this.incorrectGuessEmitter.emit(this.svgNode)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=Gt({type:t,selectors:[["","app-node",""]],inputs:{svgNode:"svgNode",nodeColor:"nodeColor",orientationDisplay:"orientationDisplay",isUsingAlphaBetaPruning:"isUsingAlphaBetaPruning",isLeafNode:"isLeafNode"},outputs:{correctGuessEmitter:"correctGuessEmitter",incorrectGuessEmitter:"incorrectGuessEmitter"},attrs:wf,decls:10,vars:17,consts:[["id","node-container",3,"click"],[1,"small-text"],[4,"ngIf"],["width","150","height","100",4,"ngIf"],["width","150","height","100"],[1,"enter-user-guess-container"],[1,"enter-user-guess-button",3,"click"],["type","text","placeholder","? = ",1,"enter-user-guess-input",3,"keyup.enter"],["userguess",""]],template:function(t,e){1&t&&(nn(),Ho(0,"g",0),Wo("click",function(){return e.toggleGuessInputDisplaySelection()}),zo(1,"circle"),Ho(2,"text",1),hs(3),Lo(),Ho(4,"text"),hs(5),Ta(6,"infinitySymbol"),Lo(),Fo(7,bf,3,5,"text",2),Fo(8,_f,3,5,"text",2),Lo(),Fo(9,xf,8,2,"foreignObject",3)),2&t&&(es(e.isDataHiddenForUserGuess()?"highlight-on-hover":""),lr(1),Do("cx",e.svgNode.centerX)("cy",e.svgNode.centerY)("r",e.SVG_NODE_RADIUS)("fill",e.nodeColor),lr(1),Do("x",e.svgNode.centerX-30)("y",e.svgNode.centerY),lr(1),ps(" ",e.orientationDisplay," "),lr(1),Do("x",e.svgNode.centerX+5)("y",e.svgNode.centerY),lr(1),ps(" v: ",Aa(6,15,e.getValDisplay())," "),lr(2),jo("ngIf",e.isUsingAlphaBetaPruning&&!e.isLeafNode),lr(1),jo("ngIf",e.isUsingAlphaBetaPruning&&!e.isLeafNode),lr(1),jo("ngIf",e.isDisplayingGuessInput()))},directives:[tu],pipes:[yf],styles:[".small-text[_ngcontent-%COMP%]{font-size:10px}.medium-text[_ngcontent-%COMP%]{font-size:15px}.enter-user-guess-container[_ngcontent-%COMP%]{position:absolute;display:flex;justify-content:space-around;align-items:center;flex-direction:column;height:70px;width:30px;background-color:#fff;padding:calc((.1vw + .1vh) / 2);border:2px solid var(--secondary-color)}.enter-user-guess-input[_ngcontent-%COMP%]{font-size:10px;box-sizing:border-box;-moz-box-sizing:border-box;padding:0}.enter-user-guess-button[_ngcontent-%COMP%], .enter-user-guess-input[_ngcontent-%COMP%]{height:20px;width:25px;border:2px solid var(--secondary-color);background-color:#fff}.enter-user-guess-button[_ngcontent-%COMP%]{font-size:12px}.highlight-on-hover[_ngcontent-%COMP%]:hover{cursor:pointer;opacity:.5}"]}),t})(),If=(()=>{class t extends ef{constructor(){super(...arguments),this.updateLeafValuesEmitter=new Oa,this.LEAF_COUNT=qp,this.hasEnteredInvalidInput=!1}updateLeafValues(t){const e=this.parseLeafValues(t);null!==e&&e.length>0?(this.updateLeafValuesEmitter.emit(e),this.hideModal()):this.hasEnteredInvalidInput=!0}parseLeafValues(t){let e;t=this.removeUserInputMistakesForLeafValuesStr(t);try{e=JSON.parse(`[${t}]`)}catch(n){e=null}return e}removeUserInputMistakesForLeafValuesStr(t){return this.removeRepeatedCommas(this.removeTrailingCommas(this.removeInvalidChars(t)))}removeInvalidChars(t){return e=t=>function(t){return!isNaN(parseInt(t,10))}(t)||","===t,Array.from(t).filter(e).join("");var e}removeTrailingCommas(t){for(;","===t[0]&&t.length>1;)t=t.substring(1,t.length);for(;","===t[t.length-1]&&t.length>1;)t=t.substring(0,t.length-1);return t}removeRepeatedCommas(t){const e=this.getIndiceBoundsOutsideRepeatedCommas(t);let n="";return e.forEach(([e,i])=>{n+=t.substring(e,i)}),n}getIndiceBoundsOutsideRepeatedCommas(t){const e=[];let n=0,i=0;for(let r=0;r<=t.length;r++)if(","===t[r]||r===t.length){for(i=r+1,e.push([n,i]);","===t[r];)r++;n=r}return e}}return t.\u0275fac=function(e){return Sf(e||t)},t.\u0275cmp=Gt({type:t,selectors:[["app-enter-leaf-values-modal"]],outputs:{updateLeafValuesEmitter:"updateLeafValuesEmitter"},features:[bo],decls:15,vars:3,consts:[[1,"modal-slide"],[1,"modal-title"],[1,"modal-text"],["id","invalid-input-error-message",1,"modal-centered-text"],["type","text",1,"modal-input-item"],["leafValuesInput",""],[1,"modal-bottom-right-btn",3,"click"],[1,"modal-left-of-bottom-right-btn",3,"click"]],template:function(t,e){if(1&t){const t=Go();Ho(0,"div",0),Ho(1,"h1",1),hs(2,"Add Custom Leaf Values"),Lo(),Ho(3,"p",2),hs(4),Lo(),Ho(5,"p",2),hs(6,' An example input could be "1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1" which would make every leaf node equal to 1. '),Lo(),Ho(7,"p",3),hs(8," Input is not a valid comma separated list! "),Lo(),zo(9,"input",4,5),Ho(11,"button",6),Wo("click",function(){return e.hideModal()}),hs(12," Close Without Saving "),Lo(),Ho(13,"button",7),Wo("click",function(){Pe(t);const n=Ro(10);return e.updateLeafValues(n.value)}),hs(14," Save And Close "),Lo(),Lo()}2&t&&(lr(4),ps(" Enter a list of values separated by commas and they'll by displayed on the leaves of the tree. If you enter too many it will only display the first ",e.LEAF_COUNT," you enter, and if you enter too little it'll automatically generate the rest. "),lr(3),ts("visibility",e.hasEnteredInvalidInput?"visible":"hidden"))},styles:[".modal-slide[_ngcontent-%COMP%]{position:fixed;top:0;left:0;background-color:#fff;border:3px solid var(--secondary-color);height:90vh;width:90vw;margin-left:5vw;margin-top:5vh;display:flex;flex-direction:column;align-items:flex-start;justify-content:flex-start}@media screen and (max-width:767px) and (orientation:portrait){.modal-slide[_ngcontent-%COMP%]{display:none}}.modal-title[_ngcontent-%COMP%]{margin-top:10px;font-size:25px;align-self:center}.modal-content[_ngcontent-%COMP%]{overflow:scroll;overflow-y:auto;overflow-x:hidden;margin-top:5px;margin-bottom:50px;width:90vw}.modal-centered-text[_ngcontent-%COMP%], .modal-text[_ngcontent-%COMP%]{font-size:18px;margin:10px 3%}.modal-centered-text[_ngcontent-%COMP%]{align-self:center}.modal-visual-media[_ngcontent-%COMP%]{height:331px;width:539px;margin-left:50%;transform:translate(-50%)}@media screen and (min-height:500px) and (min-width:950px){.modal-visual-media[_ngcontent-%COMP%]{height:496px;width:808px}}.modal-bottom-left-btn[_ngcontent-%COMP%]{position:absolute;bottom:0;left:0;margin-bottom:5px;margin-left:20px}.modal-left-of-bottom-right-btn[_ngcontent-%COMP%]{transform:translateX(-110%)}.modal-bottom-right-btn[_ngcontent-%COMP%], .modal-left-of-bottom-right-btn[_ngcontent-%COMP%]{position:absolute;bottom:0;right:0;margin-bottom:5px;margin-right:20px}@media screen and (max-height:600px){.modal-bottom-left-btn[_ngcontent-%COMP%], .modal-bottom-right-btn[_ngcontent-%COMP%], .modal-left-of-bottom-right-btn[_ngcontent-%COMP%]{position:fixed}}.modal-input-item[_ngcontent-%COMP%]{align-self:center;width:500px;height:100px;font-size:18px}","#invalid-input-error-message[_ngcontent-%COMP%]{margin-top:10vh}"]}),t})();const Sf=Hn(If);function kf(t,e){if(1&t){const t=Go();Ho(0,"app-dropdown",15),Wo("itemChangedEmitter",function(e){return Pe(t),qo().setUserInteractionModeItem(e)}),Lo()}if(2&t){const t=qo();jo("currentItem",t.userInteractionModeItem)("items",t.userInteractionModeItems)}}function Tf(t,e){1&t&&(Ho(0,"div",16),Ho(1,"p"),hs(2,"\ud83d\udfe5 - Not Considered"),Lo(),Ho(3,"p"),hs(4,"\ud83d\udfe6 - Considered"),Lo(),Ho(5,"p"),hs(6,"v - Node Value"),Lo(),Ho(7,"p"),hs(8,"\u03b1 - Alpha Value"),Lo(),Ho(9,"p"),hs(10,"\u03b2 - Beta Value"),Lo(),Lo())}function Af(t,e){if(1&t){const t=Go();Ho(0,"button",2),Wo("click",function(){Pe(t);const e=qo();return e.setModalDisplayed(e.Modal.EnterLeafValues)}),hs(1," Add Custom Leaf Values "),Lo()}}function Ef(t,e){if(1&t&&(nn(),zo(0,"line",17)),2&t){const t=e.$implicit;Do("x1",t.startX)("y1",t.startY)("x2",t.endX)("y2",t.endY)}}function Of(t,e){if(1&t){const t=Go();nn(),Ho(0,"g",18),Wo("correctGuessEmitter",function(e){return Pe(t),qo().handleCorrectGuess(e)})("incorrectGuessEmitter",function(){return Pe(t),qo().handleIncorrectGuess()}),Lo()}if(2&t){const t=e.$implicit,n=qo();es(n.getNodeClass(t.internalNode)),jo("svgNode",t)("nodeColor",n.getNodeColor(t.internalNode))("orientationDisplay",n.getOrientationDisplay(t.internalNode.depth))("isUsingAlphaBetaPruning",n.isUsingAlphaBetaPruning())("isLeafNode",n.isLeafNode(t.internalNode))}}function Pf(t,e){if(1&t){const t=Go();nn(),rn(),Ho(0,"app-tutorial-modal",19),Wo("hideEmitter",function(){return Pe(t),qo().hideModal()}),Lo()}2&t&&jo("slides",qo().tutorialModalSlides)}function Mf(t,e){if(1&t){const t=Go();nn(),rn(),Ho(0,"app-enter-leaf-values-modal",20),Wo("hideEmitter",function(){return Pe(t),qo().hideModal()})("updateLeafValuesEmitter",function(e){return Pe(t),qo().updateLeafValuesWithUserEnteredList(e)}),Lo()}}let Df=(()=>{class t{constructor(){this.Modal=Ff,this.SVG_HEIGHT=265,this.SVG_WIDTH=1150,this.isLeafNode=Zp,this.tutorialModalSlides=Object.values(hf),this.pruningHeuristicItems=Object.values(Kp),this.userInteractionModeItems=Object.values(tf),this.isWidthGreaterThan=Up,this.animationFrames=[],this.isAnimationRunning=!1,this.animationIndex=0,this.needToUpdateAnimationFrames=!0,this.modalDisplayed=Ff.Tutorial,this.pruningHeuristicItem=Kp.None,this.userInteractionModeItem=tf.Visualise,this.leafValues=this.fillLeafValues([]),this.commentaryType=4,this.isLegendDisplayed=!1}toggleLegendDisplay(){this.isLegendDisplayed=!this.isLegendDisplayed}ngOnInit(){this.loadDropdownOptions(),this.updateAnimationFramesIfNeeded()}loadDropdownOptions(){const t=Np("minimax-options");null!==t&&(this.pruningHeuristicItem=t.pruningHeuristicItem,this.leafValues=t.leafValues,this.commentaryType=t.commentaryType,this.userInteractionModeItem=t.userInteractionModeItem)}updateAnimationFramesIfNeeded(){if(this.needToUpdateAnimationFrames){const t=function(t,e){const n=Qp(t),i=[Wp(zp()(n),null,"Nothing has happened yet!")];return Xp(n,n,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,0,e,i),i.push(Wp(zp()(n),null,"Final path through tree found!")),i}([...this.leafValues],this.isUsingAlphaBetaPruning()).map(Gp);this.isInQuizMode()?(this.animationFrames=this.hideTreeDataForUserToGuess(t),this.setAnimationIndex(this.animationFrames.length-1)):this.animationFrames=t}this.needToUpdateAnimationFrames=!1}hideTreeDataForUserToGuess(t){const e=zp()(t),n=this.genDataToHideForEachNode();return e[e.length-1]=this.hideTreeDataForFrame(e[e.length-1],n),e}genDataToHideForEachNode(){const t=[];for(let e=0;e<qp-1;e++){const e=kp(0,3);0===e&&this.isUsingAlphaBetaPruning()?t.push(1):1===e&&this.isUsingAlphaBetaPruning()?t.push(2):t.push(3)}return t}hideTreeDataForFrame(t,e){return t.tree.nodes.filter(({internalNode:t})=>!Zp(t)&&!(0===t.depth)&&t.hasBeenConsidered).forEach((t,n)=>{t.dataHiddenForUserGuess=e[n]}),t}updateLeafValuesWithUserEnteredList(t){this.leafValues=this.fillLeafValues(t),this.markAnimationFramesForUpdate()}fillLeafValues(t){const e=qp-t.length;return t.concat(e>0?Array(e).fill(void 0).map(()=>kp(1,100)):[])}updateLeafValuesWithGeneratedList(){this.leafValues=this.fillLeafValues([]),this.markAnimationFramesForUpdate()}hideModal(){this.setModalDisplayed(Ff.None)}setModalDisplayed(t){this.modalDisplayed=t}setAnimationRunning(t){this.isAnimationRunning=t}setAnimationIndex(t){this.animationIndex=t}safeGetAnimationIndex(){return Rp(this.animationFrames,this.animationIndex)}getCurrentAnimationFrame(){return this.animationFrames[this.safeGetAnimationIndex()]}getNodeClass(t){return t.id===this.getCurrentAnimationFrame().currNodeId?"opacity-highlight stroke-black":""}getOrientationDisplay(t){return 4===t?"":t%2==0?"MAX":"MIN"}getNodeColor(t){return t.hasBeenConsidered?"#4169e1":"#ed2939"}isLastAnimationFrame(){return this.safeGetAnimationIndex()===this.animationFrames.length-1}setPruningHeuristicItem(t){this.pruningHeuristicItem=t,this.markAnimationFramesForUpdate()}setUserInteractionModeItem(t){this.userInteractionModeItem=t,this.markAnimationFramesForUpdate(),this.commentaryType=this.userInteractionModeItem===tf.Quiz?3:4}markAnimationFramesForUpdate(){this.needToUpdateAnimationFrames=!0,this.setAnimationIndex(0),this.setAnimationRunning(!1),this.updateAnimationFramesIfNeeded()}isUsingAlphaBetaPruning(){return this.pruningHeuristicItem===Kp.AlphaBeta}getCommentary(){switch(this.commentaryType){case 4:return this.getCurrentAnimationFrame().commentary;case 1:return"Correct!";case 2:return"All guesses correct! Change the tree values to try again";case 3:return'Click on a node with a "?" symbol and enter your guess for what the value should be in the bottom box, pressing the enter key to submit. You can use the first two buttons to guess \u221e or -\u221e';default:return"Incorrect! Try again"}}isInQuizMode(){return this.userInteractionModeItem===tf.Quiz}handleCorrectGuess({internalNode:t}){this.unhideGuessData(t),this.displayGuessCommentaryTemporarily(1)}hasUserGuessedAllCorrect(){return this.animationFrames[this.animationFrames.length-1].tree.nodes.every(t=>!t.dataHiddenForUserGuess)}handleIncorrectGuess(){this.displayGuessCommentaryTemporarily(0)}displayGuessCommentaryTemporarily(t){this.commentaryType=t,setTimeout(()=>{this.commentaryType=this.hasUserGuessedAllCorrect()?2:3},1e3)}unhideGuessData(t){const e=zp()(this.animationFrames);e.forEach(e=>{Op(e.tree.nodes.find(e=>e.internalNode.id===t.id)).dataHiddenForUserGuess=0}),this.animationFrames=e}saveDropdownOptions(){jp("minimax-options",{pruningHeuristicItem:this.pruningHeuristicItem,leafValues:this.leafValues,commentaryType:this.commentaryType,userInteractionModeItem:this.userInteractionModeItem})}saveAppStateBeforeClose(){this.saveDropdownOptions()}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=Gt({type:t,selectors:[["app-page"]],hostBindings:function(t,e){1&t&&Wo("beforeunload",function(t){return e.saveAppStateBeforeClose(t)},!1,Ci)},decls:22,vars:23,consts:[[1,"page"],[1,"screen-wide-menu","top-menu"],[3,"click"],["commentary","'No pruning' will run the algorithm without trying to prune any nodes. 'Use alpha beta pruning' will run the alpha beta pruning algorithm to get skip past nodes that can't make a difference to the final result.",3,"currentItem","items","itemChangedEmitter"],["commentary","The mode for how you interact with the tool. Visualisation mode is passive; it just displays the visualisation. Quiz mode hides some values of nodes and asks you to predict what the values will be.",3,"currentItem","items","itemChangedEmitter",4,"ngIf"],["class","legend-tooltip",4,"ngIf"],[3,"click",4,"ngIf"],[3,"isAnimationRunning","animationIndex","animationFrames","updateAnimationFramesIfNeeded","needToUpdateAnimationFrames","setAnimationRunningEmitter","setAnimationIndexEmitter"],[1,"commentary"],["id","tree-svg","version","1.1","xmlns","http://www.w3.org/2000/svg"],["width","100%","height","100%","fill","white"],["stroke","var(--primary-color)",4,"ngFor","ngForOf"],["app-node","","id","node-container",3,"class","svgNode","nodeColor","orientationDisplay","isUsingAlphaBetaPruning","isLeafNode","correctGuessEmitter","incorrectGuessEmitter",4,"ngFor","ngForOf"],[3,"slides","hideEmitter",4,"ngIf"],[3,"hideEmitter","updateLeafValuesEmitter",4,"ngIf"],["commentary","The mode for how you interact with the tool. Visualisation mode is passive; it just displays the visualisation. Quiz mode hides some values of nodes and asks you to predict what the values will be.",3,"currentItem","items","itemChangedEmitter"],[1,"legend-tooltip"],["stroke","var(--primary-color)"],["app-node","","id","node-container",3,"svgNode","nodeColor","orientationDisplay","isUsingAlphaBetaPruning","isLeafNode","correctGuessEmitter","incorrectGuessEmitter"],[3,"slides","hideEmitter"],[3,"hideEmitter","updateLeafValuesEmitter"]],template:function(t,e){1&t&&(Ho(0,"div",0),Ho(1,"div",1),Ho(2,"button",2),Wo("click",function(){return e.setModalDisplayed(e.Modal.Tutorial)}),hs(3,"Tutorial"),Lo(),Ho(4,"app-dropdown",3),Wo("itemChangedEmitter",function(t){return e.setPruningHeuristicItem(t)}),Lo(),Fo(5,kf,1,2,"app-dropdown",4),Ho(6,"button",2),Wo("click",function(){return e.updateLeafValuesWithGeneratedList()}),hs(7,"New Tree"),Lo(),Ho(8,"button",2),Wo("click",function(){return e.toggleLegendDisplay()}),hs(9,"Show Legend"),Lo(),Fo(10,Tf,11,0,"div",5),Fo(11,Af,2,0,"button",6),Lo(),Ho(12,"app-animation",7),Wo("setAnimationRunningEmitter",function(t){return e.setAnimationRunning(t)})("setAnimationIndexEmitter",function(t){return e.setAnimationIndex(t)}),Lo(),Ho(13,"p",8),hs(14),Ta(15,"infinitySymbol"),Lo(),nn(),Ho(16,"svg",9),zo(17,"rect",10),Fo(18,Ef,1,4,"line",11),Fo(19,Of,1,7,"g",12),Lo(),Lo(),Fo(20,Pf,1,1,"app-tutorial-modal",13),Fo(21,Mf,1,0,"app-enter-leaf-values-modal",14)),2&t&&(ts("opacity",e.modalDisplayed===e.Modal.None?"1":"0.1"),lr(4),jo("currentItem",e.pruningHeuristicItem)("items",e.pruningHeuristicItems),lr(1),jo("ngIf",e.isWidthGreaterThan(1e3)),lr(5),jo("ngIf",e.isLegendDisplayed),lr(1),jo("ngIf",e.isWidthGreaterThan(1e3)),lr(1),ts("visibility",e.isInQuizMode()?"hidden":"visible"),jo("isAnimationRunning",e.isAnimationRunning)("animationIndex",e.animationIndex)("animationFrames",e.animationFrames)("updateAnimationFramesIfNeeded",e.updateAnimationFramesIfNeeded.bind(e))("needToUpdateAnimationFrames",e.needToUpdateAnimationFrames),lr(2),ps(" ",Aa(15,21,e.getCommentary())," "),lr(2),Do("height",e.SVG_HEIGHT)("width",e.SVG_WIDTH),lr(2),jo("ngForOf",e.getCurrentAnimationFrame().tree.edges),lr(1),jo("ngForOf",e.getCurrentAnimationFrame().tree.nodes),lr(1),jo("ngIf",e.modalDisplayed===e.Modal.Tutorial),lr(1),jo("ngIf",e.modalDisplayed===e.Modal.EnterLeafValues))},directives:[mf,tu,vf,Jl,Cf,uf,If],pipes:[yf],styles:[".stroke-black[_ngcontent-%COMP%]{stroke:#000}.legend-tooltip[_ngcontent-%COMP%]{position:absolute;background-color:#fff;border:2px solid var(--secondary-color);margin-left:35vw;padding:10px;margin-top:6vh}.top-menu[_ngcontent-%COMP%]{margin-top:10px}.commentary[_ngcontent-%COMP%], .legend-tooltip[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{font-size:16px}.commentary[_ngcontent-%COMP%]{width:100vw;text-align:center;height:50px;margin-bottom:-80px}#tree-svg[_ngcontent-%COMP%]{border:2px solid #000;overflow:visible}@media screen and (max-width:2600px){#tree-svg[_ngcontent-%COMP%]{transform:scale(1.4)}}@media screen and (max-width:2100px){#tree-svg[_ngcontent-%COMP%]{transform:scale(1.2)}}@media screen and (max-width:1500px){#tree-svg[_ngcontent-%COMP%]{transform:scale(.8)}}@media screen and (max-width:1100px){#tree-svg[_ngcontent-%COMP%]{transform:scale(.6)}}@media screen and (max-height:400px){#tree-svg[_ngcontent-%COMP%]{transform:scale(.6)}}@media screen and (max-width:800px){#tree-svg[_ngcontent-%COMP%]{transform:scale(.5)}}"]}),t})();var Ff=function(t){return t[t.Tutorial=0]="Tutorial",t[t.EnterLeafValues=1]="EnterLeafValues",t[t.None=2]="None",t}({});const Rf=[{path:"minimax",component:Df}];let Nf=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Bt({type:t}),t.\u0275inj=ht({imports:[[pp.forChild(Rf)],pp]}),t})();const jf=[];let Uf=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Bt({type:t}),t.\u0275inj=ht({imports:[[pp.forChild(jf)],pp]}),t})(),Hf=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Bt({type:t}),t.\u0275inj=ht({imports:[[iu,Uf]]}),t})(),Lf=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Bt({type:t}),t.\u0275inj=ht({imports:[[iu,Nf,Ru,Hf]]}),t})();class zf{constructor(t){this.map=new Map,t.forEach(([t,e])=>{this.map.set(JSON.stringify(t),e)})}get(t){return Op(this.map.get(JSON.stringify(t)))}set(t,e){this.map.set(JSON.stringify(t),e)}keys(){return Array.from(this.map.keys()).map(t=>JSON.parse(t))}}function Gf(t){return Fp(t,t,()=>!1)}function Vf(t,e,n,i){t[e][n]=i}function Wf(t,e,n){return!function(t,e,n){for(let i=0;i<t.length;i++)if(i!==e&&$f(t,i,n))return!0;return!1}(t,e,n)&&!function(t,e,n){for(let i=1;i<t.length;i++)if($f(t,e-i,n-i)||$f(t,e-i,n+i)||$f(t,e+i,n-i)||$f(t,e+i,n+i))return!0;return!1}(t,e,n)}function $f(t,e,n){return e>=0&&n>=0&&e<t.length&&n<t.length&&t[e][n]}function Bf(t,e){return t.every((n,i)=>t[i]===e[i])}function qf(t){const e=new zf([]);return t.keys().forEach(n=>{e.set(n,[...t.get(n)])}),e}function Qf(t){const e=Mp(0,t).map(t=>[t,[]]);return new zf(e)}function Zf(t){const e=new zf([]);for(let n=0;n<t;n++)e.set(n,Mp(0,t));return e}function Yf(t){return{board:Gf(t),commentary:"Nothing has happened yet!",rowInConsideration:null,domainRowToHighlight:null,varToDomain:Zf(t)}}function Xf(t,e,n,i,r){return{board:zp()(t),commentary:e,rowInConsideration:n,domainRowToHighlight:i,varToDomain:qf(r)}}function Jf(t,e,n){return{board:zp()(t),commentary:e,rowInConsideration:n,domainRowToHighlight:null,varToDomain:Qf(t.length)}}function Kf(t){const e=[Yf(t)];return null===tm(Gf(t),0,e)&&e.push(Jf(Gf(t),"No Solution Found!",null)),e}function tm(t,e,n){if(e===t.length)return n.push(Jf(t,"Solution Found!",null)),t;for(let i=0;i<t.length;i++){if(Vf(t,e,i,!0),n.push(Jf(t,"Assigning Queen to column...",e)),Wf(t,e,i)){n.push(Jf(t,"Assignment is valid!",e));const i=tm(zp()(t),e+1,n);if(null!==i)return i;n.push(Jf(t,"Assignment has lead to failure for a later row, so no solutions can be generated from this partial configuration",e))}else n.push(Jf(t,"Assignment is invalid!",e));n.push(Jf(t,"Will try again for next column...",e)),Vf(t,e,i,!1)}return n.push(Jf(t,"No valid assignment found, backtracking...",e)),null}function em(t,e,n,i,r){const o=qf(t),s=e[n].indexOf(!0);return r.push(Xf(zp()(e),`Starting to prune domain of assigned row - row ${n+1}...`,n,n,o)),o.set(n,[s]),r.push(Xf(zp()(e),`Pruning domain of assigned row - row ${n+1}... done`,n,n,o)),i.forEach(i=>{const s=t.get(i);r.push(Xf(e,`Starting to prune domain of row ${i+1}...`,n,i,o));for(const t of s)Wf(e,i,t)||Dp(o.get(i),t);r.push(Xf(e,`Pruning domain of row ${i+1}... done`,n,i,o))}),o}function nm(t,e,n,i){const r=[Yf(t)],o=Mp(0,t);return null===im(e,n,i,Zf(t),o,Gf(t),r)&&r.push(Xf(Gf(t),"No Solution Found!",null,null,Zf(t))),r}function im(t,e,n,i,r,o,s){if(0===r.length)return s.push(Xf(o,"Solution Found!",null,null,i)),o;const a=e?function(t,e,n,i){let r=Number.POSITIVE_INFINITY,o=n[0];return n.forEach(t=>{const n=e.get(t).length;n<r&&(r=n,o=t)}),i.push(Xf(t,`Selecting unassigned row with smallest domain... ${o+1} `,null,null,e)),o}(o,i,r,s):r[0],l=t?function(t,e,n,i){return[...n.get(e)].sort((r,o)=>om(o,t,e,n,i)-om(r,t,e,n,i))}(o,a,i,r):[...i.get(a)];Dp(r,a);for(const u of l){Vf(o,a,u,!0),s.push(Xf(o,"Assigning Queen to column...",a,null,i));const l=n(i,o,a,r,s);s.push(Xf(o,"Preparing to move to next row...",a,null,l));const c=im(t,e,n,l,r,zp()(o),s);if(null!==c)return c;s.push(Xf(o,"Assignment has lead to an empty domain in a later row, so no solutions can be generated from this partial configuration",a,null,l)),s.push(Xf(o,"Resetting domains from pruning done as result of assignment...",a,null,l)),rm(l,i,o,a,r,s),s.push(Xf(o,"Resetting of domains done, moving to next column...",a,null,i)),Vf(o,a,u,!1)}return s.push(Xf(o,l.length>0?"All assignments for this row have failed and there are no more to make, backtracking to previous row...":"Domain of this row is empty, backtracking to previous row...",a,a,i)),r.unshift(a),r.sort((t,e)=>t-e),null}function rm(t,e,n,i,r,o){[i].concat(r).forEach(r=>{o.push(Xf(n,`Resetting domains after failed assignment for row ${r+1}...`,i,r,t)),t.set(r,e.get(r)),o.push(Xf(n,`Resetting domains after failed assignment for row ${r+1}... done`,i,r,t))})}function om(t,e,n,i,r){const o=zp()(e),s=[...r];Dp(s,n),Vf(o,n,t,!0);const a=em(i,o,n,s,[]);return s.reduce((t,e)=>t+a.get(e).reduce((t,e)=>t+e,0),0)}function sm(t,e,n,i,r){const o=qf(t),s=function(t,e,n){const i=[],r=n.concat(e);for(let o=0;o<t.length;o++)for(let e=o+1;e<t.length;e++)r.includes(o)&&r.includes(e)&&(i.push({varPruned:o,varRespected:e,constraint:lm(o,e,t)}),i.push({varPruned:e,varRespected:o,constraint:lm(e,o,t)}));return i}(e,n,i),a=e[n].indexOf(!0);for(r.push(Xf(zp()(e),`Starting to prune domain of assigned row - row ${n+1}...`,n,n,o)),o.set(n,[a]),r.push(Xf(zp()(e),`Pruning domain of assigned row - row ${n+1}... done`,n,n,o));s.length>0;){const t=Op(s.shift()),i=o.get(t.varPruned),a=o.get(t.varRespected);r.push(Xf(zp()(e),`Pruning domain of row ${t.varPruned+1} with respect to row ${t.varRespected+1}...`,n,t.varPruned,o));const l=um(i,a,t.constraint);o.set(t.varPruned,l),r.push(Xf(e,`Pruning domain of row ${t.varPruned+1} with respect to row ${t.varRespected+1}... done`,n,t.varPruned,o)),Bf(i,l)||am(t.varPruned,s).forEach(t=>{s.push(t)})}return o}function am(t,e){return function(t,e){return e.filter(e=>e.varRespected===t)}(t,e).filter(t=>!e.some(e=>e.varPruned===t.varPruned&&e.varRespected===t.varRespected))}function lm(t,e,n){return(i,r)=>{const o=zp()(n);return Vf(o,t,i,!0),Vf(o,e,r,!0),Wf(o,t,i)&&Wf(o,e,r)}}function um(t,e,n){const i=new Set;return t.forEach(t=>{(function(t,e,n){return e.some(e=>n(t,e))})(t,e,n)||i.add(t)}),t.filter(t=>!i.has(t))}var cm=function(t){return t.Node="Check Node Consistency",t.Arc="Check Arc Consistency",t}({}),hm=function(t){return t.Assigning="Check When Assigning",t.ForwardChecking="Use Forward Checking",t}({}),dm=function(t){return t.InOrder="In Order",t.MostConstrained="Smallest Domain",t}({}),pm=function(t){return t.Visualise="Visualisation Mode",t.Quiz="Quiz Mode",t}({}),fm=function(t){return t.InOrder="In Order",t.LeastConstraining="Least constraining",t}({});function mm(t,e){if(1&t){const t=Go();Ho(0,"div",1),Ho(1,"h1",2),hs(2,"Welcome to N-Queens Visualiser!"),Lo(),Ho(3,"span",3),Ho(4,"p",4),hs(5," This is a project that aims to help students learn about constraint satisfaction algorithms through visualising their application to the N-Queens problem. This app works by animating the process these go through when trying to find a suitable configuration for the queens. It was written by Mark Lee as his final year project for BSc Computer Science at the University of Strathclyde. "),Lo(),Ho(6,"p",4),hs(7," These slides will guide you through the features of the application. You can navigate through the slides using the buttons at the bottom left and bottom right corners of the current slide. "),Lo(),Ho(8,"p",4),hs(9," A general tip for using algorithm visualisation tools: it's better to try and actively learn than passively learn. When stepping through an algorithm, try and predict what it will do next. If you're right, then it shows you understand the algorithm. If you're wrong, it's worth wondering why that is and comparing your result with the actual one. "),Lo(),Ho(10,"p",4),hs(11," As part of this project I've also implemented visualisers for "),Ho(12,"a",5),hs(13,"Adversarial Search"),Lo(),hs(14," and "),Ho(15,"a",5),hs(16,"Pathfinding"),Lo(),Lo(),Lo(),Ho(17,"button",6),Wo("click",function(){return Pe(t),qo().nextSlide()}),hs(18," Next Slide "),Lo(),Ho(19,"button",7),Wo("click",function(){return Pe(t),qo().hideModal()}),hs(20," Skip Tutorial "),Lo(),Lo()}2&t&&(lr(12),jo("routerLink","/minimax"),lr(3),jo("routerLink","/pathfinding"))}function gm(t,e){if(1&t){const t=Go();Ho(0,"div",1),Ho(1,"h1",2),hs(2,"Mapping to Constraint Satisfaction"),Lo(),Ho(3,"span",3),Ho(4,"p",4),hs(5," We can consider the N-Queens problem as a special case of constraint satisfaction, and a nice example for demonstrating algorithms for solving CSPs like backtracking. "),Lo(),Ho(6,"p",4),hs(7," For this tool, the rows are the variables, implicitly assuming that no two queens will be placed on the same row. The columns are the values, and an assignment is a column assigned to a row i.e a tile on the board. The choice of variable encodes the row and the value assigned to that variable encodes the column. The constraints are the rule of the queens not being able to attack each other. "),Lo(),Ho(8,"p",4),hs(9),Ho(10,"small"),Ho(11,"small"),hs(12,"1"),Lo(),Lo(),hs(13," ... R"),Ho(14,"small"),Ho(15,"small"),hs(16,"N"),Lo(),Lo(),hs(17),Lo(),Ho(18,"p",4),hs(19),Ho(20,"small"),Ho(21,"small"),hs(22,"x"),Lo(),Lo(),hs(23," - R"),Ho(24,"small"),Ho(25,"small"),hs(26,"y"),Lo(),Lo(),hs(27," | > 0 & |R"),Ho(28,"small"),Ho(29,"small"),hs(30,"x"),Lo(),Lo(),hs(31," - R"),Ho(32,"small"),Ho(33,"small"),hs(34,"y"),Lo(),Lo(),hs(35," | \u2260 x - y "),Lo(),Lo(),Ho(36,"button",8),Wo("click",function(){return Pe(t),qo().prevSlide()}),hs(37," Previous Slide "),Lo(),Ho(38,"button",6),Wo("click",function(){return Pe(t),qo().nextSlide()}),hs(39," Next Slide "),Lo(),Ho(40,"button",7),Wo("click",function(){return Pe(t),qo().hideModal()}),hs(41," Skip Tutorial "),Lo(),Lo()}2&t&&(lr(9),ps(" More formally, we can express the variables as ","{","R"),lr(8),ms("","}"," and the values for each variable as ","{","1 ... N","}"," "),lr(2),gs(" Here, the constraints would be \u2200 (x, y) \u2208 ","{","1 ... N","}"," \xd7 ","{","1 ... N","}"," & x > y -> |R"))}function vm(t,e){if(1&t){const t=Go();Ho(0,"div",1),Ho(1,"h1",2),hs(2,"Checking Validity of Assignments"),Lo(),Ho(3,"span",3),Ho(4,"p",4),hs(5,' This tool supports two methods of checking the validity of queen assignments. "Check When Assigning" and "Forward Checking". '),Lo(),Ho(6,"p",4),hs(7," When forward checking, every time an assignment is made we look ahead and remove values from the domains of unassigned variables to rule out possibilities beforehand. This gives us access to heuristics that control which variable and value to select next in the hope that a solution will be reached faster. "),Lo(),Ho(8,"p",4),hs(9,' Selecting "Forward Checking" in the menu shows dropdowns to configure the way forward checking is done and heuristics for selecting variables and values. '),Lo(),zo(10,"video",9),Lo(),Ho(11,"button",8),Wo("click",function(){return Pe(t),qo().prevSlide()}),hs(12," Previous Slide "),Lo(),Ho(13,"button",6),Wo("click",function(){return Pe(t),qo().nextSlide()}),hs(14," Next Slide "),Lo(),Ho(15,"button",7),Wo("click",function(){return Pe(t),qo().hideModal()}),hs(16," Skip Tutorial "),Lo(),Lo()}}function ym(t,e){if(1&t){const t=Go();Ho(0,"div",1),Ho(1,"h1",2),hs(2,"Highlighting"),Lo(),Ho(3,"span",3),Ho(4,"p",4),hs(5),Lo(),Ho(6,"p",4),hs(7," The row that we're currently placing a queen on is highlighted using a black border. "),Lo(),zo(8,"video",10),Lo(),Ho(9,"button",8),Wo("click",function(){return Pe(t),qo().prevSlide()}),hs(10," Previous Slide "),Lo(),Ho(11,"button",6),Wo("click",function(){return Pe(t),qo().nextSlide()}),hs(12," Next Slide "),Lo(),Ho(13,"button",7),Wo("click",function(){return Pe(t),qo().hideModal()}),hs(14," Skip Tutorial "),Lo(),Lo()}2&t&&(lr(5),fs(" When using forward checking, the domain of each variable is displayed in green on the board. For instance if a variables domain is ","{","1, 2","}",", the first two tiles in the corresponding row will be green. While domains are being displayed, the checkerboard pattern is disabled and any tile not in the corresponding variables domain will be white. "))}function wm(t,e){if(1&t){const t=Go();Ho(0,"div",1),Ho(1,"h1",2),hs(2,"Animating an Algorithm"),Lo(),Ho(3,"span",3),Ho(4,"p",4),hs(5,' To animate an algorithm simply press the "\u23ef" button. While an algorithm is being animated this button will change to "\u23f8", which pauses the animation. You can configure the speed of the animation by adjusting the slider under "Set Animation Delay". '),Lo(),zo(6,"video",11),Lo(),Ho(7,"button",8),Wo("click",function(){return Pe(t),qo().prevSlide()}),hs(8," Previous Slide "),Lo(),Ho(9,"button",6),Wo("click",function(){return Pe(t),qo().nextSlide()}),hs(10," Next Slide "),Lo(),Ho(11,"button",7),Wo("click",function(){return Pe(t),qo().hideModal()}),hs(12," Skip Tutorial "),Lo(),Lo()}}function bm(t,e){if(1&t){const t=Go();Ho(0,"div",1),Ho(1,"h1",2),hs(2,"Stepping Through Animations"),Lo(),Ho(3,"span",3),Ho(4,"p",4),hs(5,' You can step through animations to view them at your own pace. The "\u25b6\ufe0f" button moves to the next frame in the animation while the "\u25c0" button moves to the previous. '),Lo(),Ho(6,"p",4),hs(7,' You can also step through the animations quickly by adjusting the slider under "Step Through Animation Frames". '),Lo(),zo(8,"video",12),Lo(),Ho(9,"button",8),Wo("click",function(){return Pe(t),qo().prevSlide()}),hs(10," Previous Slide "),Lo(),Ho(11,"button",6),Wo("click",function(){return Pe(t),qo().nextSlide()}),hs(12," Next Slide "),Lo(),Ho(13,"button",7),Wo("click",function(){return Pe(t),qo().hideModal()}),hs(14," Skip Tutorial "),Lo(),Lo()}}function _m(t,e){if(1&t){const t=Go();Ho(0,"div",1),Ho(1,"h1",2),hs(2,"That's Everything!"),Lo(),Ho(3,"span",3),Ho(4,"p",4),hs(5," That's a quick summary of all the features. If you have any questions you can contact the developer through email at mark.lee.2018@uni.strath.ac.uk "),Lo(),Ho(6,"p",4),hs(7," You can also checkout the "),Ho(8,"a",13),hs(9,"source code"),Lo(),hs(10," on GitHub when it is released. "),Lo(),Lo(),Ho(11,"button",8),Wo("click",function(){return Pe(t),qo().prevSlide()}),hs(12," Previous Slide "),Lo(),Ho(13,"button",7),Wo("click",function(){return Pe(t),qo().hideModal()}),hs(14," Finish Tutorial "),Lo(),Lo()}}let xm=(()=>{class t extends ef{constructor(){super(...arguments),this.Slide=Im}}return t.\u0275fac=function(e){return Cm(e||t)},t.\u0275cmp=Gt({type:t,selectors:[["app-tutorial-modal"]],features:[bo],decls:7,vars:7,consts:[["class","modal-slide",4,"ngIf"],[1,"modal-slide"],[1,"modal-title"],[1,"modal-content"],[1,"modal-text"],[3,"routerLink"],[1,"modal-left-of-bottom-right-btn",3,"click"],[1,"modal-bottom-right-btn",3,"click"],[1,"modal-bottom-left-btn",3,"click"],["src","./assets/forward-checking-menu.mp4","autoplay","","loop","",1,"modal-visual-media"],["src","./assets/highlighting.mp4","autoplay","","loop","",1,"modal-visual-media"],["src","./assets/running-backtracking-algo.mp4","autoplay","","loop","",1,"modal-visual-media"],["src","./assets/step-features-backtracking.mp4","autoplay","","loop","",1,"modal-visual-media"],["href","https://github.com/MarkLee7916/AI-Search-Algorithm-Visualisation"]],template:function(t,e){1&t&&(Fo(0,mm,21,2,"div",0),Fo(1,gm,42,8,"div",0),Fo(2,vm,17,0,"div",0),Fo(3,ym,15,2,"div",0),Fo(4,wm,13,0,"div",0),Fo(5,bm,15,0,"div",0),Fo(6,_m,15,0,"div",0)),2&t&&(jo("ngIf",e.slides[e.slideIndex]===e.Slide.Intro),lr(1),jo("ngIf",e.slides[e.slideIndex]===e.Slide.MappingOntoCSP),lr(1),jo("ngIf",e.slides[e.slideIndex]===e.Slide.CheckingType),lr(1),jo("ngIf",e.slides[e.slideIndex]===e.Slide.Highlighting),lr(1),jo("ngIf",e.slides[e.slideIndex]===e.Slide.Animating),lr(1),jo("ngIf",e.slides[e.slideIndex]===e.Slide.SteppingThroughAnimations),lr(1),jo("ngIf",e.slides[e.slideIndex]===e.Slide.Conclusion))},directives:[tu,ep],styles:[".modal-slide[_ngcontent-%COMP%]{position:fixed;top:0;left:0;background-color:#fff;border:3px solid var(--secondary-color);height:90vh;width:90vw;margin-left:5vw;margin-top:5vh;display:flex;flex-direction:column;align-items:flex-start;justify-content:flex-start}@media screen and (max-width:767px) and (orientation:portrait){.modal-slide[_ngcontent-%COMP%]{display:none}}.modal-title[_ngcontent-%COMP%]{margin-top:10px;font-size:25px;align-self:center}.modal-content[_ngcontent-%COMP%]{overflow:scroll;overflow-y:auto;overflow-x:hidden;margin-top:5px;margin-bottom:50px;width:90vw}.modal-centered-text[_ngcontent-%COMP%], .modal-text[_ngcontent-%COMP%]{font-size:18px;margin:10px 3%}.modal-centered-text[_ngcontent-%COMP%]{align-self:center}.modal-visual-media[_ngcontent-%COMP%]{height:331px;width:539px;margin-left:50%;transform:translate(-50%)}@media screen and (min-height:500px) and (min-width:950px){.modal-visual-media[_ngcontent-%COMP%]{height:496px;width:808px}}.modal-bottom-left-btn[_ngcontent-%COMP%]{position:absolute;bottom:0;left:0;margin-bottom:5px;margin-left:20px}.modal-left-of-bottom-right-btn[_ngcontent-%COMP%]{transform:translateX(-110%)}.modal-bottom-right-btn[_ngcontent-%COMP%], .modal-left-of-bottom-right-btn[_ngcontent-%COMP%]{position:absolute;bottom:0;right:0;margin-bottom:5px;margin-right:20px}@media screen and (max-height:600px){.modal-bottom-left-btn[_ngcontent-%COMP%], .modal-bottom-right-btn[_ngcontent-%COMP%], .modal-left-of-bottom-right-btn[_ngcontent-%COMP%]{position:fixed}}.modal-input-item[_ngcontent-%COMP%]{align-self:center;width:500px;height:100px;font-size:18px}"]}),t})();const Cm=Hn(xm);var Im=function(t){return t.Intro="Intro",t.MappingOntoCSP="MappingOntoCSP",t.CheckingType="CheckingType",t.Highlighting="Highlighting",t.SteppingThroughAnimations="SteppingThroughAnimations",t.Animating="Animating",t.Conclusion="Conclusion",t}({});let Sm=(()=>{class t{constructor(){this.clickEmitter=new Oa}getBackgroundColor(){return this.isUsingForwardChecking?this.isDomainHighlighted?"#32CD32":"white":(this.pos.row+this.pos.col)%2==0?"white":"#C4A484"}notifyClick(){this.clickEmitter.emit(this.pos)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=Gt({type:t,selectors:[["app-tile"]],inputs:{sizeInPx:"sizeInPx",hasQueen:"hasQueen",isDomainHighlighted:"isDomainHighlighted",isUsingForwardChecking:"isUsingForwardChecking",pos:"pos",isClickable:"isClickable"},outputs:{clickEmitter:"clickEmitter"},decls:2,vars:11,consts:[[3,"click"]],template:function(t,e){1&t&&(Ho(0,"div",0),Wo("click",function(){return e.notifyClick()}),hs(1),Lo()),2&t&&(es(e.isClickable?"tile clickable":"tile"),ts("height",e.sizeInPx,"px")("width",e.sizeInPx,"px")("font-size",.6*e.sizeInPx,"px")("background-color",e.getBackgroundColor()),lr(1),ps(" ",e.hasQueen?"\u265b":"","\n"))},styles:[".tile[_ngcontent-%COMP%]{overflow:hidden;display:flex;justify-content:center;align-items:center;border:2px solid var(--primary-color);margin:-2px}.clickable[_ngcontent-%COMP%]:hover{cursor:pointer;opacity:.3}"]}),t})();function km(t,e){if(1&t){const t=Go();Ho(0,"app-animation",19),Wo("setAnimationRunningEmitter",function(e){return Pe(t),qo().setAnimationRunning(e)})("setAnimationIndexEmitter",function(e){return Pe(t),qo().setAnimationIndex(e)}),Lo()}if(2&t){const t=qo();jo("isAnimationRunning",t.isAnimationRunning)("animationIndex",t.animationIndex)("animationFrames",t.animationFrames)("updateAnimationFramesIfNeeded",t.updateAnimationFramesIfNeeded.bind(t))("needToUpdateAnimationFrames",t.needToUpdateAnimationFrames)}}function Tm(t,e){if(1&t){const t=Go();Ho(0,"div",15),Ho(1,"p"),hs(2,"Set Quiz Delay"),Lo(),Ho(3,"input",20),Wo("input",function(e){return Pe(t),qo().updateQuizDelayMs(e)}),Lo(),Ho(4,"p"),hs(5),Lo(),Lo()}if(2&t){const t=qo();lr(3),jo("defaultValue",t.quizDelayMs),lr(2),ps("",t.quizDelayMs,"ms")}}const Am=function(t,e){return{row:t,col:e}};function Em(t,e){if(1&t){const t=Go();Ho(0,"app-tile",22),Wo("clickEmitter",function(e){return Pe(t),qo(2).handleTileClick(e)}),Lo()}if(2&t){const t=e.$implicit,a=e.index,l=qo().index,u=qo();jo("id",l+" "+a)("sizeInPx",u.BOARD_SIZE_IN_PX/u.boardSize)("hasQueen",t)("isDomainHighlighted",u.isTileDomainHighlighted(l,a))("isUsingForwardChecking",u.isUsingForwardChecking())("pos",(n=7,i=Am,r=l,o=a,function(t,e,n,i,r,o,s){const a=e+n;return Mo(t,a,r,o)?Oo(t,a+2,s?i.call(s,r,o):i(r,o)):ka(t,a+2)}(Ee(),Ue(),n,i,r,o,s)))("isClickable",u.isInQuizMode()&&u.canClickOnTileIfInQuizMode)}var n,i,r,o,s}function Om(t,e){if(1&t&&(Ho(0,"div"),Fo(1,Em,1,10,"app-tile",21),Lo()),2&t){const t=e.$implicit,n=e.index;es(qo().getRowClass(n)),lr(1),jo("ngForOf",t)}}function Pm(t,e){if(1&t){const t=Go();Ho(0,"app-tutorial-modal",23),Wo("hideEmitter",function(){return Pe(t),qo().hideModal()}),Lo()}2&t&&jo("slides",qo().tutorialModalSlides)}let Mm=(()=>{class t{constructor(){this.Modal=Dm,this.MIN_BOARD_SIZE=4,this.MAX_BOARD_SIZE=10,this.BOARD_SIZE_IN_PX=.5*Ip,this.tutorialModalSlides=Object.values(Im),this.isWidthGreaterThan=Up,this.pruningAlgoItems=Object.values(cm),this.varHeuristicItems=Object.values(dm),this.valHeuristicItems=Object.values(fm),this.checkingItems=Object.values(hm),this.userInteractionModeItems=Object.values(pm),this.pruningAlgoItemToImpl=new zf([[cm.Node,em],[cm.Arc,sm]]),this.checkingItemToImpl=new zf([[hm.Assigning,Kf],[hm.ForwardChecking,nm]]),this.boardSize=4,this.animationFrames=[Yf(this.boardSize)],this.isAnimationRunning=!1,this.animationIndex=0,this.needToUpdateAnimationFrames=!0,this.modalDisplayed=Dm.Tutorial,this.pruningAlgoItem=cm.Node,this.varHeuristicItem=dm.InOrder,this.valHeuristicItem=fm.InOrder,this.checkingItem=hm.Assigning,this.userInteractionModeItem=pm.Visualise,this.commentaryType=4,this.canClickOnTileIfInQuizMode=!0,this.quizDelayMs=2e3}ngOnInit(){this.loadDropdownOptions(),this.updateAnimationFramesIfNeeded()}loadDropdownOptions(){const t=Np("nqueens-options");null!==t&&(this.boardSize=t.boardSize,this.pruningAlgoItem=t.pruningAlgoItem,this.varHeuristicItem=t.varHeuristicItem,this.valHeuristicItem=t.valHeuristicItem,this.checkingItem=t.checkingItem,this.commentaryType=t.commentaryType,this.userInteractionModeItem=t.userInteractionModeItem)}setAnimationRunning(t){this.isAnimationRunning=t}setAnimationIndex(t){this.animationIndex=t}getCurrentAnimationFrame(){return this.animationFrames[this.safeGetAnimationIndex()]}safeGetAnimationIndex(){return Rp(this.animationFrames,this.animationIndex)}hideModal(){this.modalDisplayed=Dm.None}setModalDisplayed(t){this.modalDisplayed=t}updateAnimationFramesIfNeeded(){const t=this.checkingItemToImpl.get(this.checkingItem);this.needToUpdateAnimationFrames&&(this.animationFrames=t(this.boardSize,this.valHeuristicItem===fm.LeastConstraining,this.varHeuristicItem===dm.MostConstrained,this.pruningAlgoItemToImpl.get(this.pruningAlgoItem))),this.needToUpdateAnimationFrames=!1}setPruningAlgoItem(t){this.pruningAlgoItem=t,this.markAnimationFramesForUpdate()}setValHeuristicItem(t){this.valHeuristicItem=t,this.markAnimationFramesForUpdate()}setVarHeuristicItem(t){this.varHeuristicItem=t,this.markAnimationFramesForUpdate()}setCheckingItem(t){this.checkingItem=t,this.markAnimationFramesForUpdate()}setUserInteractionModeItem(t){this.userInteractionModeItem=t,this.isInQuizMode()?(this.commentaryType=3,this.markAnimationFramesForUpdate()):this.commentaryType=4}isInQuizMode(){return this.userInteractionModeItem===pm.Quiz}setBoardSize(t){this.boardSize=Ep(t),this.markAnimationFramesForUpdate()}getRowClass(t){let e="row";return this.isRowUnderConsideration(t)&&(e+=" opacity-highlight",e+=" black-border"),e}isTileDomainHighlighted(t,e){return this.getCurrentAnimationFrame().varToDomain.get(t).includes(e)}isRowUnderConsideration(t){return!(this.isInQuizMode()&&this.canClickOnTileIfInQuizMode||this.getCurrentAnimationFrame().rowInConsideration!==t)}isUsingForwardChecking(){return this.checkingItem===hm.ForwardChecking}markAnimationFramesForUpdate(){this.needToUpdateAnimationFrames=!0,this.setAnimationIndex(0),this.setAnimationRunning(!1),this.updateAnimationFramesIfNeeded()}handleTileClick(t){return gf(this,void 0,void 0,function*(){this.isInQuizMode()&&this.canClickOnTileIfInQuizMode&&(this.isCorrectGuessForWhereQueenWillBePlaced(t)?(yield this.displayGuessCommentaryTemporarily(1),yield this.handleMovingToNextFrameToGuess()):this.displayGuessCommentaryTemporarily(0))})}handleMovingToNextFrameToGuess(){return gf(this,void 0,void 0,function*(){this.animationIndex=this.findNextAnimFrameIndexWhereQueenPlaced();const t=this.findNextAnimFrameIndexWhereQueenPlaced();-1===t?(this.commentaryType=2,this.animationIndex=this.animationFrames.length-1):yield this.prepareToMoveToNextFrameToGuess(t)})}prepareToMoveToNextFrameToGuess(t){return gf(this,void 0,void 0,function*(){this.canClickOnTileIfInQuizMode=!1,this.commentaryType=4,yield this.animateMovingToNextFrameToGuess(t,this.animationFrames),this.canClickOnTileIfInQuizMode=!0,this.commentaryType=3})}animateMovingToNextFrameToGuess(t,e){return gf(this,void 0,void 0,function*(){for(;this.animationIndex<t-1&&e===this.animationFrames;)this.animationIndex++,yield Ap(this.quizDelayMs)})}updateQuizDelayMs(t){this.quizDelayMs=Ep(t)}isCorrectGuessForWhereQueenWillBePlaced({row:t,col:e}){const n=this.findNextAnimFrameIndexWhereQueenPlaced(),i=this.animationFrames[n],r=function(t,e){return t[e].indexOf(!0)}(i.board,Pp(i.rowInConsideration));return t===i.rowInConsideration&&e===r}findNextAnimFrameIndexWhereQueenPlaced(){return this.animationFrames.findIndex(({commentary:t},e)=>e>this.animationIndex&&"Assigning Queen to column..."===t)}displayGuessCommentaryTemporarily(t){return new Promise(e=>{this.commentaryType=t,this.canClickOnTileIfInQuizMode=!1,setTimeout(()=>{this.commentaryType=3,this.canClickOnTileIfInQuizMode=!0,e()},this.quizDelayMs)})}getCommentary(){switch(this.commentaryType){case 4:return this.getCurrentAnimationFrame().commentary;case 1:return"Guess is correct! Animating algorithm till step before the next queen is placed";case 2:return"All guesses correct! Try another configuration";case 3:return"Click on the tile you think a queen will be placed next. Remember, the algorithm might not place it in a valid position depending on the configuration.";default:return"Incorrect! Try again"}}saveDropdownOptions(){jp("nqueens-options",{pruningAlgoItem:this.pruningAlgoItem,varHeuristicItem:this.varHeuristicItem,valHeuristicItem:this.valHeuristicItem,checkingItem:this.checkingItem,boardSize:this.boardSize,commentaryType:this.commentaryType,userInteractionModeItem:this.userInteractionModeItem})}saveAppStateBeforeClose(){this.saveDropdownOptions()}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=Gt({type:t,selectors:[["app-page"]],hostBindings:function(t,e){1&t&&Wo("beforeunload",function(t){return e.saveAppStateBeforeClose(t)},!1,Ci)},decls:27,vars:26,consts:[[1,"page"],[1,"screen-wide-menu"],["commentary","'Check when assigning' only verifies an assignment is valid when it is made. 'Forward checking' gets rid of some remaining invalid assignments when an assignment is made.","label","Point Assignment Checked",3,"currentItem","items","itemChangedEmitter"],["commentary","'In order' takes them from left to right. 'Least constraining' takes the column that will lead to the least amount of pruning of unassigned domains, which improves the runtime efficiency of the algorithm.","label","Column Selected Next",3,"currentItem","items","itemChangedEmitter"],["commentary","'Node consistency' prunes remaining domains based on if they're compatible with the assignment made. 'Arc consistency' checks that remaining domains are compatible with all other domains in the whole board.","label","Consistency of Pruning",3,"currentItem","items","itemChangedEmitter"],["label","Row Selected Next",3,"currentItem","items","itemChangedEmitter"],[3,"isAnimationRunning","animationIndex","animationFrames","updateAnimationFramesIfNeeded","needToUpdateAnimationFrames","setAnimationRunningEmitter","setAnimationIndexEmitter",4,"ngIf"],["class","range-container",4,"ngIf"],[1,"board-commentary-container"],[1,"commentary"],["type","range",1,"range","invisible"],[1,"board"],[3,"class",4,"ngFor","ngForOf"],["id","grid-buttons"],["label","Interaction Mode",3,"currentItem","items","itemChangedEmitter"],[1,"range-container"],["type","range","id","change-board-size","min","3",1,"range",3,"defaultValue","max","input"],[3,"click"],[3,"slides","hideEmitter",4,"ngIf"],[3,"isAnimationRunning","animationIndex","animationFrames","updateAnimationFramesIfNeeded","needToUpdateAnimationFrames","setAnimationRunningEmitter","setAnimationIndexEmitter"],["type","range","id","set-quiz-delay","min","0","max","4000",1,"range",3,"defaultValue","input"],[3,"id","sizeInPx","hasQueen","isDomainHighlighted","isUsingForwardChecking","pos","isClickable","clickEmitter",4,"ngFor","ngForOf"],[3,"id","sizeInPx","hasQueen","isDomainHighlighted","isUsingForwardChecking","pos","isClickable","clickEmitter"],[3,"slides","hideEmitter"]],template:function(t,e){1&t&&(Ho(0,"div",0),Ho(1,"div",1),Ho(2,"app-dropdown",2),Wo("itemChangedEmitter",function(t){return e.setCheckingItem(t)}),Lo(),Ho(3,"app-dropdown",3),Wo("itemChangedEmitter",function(t){return e.setValHeuristicItem(t)}),Lo(),Ho(4,"app-dropdown",4),Wo("itemChangedEmitter",function(t){return e.setPruningAlgoItem(t)}),Lo(),Ho(5,"app-dropdown",5),Wo("itemChangedEmitter",function(t){return e.setVarHeuristicItem(t)}),Lo(),Lo(),Ho(6,"div",1),Fo(7,km,1,5,"app-animation",6),Fo(8,Tm,6,2,"div",7),Lo(),Ho(9,"div",8),Ho(10,"p",9),hs(11),Lo(),Ho(12,"div",1),zo(13,"input",10),Ho(14,"div",11),Fo(15,Om,2,3,"div",12),Lo(),Ho(16,"div",13),Ho(17,"app-dropdown",14),Wo("itemChangedEmitter",function(t){return e.setUserInteractionModeItem(t)}),Lo(),Ho(18,"div",15),Ho(19,"p"),hs(20,"Set Board Size"),Lo(),Ho(21,"input",16),Wo("input",function(t){return e.setBoardSize(t)}),Lo(),Ho(22,"p"),hs(23),Lo(),Lo(),Ho(24,"button",17),Wo("click",function(){return e.setModalDisplayed(e.Modal.Tutorial)}),hs(25,"Tutorial"),Lo(),Lo(),Lo(),Lo(),Lo(),Fo(26,Pm,1,1,"app-tutorial-modal",18)),2&t&&(ts("opacity",e.modalDisplayed===e.Modal.None?"1":"0.1"),lr(2),jo("currentItem",e.checkingItem)("items",e.checkingItems),lr(1),ts("visibility",e.isUsingForwardChecking()?"visible":"hidden"),jo("currentItem",e.valHeuristicItem)("items",e.valHeuristicItems),lr(1),ts("visibility",e.isUsingForwardChecking()?"visible":"hidden"),jo("currentItem",e.pruningAlgoItem)("items",e.pruningAlgoItems),lr(1),ts("visibility",e.isUsingForwardChecking()?"visible":"hidden"),jo("currentItem",e.varHeuristicItem)("items",e.varHeuristicItems),lr(2),jo("ngIf",!e.isInQuizMode()),lr(1),jo("ngIf",e.isInQuizMode()),lr(3),ds(e.getCommentary()),lr(4),jo("ngForOf",e.getCurrentAnimationFrame().board),lr(2),jo("currentItem",e.userInteractionModeItem)("items",e.userInteractionModeItems),lr(4),jo("defaultValue",e.boardSize)("max",10),lr(2),ds(e.boardSize),lr(3),jo("ngIf",e.modalDisplayed===e.Modal.Tutorial))},directives:[mf,tu,Jl,vf,Sm,xm],styles:[".black-border[_ngcontent-%COMP%]{border:5px solid var(--secondary-color);margin:-5px}.board-commentary-container[_ngcontent-%COMP%]{display:flex;justify-content:space-around;align-items:center;flex-direction:column;margin-top:10px}.commentary[_ngcontent-%COMP%]{font-size:16px;width:100vw;text-align:center;margin-bottom:20px;height:30px}#grid-buttons[_ngcontent-%COMP%]{display:flex;justify-content:space-around;flex-direction:column;align-items:center}"]}),t})();var Dm=function(t){return t[t.Tutorial=0]="Tutorial",t[t.None=1]="None",t}({});const Fm=[{path:"n-queens",component:Mm}];let Rm=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Bt({type:t}),t.\u0275inj=ht({imports:[[pp.forChild(Fm)],pp]}),t})(),Nm=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Bt({type:t}),t.\u0275inj=ht({imports:[[iu,Ru,Rm,Hf]]}),t})();class jm{constructor(){this.stack=[]}add(t){this.stack.push(t)}remove(){if(this.isEmpty())throw new Error("Can not remove from empty stack");return this.stack.pop()}isEmpty(){return 0===this.stack.length}}class Um{constructor(t){this.cmp=t,this.queue=[]}add(t){this.queue.push(t)}remove(){if(this.isEmpty())throw new Error("Can not remove from empty queue");return this.queue.sort(this.cmp),this.queue.shift()}isEmpty(){return 0===this.queue.length}}class Hm{constructor(){this.queue=[]}add(t){this.queue.push(t)}remove(){if(this.isEmpty())throw new Error("Can not remove from empty queue");return this.queue.shift()}isEmpty(){return 0===this.queue.length}}class Lm{constructor(t){this.map=new Map,t.forEach(([t,e])=>{this.map.set(JSON.stringify(t),e)})}get(t){return this.map.get(JSON.stringify(t))}set(t,e){this.map.set(JSON.stringify(t),e)}}const zm=ig(window.innerHeight,40),Gm=ig(window.innerWidth,40),Vm={row:1,col:1},Wm={row:zm-2,col:Gm-2};function $m(){return Fp(zm,Gm,()=>1)}function Bm(){return Fp(zm,Gm,()=>!1)}function qm(){return{grid:Fp(zm,Gm,()=>5),commentary:"Nothing has happened yet!",gridDists:Fp(zm,Gm,()=>Number.POSITIVE_INFINITY),numberOfTilesExpanded:0,numberOfTilesVisited:0,pathLength:0}}function Qm(t,e){return t.some(t=>Zm(t,e))}function Zm(t,e){return t.row===e.row&&t.col===e.col}function Ym({row:t,col:e}){return`(${e+1}, ${t+1})`}function Xm(t,{row:e,col:n}){return.5*(e+n)*(e+n+1)+n}function Jm(t,e){return e.map(t=>Xm(0,t)).toString()}function Km({row:t,col:e}){return[{row:t-1,col:e-1},{row:t-1,col:e+1},{row:t+1,col:e-1},{row:t+1,col:e+1}].filter(t=>ng(t))}function tg({row:t,col:e}){return[{row:t,col:e-1},{row:t-1,col:e},{row:t,col:e+1},{row:t+1,col:e}].filter(t=>ng(t))}function eg(t){return Km(t).concat(tg(t))}function ng({row:t,col:e}){return t>=0&&t<zm&&e>=0&&e<Gm}function ig(t,e){return Math.round(t/e)}function rg(t,e,n,i,r,o,s){const a=new Lm([]),l=Fp(zm,Gm,()=>!1),u=Fp(zm,Gm,()=>!1),c=[qm()];for(s.set(t,0),u[t.row][t.col]=!0,n.add(t);!n.isEmpty();){const t=n.remove();if(l[t.row][t.col]=!0,c.push(ag(l,u,sg(s),t,[],[],`Starting to expand ${Ym(t)}`)),Zm(t,e))return og(l,u,sg(s),a,e,c),c;const h=o(t).filter(t=>ng(t)&&!r[t.row][t.col]),d=h.filter(({row:t,col:e})=>!u[t][e]);h.forEach(e=>{const{row:r,col:o}=e,l=Op(s.get(t))+i[r][o];u[r][o]?l<Op(s.get(e))&&(s.set(e,l),a.set(e,t)):(n.add(e),u[r][o]=!0,s.set(e,l),a.set(e,t))});const p=`Adding unvisited neighbours of ${Ym(t)} to agenda ... ${d.length} found`;c.push(ag(l,u,sg(s),t,d,[],p))}return c.push(ag(l,u,sg(s),null,[],[],"No path found!")),c}function og(t,e,n,i,r,o){const s=[r];let a=r;for(;void 0!==i.get(a);)a=i.get(a),s.push(a),o.push(ag(t,e,n,null,[],s,"Path found!"))}function sg(t){const e=Fp(zm,Gm,()=>Number.POSITIVE_INFINITY);for(let n=0;n<zm;n++)for(let i=0;i<Gm;i++){const r=t.get({row:n,col:i});void 0!==r&&(e[n][i]=r)}return e}function ag(t,e,n,i,r,o,s){const a=qm(),l=o.length>0?o[0]:null;a.commentary=s,a.gridDists=n,a.numberOfTilesExpanded=lg(t),a.numberOfTilesVisited=lg(e),a.pathLength=l?n[l.row][l.col]:0;for(let u=0;u<zm;u++)for(let n=0;n<Gm;n++){const s={row:u,col:n};Qm(o,s)?a.grid[u][n]=2:i&&Zm(i,s)?a.grid[u][n]=3:Qm(r,s)?a.grid[u][n]=4:t[u][n]?a.grid[u][n]=0:e[u][n]&&(a.grid[u][n]=1)}return a}function lg(t){return t.reduce((t,e)=>t+e.reduce((t,e)=>t+(e?1:0),0),0)}function ug(t){return(e,n)=>{const i=t.get(e),r=t.get(n);return void 0===i?-1:void 0===r?1:i-r}}function cg(t){return(e,n)=>hg(e,t)-hg(n,t)}function hg({row:t,col:e},{row:n,col:i}){return Math.abs(t-n)+Math.abs(e-i)}const dg=$m();function pg(t,e,n,i,r){return rg(t,e,new Hm,dg,i,r,new Lm([]))}function fg(t,e,n,i,r){return rg(t,e,new jm,dg,i,r,new Lm([]))}function mg(t,e,n,i,r){const o=new Lm([]);return rg(t,e,new Um(ug(o)),n,i,r,o)}function gg(t,e,n,i,r){const o=new Lm([]);return rg(t,e,new Um(function(t,e){const n=ug(t),i=cg(e);return(t,e)=>n(t,e)+i(t,e)}(o,e)),n,i,r,o)}function vg(t,e,n,i,r){const o=new Lm([]);return rg(t,e,new Um(cg(e)),dg,i,r,o)}function yg(t,e,n,i,r){const o=new Lm([]);return rg(t,e,new Um(()=>Math.random()-.51),dg,i,r,o)}function wg(){const t=Cg();return t.forEach(t=>function(t,e){for(let n=0;n<t.length;n++)Math.random()<.3&&(t[n]=!0)}(t)),t}function bg(){return Fp(zm,Gm,()=>!0)}function _g(){const t=Mp(0,Gm).filter(Tp),e=Cg();return t.forEach(t=>{const n=kp(0,zm);Mp(0,zm).forEach(i=>{i!==n&&(e[i][t]=!0)})}),e}function xg(){const t=Mp(0,zm).filter(Tp),e=Cg();return t.forEach(t=>{const n=kp(0,Gm);Mp(0,Gm).forEach(i=>{i!==n&&(e[t][i]=!0)})}),e}function Cg(){return Fp(zm,Gm,()=>!1)}var Ig=function(t){return t.Barrier="Barrier",t.RandomWeight="Random Weight",t.CustomWeight="Custom Weight",t}({}),Sg=function(t){return t.Random="Random Grid",t.FillGrid="Fill Grid",t.VerticalDivision="Vertical Division",t.HorizontalDivision="Horizontal Division",t}({}),kg=function(t){return t.Visualise="Visualisation Mode",t.Quiz="Quiz Mode",t}({}),Tg=function(t){return t.Astar="A*",t.Dijkstras="Dijkstra",t.BFS="Breadth First Search",t.DFS="Depth First Search",t.GBFS="Greedy Best First Search",t.Random="Random Search",t}({}),Ag=function(t){return t.Astar="A*",t.Dijkstras="Dijkstra",t.GBFS="Greedy Best First Search",t}({}),Eg=function(t){return t.NonDiagonals="Non Diagonals Only",t.Diagonals="Diagonals Only",t.AllDirections="All Directions",t}({}),Og=function(t){return t.Weights="Display Weight",t.Dists="Display Start Distance",t.Heuristics="Display Heuristic Distance",t}({});function Pg(t,e){if(1&t){const t=Go();Ho(0,"div",1),Ho(1,"h1",2),hs(2,"Welcome to Pathfinding Visualiser!"),Lo(),Ho(3,"span",3),Ho(4,"p",4),hs(5," This is a project that aims to help students learn about pathfinding algorithms through visualisation. This app works by animating the process that pathfinding algorithms go through when trying to find a path in a 2D grid. It was written by Mark Lee as his final year project for BSc Computer Science at the University of Strathclyde. "),Lo(),Ho(6,"p",4),hs(7," These slides will guide you through the features of the application. You can navigate through the slides using the buttons at the bottom left and bottom right corners of the current slide. "),Lo(),Ho(8,"p",4),hs(9," A general tip for using algorithm visualisation tools: it's better to try and actively learn than passively learn. When stepping through an algorithm, try and predict what it will do next. If you're right, then it shows you understand the algorithm. If you're wrong, it's worth wondering why that is and comparing your result with the actual one. "),Lo(),Ho(10,"p",4),hs(11," As part of this project I've also implemented visualisers for "),Ho(12,"a",5),hs(13,"Constraint Satisfaction"),Lo(),hs(14," and "),Ho(15,"a",5),hs(16,"Adversarial Search"),Lo(),Lo(),Lo(),Ho(17,"button",6),Wo("click",function(){return Pe(t),qo().nextSlide()}),hs(18," Next Slide "),Lo(),Ho(19,"button",7),Wo("click",function(){return Pe(t),qo().hideModal()}),hs(20," Skip Tutorial "),Lo(),Lo()}2&t&&(lr(12),jo("routerLink","/n-queens"),lr(3),jo("routerLink","/minimax"))}function Mg(t,e){if(1&t){const t=Go();Ho(0,"div",1),Ho(1,"h1",2),hs(2,"Mapping a 2D grid onto Graph Theory"),Lo(),Ho(3,"span",3),Ho(4,"p",4),hs(5," Weights are applied to tiles themselves rather than the connections between them. Therefore you can view the grid as a directed graph where two tiles being adjacent corresponds to two edges existing between them. Both edges will be directed in opposite directions allowing bidirectional travel between the tiles. The weight of any edge directed towards a tile will be the weight assigned to that tile in the 2D grid. How adjacency is defined is configurable through the menu, and includes horizontal and vertical adjacency only, diagonal adjacency only and both. The example below is vertical and horizontal adjacency only. "),Lo(),Ho(6,"p",4),hs(7," However, it's probably easier to think of a weight as the cost of passing through a tile rather than thinking of it in terms of edges. "),Lo(),zo(8,"img",8),Lo(),Ho(9,"button",9),Wo("click",function(){return Pe(t),qo().prevSlide()}),hs(10," Previous Slide "),Lo(),Ho(11,"button",6),Wo("click",function(){return Pe(t),qo().nextSlide()}),hs(12," Next Slide "),Lo(),Ho(13,"button",7),Wo("click",function(){return Pe(t),qo().hideModal()}),hs(14," Skip Tutorial "),Lo(),Lo()}}function Dg(t,e){if(1&t){const t=Go();Ho(0,"div",1),Ho(1,"h1",2),hs(2,"Barriers and Weights"),Lo(),Ho(3,"span",3),Ho(4,"p",4),hs(5,' You can add obstacles to see how the algorithm will get around them. This is done through holding down the mouse left button and dragging it along the grid, which draws obstacles along every tile the mouse has touched. Obstacles come in two modes; barriers and weights. You can configure which one is being drawn in the dropdown menu under "Item Placed On Tile" '),Lo(),Ho(6,"p",4),hs(7," Barriers block the algorithm from passing completely, forcing it to find another way around. Weights assign a cost to passing through, which disincentivizes algorithms if they're aiming to find the shortest path. Note that only A* and Dijkstra's take weights into account; any other algorithm will ignore them. "),Lo(),zo(8,"video",10),Lo(),Ho(9,"button",9),Wo("click",function(){return Pe(t),qo().prevSlide()}),hs(10," Previous Slide "),Lo(),Ho(11,"button",6),Wo("click",function(){return Pe(t),qo().nextSlide()}),hs(12," Next Slide "),Lo(),Ho(13,"button",7),Wo("click",function(){return Pe(t),qo().hideModal()}),hs(14," Skip Tutorial "),Lo(),Lo()}}function Fg(t,e){if(1&t){const t=Go();Ho(0,"div",1),Ho(1,"h1",2),hs(2,"Custom Weights"),Lo(),Ho(3,"span",3),Ho(4,"p",4),hs(5,' As well as generating random weights, you can also add weights with values of your choosing. This is done by selecting the "Custom Weight" option in the menu under "Item Placed On Tile". When you click on a tile it will display an input box that allows you to enter the weight you want to place at that tile. This weight needs to be a positive integer. You can either press the button or the enter key to submit the value. '),Lo(),zo(6,"video",11),Lo(),Ho(7,"button",9),Wo("click",function(){return Pe(t),qo().prevSlide()}),hs(8," Previous Slide "),Lo(),Ho(9,"button",6),Wo("click",function(){return Pe(t),qo().nextSlide()}),hs(10," Next Slide "),Lo(),Ho(11,"button",7),Wo("click",function(){return Pe(t),qo().hideModal()}),hs(12," Skip Tutorial "),Lo(),Lo()}}function Rg(t,e){if(1&t){const t=Go();Ho(0,"div",1),Ho(1,"h1",2),hs(2,"Maze Generation"),Lo(),Ho(3,"span",3),Ho(4,"p",4),hs(5,' Instead of drawing barriers and weights manually you can automatically generate mazes for the algorithm to explore. The type of maze is configured using the "Random Grid" dropdown and mazes are generated using the "Generate Maze" button. If you have "Place Barriers" selected it will generate a maze of barriers and if you have "Place Weights" selected it will generate a maze of weights. '),Lo(),zo(6,"video",12),Lo(),Ho(7,"button",9),Wo("click",function(){return Pe(t),qo().prevSlide()}),hs(8," Previous Slide "),Lo(),Ho(9,"button",6),Wo("click",function(){return Pe(t),qo().nextSlide()}),hs(10," Next Slide "),Lo(),Ho(11,"button",7),Wo("click",function(){return Pe(t),qo().hideModal()}),hs(12," Skip Tutorial "),Lo(),Lo()}}function Ng(t,e){if(1&t){const t=Go();Ho(0,"div",1),Ho(1,"h1",2),hs(2,"Start and Goal Tiles"),Lo(),Ho(3,"span",3),Ho(4,"p",4),hs(5,' The starting tile the algorithm searches from is denoted by "\u21d2". '),Lo(),Ho(6,"p",4),hs(7,' The goal tile the algorithm is searching for is denoted by "\ud83c\udfaf". '),Lo(),Ho(8,"p",4),hs(9," The positions of the start and goal tiles can be changed by dragging and dropping them onto an empty tile. "),Lo(),zo(10,"video",13),Lo(),Ho(11,"button",9),Wo("click",function(){return Pe(t),qo().prevSlide()}),hs(12," Previous Slide "),Lo(),Ho(13,"button",6),Wo("click",function(){return Pe(t),qo().nextSlide()}),hs(14," Next Slide "),Lo(),Ho(15,"button",7),Wo("click",function(){return Pe(t),qo().hideModal()}),hs(16," Skip Tutorial "),Lo(),Lo()}}function jg(t,e){if(1&t){const t=Go();Ho(0,"div",1),Ho(1,"h1",2),hs(2,"Animating an Algorithm"),Lo(),Ho(3,"span",3),Ho(4,"p",4),hs(5,' To animate an algorithm simply press the "\u23ef" button. While an algorithm is being animated this button will change to "\u23f8", which pauses the animation. You can configure the speed of the animation by adjusting the slider under "Set Animation Delay". '),Lo(),zo(6,"video",14),Lo(),Ho(7,"button",9),Wo("click",function(){return Pe(t),qo().prevSlide()}),hs(8," Previous Slide "),Lo(),Ho(9,"button",6),Wo("click",function(){return Pe(t),qo().nextSlide()}),hs(10," Next Slide "),Lo(),Ho(11,"button",7),Wo("click",function(){return Pe(t),qo().hideModal()}),hs(12," Skip Tutorial "),Lo(),Lo()}}function Ug(t,e){if(1&t){const t=Go();Ho(0,"div",1),Ho(1,"h1",2),hs(2,"Stepping Through Animations"),Lo(),Ho(3,"span",3),Ho(4,"p",4),hs(5,' You can step through animations to view them at your own pace. The "\u25b6\ufe0f" button moves to the next frame in the animation while the "\u25c0" button moves to the previous. '),Lo(),Ho(6,"p",4),hs(7,' You can also step through the animations quickly by adjusting the slider under "Step Through Animation Frames". '),Lo(),zo(8,"video",15),Lo(),Ho(9,"button",9),Wo("click",function(){return Pe(t),qo().prevSlide()}),hs(10," Previous Slide "),Lo(),Ho(11,"button",6),Wo("click",function(){return Pe(t),qo().nextSlide()}),hs(12," Next Slide "),Lo(),Ho(13,"button",7),Wo("click",function(){return Pe(t),qo().hideModal()}),hs(14," Skip Tutorial "),Lo(),Lo()}}function Hg(t,e){if(1&t){const t=Go();Ho(0,"div",1),Ho(1,"h1",2),hs(2,"Saving the Grid"),Lo(),Ho(3,"span",3),Ho(4,"p",4),hs(5,' You can save the current state of the grid in the browsers cache and reload it at a later date. This is done through pressing "Save Current Grid" and entering a name for the save. A save with the same name will appear on a modal triggered by pressing "Load Saved Grid" which can be clicked on to reload the save. '),Lo(),zo(6,"video",16),Lo(),Ho(7,"button",9),Wo("click",function(){return Pe(t),qo().prevSlide()}),hs(8," Previous Slide "),Lo(),Ho(9,"button",6),Wo("click",function(){return Pe(t),qo().nextSlide()}),hs(10," Next Slide "),Lo(),Ho(11,"button",7),Wo("click",function(){return Pe(t),qo().hideModal()}),hs(12," Skip Tutorial "),Lo(),Lo()}}function Lg(t,e){if(1&t){const t=Go();Ho(0,"div",1),Ho(1,"h1",2),hs(2,"Quiz Mode"),Lo(),Ho(3,"span",3),Ho(4,"p",4),hs(5," By default the app is in Visualisation Mode, which is pretty much what you'd expect from a visualiser tool. You can switch it to Quiz Mode, which sets up a predefined quiz case and asks you to guess what tile the algorithm will expand next. If you guess the correct tile, it will advance to the next frame and ask you to guess the next tile to be expanded and so on. "),Lo(),zo(6,"video",17),Lo(),Ho(7,"button",9),Wo("click",function(){return Pe(t),qo().prevSlide()}),hs(8," Previous Slide "),Lo(),Ho(9,"button",6),Wo("click",function(){return Pe(t),qo().nextSlide()}),hs(10," Next Slide "),Lo(),Ho(11,"button",7),Wo("click",function(){return Pe(t),qo().hideModal()}),hs(12," Skip Tutorial "),Lo(),Lo()}}function zg(t,e){if(1&t){const t=Go();Ho(0,"div",1),Ho(1,"h1",2),hs(2,"That's Everything!"),Lo(),Ho(3,"span",3),Ho(4,"p",4),hs(5," That's a quick summary of all the features. If you have any questions you can contact the developer through email at mark.lee.2018@uni.strath.ac.uk "),Lo(),Ho(6,"p",4),hs(7," You can also checkout the "),Ho(8,"a",18),hs(9,"source code"),Lo(),hs(10," on GitHub when it is released. "),Lo(),Lo(),Ho(11,"button",9),Wo("click",function(){return Pe(t),qo().prevSlide()}),hs(12," Previous Slide "),Lo(),Ho(13,"button",7),Wo("click",function(){return Pe(t),qo().hideModal()}),hs(14," Finish Tutorial "),Lo(),Lo()}}let Gg=(()=>{class t extends ef{constructor(){super(...arguments),this.Slide=Wg}}return t.\u0275fac=function(e){return Vg(e||t)},t.\u0275cmp=Gt({type:t,selectors:[["app-tutorial-modal"]],features:[bo],decls:11,vars:11,consts:[["class","modal-slide",4,"ngIf"],[1,"modal-slide"],[1,"modal-title"],[1,"modal-content"],[1,"modal-text"],[3,"routerLink"],[1,"modal-left-of-bottom-right-btn",3,"click"],[1,"modal-bottom-right-btn",3,"click"],["src","./assets/tile-to-graph.png",1,"modal-visual-media"],[1,"modal-bottom-left-btn",3,"click"],["src","./assets/drawing-barriers-and-weights.mp4","autoplay","","loop","",1,"modal-visual-media"],["src","./assets/adding-custom-weights.mp4","autoplay","","loop","",1,"modal-visual-media"],["src","./assets/maze-generation.mp4","autoplay","","loop","",1,"modal-visual-media"],["src","./assets/moving-start-and-goal.mp4","autoplay","","loop","",1,"modal-visual-media"],["src","./assets/running-algo.mp4","autoplay","","loop","",1,"modal-visual-media"],["src","./assets/step-features.mp4","autoplay","","loop","",1,"modal-visual-media"],["src","./assets/saving-and-loading.mp4","autoplay","","loop","",1,"modal-visual-media"],["src","./assets/pathfinding-quiz.mp4","autoplay","","loop","",1,"modal-visual-media"],["href","https://github.com/MarkLee7916/AI-Search-Algorithm-Visualisation"]],template:function(t,e){1&t&&(Fo(0,Pg,21,2,"div",0),Fo(1,Mg,15,0,"div",0),Fo(2,Dg,15,0,"div",0),Fo(3,Fg,13,0,"div",0),Fo(4,Rg,13,0,"div",0),Fo(5,Ng,17,0,"div",0),Fo(6,jg,13,0,"div",0),Fo(7,Ug,15,0,"div",0),Fo(8,Hg,13,0,"div",0),Fo(9,Lg,13,0,"div",0),Fo(10,zg,15,0,"div",0)),2&t&&(jo("ngIf",e.slides[e.slideIndex]===e.Slide.Intro),lr(1),jo("ngIf",e.slides[e.slideIndex]===e.Slide.Grid),lr(1),jo("ngIf",e.slides[e.slideIndex]===e.Slide.BarriersAndWeights),lr(1),jo("ngIf",e.slides[e.slideIndex]===e.Slide.CustomWeights),lr(1),jo("ngIf",e.slides[e.slideIndex]===e.Slide.MazeGen),lr(1),jo("ngIf",e.slides[e.slideIndex]===e.Slide.StartAndGoal),lr(1),jo("ngIf",e.slides[e.slideIndex]===e.Slide.Animating),lr(1),jo("ngIf",e.slides[e.slideIndex]===e.Slide.SteppingThroughAnimations),lr(1),jo("ngIf",e.slides[e.slideIndex]===e.Slide.SavingGrid),lr(1),jo("ngIf",e.slides[e.slideIndex]===e.Slide.QuizMode),lr(1),jo("ngIf",e.slides[e.slideIndex]===e.Slide.Conclusion))},directives:[tu,ep],styles:[".modal-slide[_ngcontent-%COMP%]{position:fixed;top:0;left:0;background-color:#fff;border:3px solid var(--secondary-color);height:90vh;width:90vw;margin-left:5vw;margin-top:5vh;display:flex;flex-direction:column;align-items:flex-start;justify-content:flex-start}@media screen and (max-width:767px) and (orientation:portrait){.modal-slide[_ngcontent-%COMP%]{display:none}}.modal-title[_ngcontent-%COMP%]{margin-top:10px;font-size:25px;align-self:center}.modal-content[_ngcontent-%COMP%]{overflow:scroll;overflow-y:auto;overflow-x:hidden;margin-top:5px;margin-bottom:50px;width:90vw}.modal-centered-text[_ngcontent-%COMP%], .modal-text[_ngcontent-%COMP%]{font-size:18px;margin:10px 3%}.modal-centered-text[_ngcontent-%COMP%]{align-self:center}.modal-visual-media[_ngcontent-%COMP%]{height:331px;width:539px;margin-left:50%;transform:translate(-50%)}@media screen and (min-height:500px) and (min-width:950px){.modal-visual-media[_ngcontent-%COMP%]{height:496px;width:808px}}.modal-bottom-left-btn[_ngcontent-%COMP%]{position:absolute;bottom:0;left:0;margin-bottom:5px;margin-left:20px}.modal-left-of-bottom-right-btn[_ngcontent-%COMP%]{transform:translateX(-110%)}.modal-bottom-right-btn[_ngcontent-%COMP%], .modal-left-of-bottom-right-btn[_ngcontent-%COMP%]{position:absolute;bottom:0;right:0;margin-bottom:5px;margin-right:20px}@media screen and (max-height:600px){.modal-bottom-left-btn[_ngcontent-%COMP%], .modal-bottom-right-btn[_ngcontent-%COMP%], .modal-left-of-bottom-right-btn[_ngcontent-%COMP%]{position:fixed}}.modal-input-item[_ngcontent-%COMP%]{align-self:center;width:500px;height:100px;font-size:18px}"],changeDetection:0}),t})();const Vg=Hn(Gg);var Wg=function(t){return t.Intro="Intro",t.Grid="Grid",t.BarriersAndWeights="BarriersAndWeights",t.CustomWeights="CustomWeights",t.MazeGen="MazeGen",t.StartAndGoal="StartAndGoal",t.Animating="Animating",t.SteppingThroughAnimations="SteppingThroughAnimations",t.SavingGrid="SavingGrid",t.QuizMode="QuizMode",t.Conclusion="Conclusion",t}({});function $g(){const t=Fp(zm,Gm,()=>1),e=Fp(zm,Gm,()=>!1);return t[0][1]=19,t[0][2]=6,t[0][4]=25,t[0][5]=27,t[0][6]=27,t[0][7]=18,t[0][8]=15,t[1][2]=28,t[1][4]=5,t[1][5]=29,t[1][6]=20,t[1][7]=19,t[1][8]=10,t[2][1]=7,t[2][2]=13,t[2][4]=14,t[2][5]=7,t[2][6]=19,t[2][7]=3,t[2][8]=14,e[0][0]=!0,e[1][0]=!0,e[2][0]=!0,e[3][0]=!0,e[3][1]=!0,e[3][2]=!0,e[3][3]=!0,e[3][4]=!0,e[3][5]=!0,e[3][6]=!0,e[3][7]=!0,e[3][8]=!0,e[3][9]=!0,e[3][10]=!0,e[2][10]=!0,e[1][10]=!0,e[0][10]=!0,{gridBarriers:e,gridWeights:t,startPos:{row:1,col:1},goalPos:{row:1,col:9}}}function Bg(){const t=Fp(zm,Gm,()=>1),e=Fp(zm,Gm,()=>!1);return t[0][2]=14,t[0][3]=15,t[0][4]=13,t[1][1]=21,t[1][4]=15,t[1][5]=9,t[2][2]=10,t[2][3]=2,t[2][4]=10,t[2][7]=19,e[0][0]=!0,e[1][0]=!0,e[2][0]=!0,e[3][0]=!0,e[3][1]=!0,e[3][2]=!0,e[3][3]=!0,e[3][4]=!0,e[3][5]=!0,e[3][6]=!0,e[3][7]=!0,e[3][8]=!0,e[3][9]=!0,e[3][10]=!0,e[2][10]=!0,e[1][10]=!0,e[0][10]=!0,{gridBarriers:e,gridWeights:t,startPos:{row:1,col:3},goalPos:{row:1,col:9}}}function qg(t,e){if(1&t){const t=Go();Ho(0,"div",1),Ho(1,"h1",2),hs(2,"Theory Behind the Algorithms"),Lo(),Ho(3,"span",3),Ho(4,"p",4),hs(5," So what is a pathfinding algorithm? A pathfinding algorithm is an algorithm that tries to find a path between two points, in this case two tiles in a grid. From the point of view of the algorithm we don't know what lies ahead of us, we just know where we currently are, what we've already seen and whether the current tile we're on is the goal. The general procedure is to keep track of what tiles we've seen by storing them away in an agenda. We start at the start tile and add all of its neighbours to the agenda. We then take a tile from the agenda and add all of its neighbours to the agenda. This process is repeated until we reach the goal. How do we decide which tile to take from the agenda? That's how all the algorithms we'll explore differ from one another. "),Lo(),zo(6,"img",5),Lo(),Ho(7,"button",6),Wo("click",function(){return Pe(t),qo().nextSlide()}),hs(8," Next Slide "),Lo(),Ho(9,"button",7),Wo("click",function(){return Pe(t),qo().hideModal()}),hs(10,"Skip"),Lo(),Lo()}}function Qg(t,e){if(1&t){const t=Go();Ho(0,"div",1),Ho(1,"h1",2),hs(2,"Applications"),Lo(),Ho(3,"span",3),Ho(4,"p",4),hs(5," There are many applications for these algorithms. Whenever we need to find a path between any two points automatically (i.e google maps, finding a route in a video game) we\u2019ll use a pathfinding algorithm. However, they also have a lot of applications that aren\u2019t obvious at first glance. For instance, we can use them to solve rubix cubes by treating all the possible configurations of the cubes as points, and connections between any cubes that can be moved between by turning the cube. This forms a network, which can be explored using pathfinding algorithms. The path we get back can be used as a series of steps needed to solve the cube. "),Lo(),zo(6,"img",8),Lo(),Ho(7,"button",9),Wo("click",function(){return Pe(t),qo().prevSlide()}),hs(8," Previous Slide "),Lo(),Ho(9,"button",6),Wo("click",function(){return Pe(t),qo().nextSlide()}),hs(10," Next Slide "),Lo(),Ho(11,"button",7),Wo("click",function(){return Pe(t),qo().hideModal()}),hs(12,"Skip"),Lo(),Lo()}}function Zg(t,e){if(1&t){const t=Go();Ho(0,"div",1),Ho(1,"h1",2),hs(2,"Uninformed Search"),Lo(),Ho(3,"span",3),Ho(4,"p",4),hs(5," With this setup we can\u2019t make a very clever algorithm, but we can still find any existing path and even guarantee that it\u2019s the shortest. We just explore the grid until we hit the goal. How do we decide what tile to take from the agenda next? "),Lo(),Ho(6,"p",4),hs(7,' One approach is to use stack (like a stack of papers) as the agenda. Since stacks follow a last in first out order, the tile we take from the stack will be the one seen most recently. This won\u2019t find the shortest path, but it will find any path if it exists. This is called a "depth first search". '),Lo(),Ho(8,"p",4),hs(9,' Another approach is to use a queue (like a queue outside a shop) as the agenda. Since a queue is first in first out the tile we take from the queue will be the one seen least recently. This is called a "breadth first search". This guarantees the shortest path, but why? When we explore, we start by adding all neighbours of the starting tile into the queue. These tiles are all one tile away from the starting tile. When we visit the next tile, we add all of its neighbours onto the queue, which are two tiles away from the starting tile. Since this is a queue, we explore all the tiles we seen least recently. Since the tiles that were one away were added first, we\u2019ll get through all the tiles that are one away before we consider any tile two tiles away from the starting tile. This idea continues throughout the algorithm; we\u2019ll consider the tiles that are two away before we consider the tiles that are three away and so on\u2026 When we visit the goal we know we\u2019ve found the shortest way to get to it, because if a shorter way existed we\u2019d have seen it before. Say the goal was 10 tiles away from the starting tile. We\u2019ve already explored all the tiles at distances that are within 9 tiles away, and none of them were the goal, so we know for sure that the way we\u2019ve got to the goal is the minimum distance, which means that it must also be the shortest path. '),Lo(),Lo(),Ho(10,"button",9),Wo("click",function(){return Pe(t),qo().prevSlide()}),hs(11," Previous Slide "),Lo(),Ho(12,"button",6),Wo("click",function(){return Pe(t),qo().nextSlide()}),hs(13," Next Slide "),Lo(),Ho(14,"button",7),Wo("click",function(){return Pe(t),qo().hideModal()}),hs(15,"Skip"),Lo(),Lo()}}function Yg(t,e){if(1&t){const t=Go();Ho(0,"div",1),Ho(1,"h1",2),hs(2,"Weighted Search"),Lo(),Ho(3,"span",3),Ho(4,"p",4),hs(5," When you\u2019re exploring the world not all roads are created equal. Some are smooth and easy to drive on, while some are bumpy and full of potholes. So what seems like the shortest path might not actually be the shortest path if we have to cross a bunch of badly paved roads. To model this, we can assign a tile a weight which tells us how much it costs to cross it. To find the shortest path, some algorithms will try to minimise the total cost. Algorithms that do this are weighted. However some algorithms simply ignore these weights. These algorithms are unweighted. "),Lo(),Ho(6,"p",4),hs(7," Breadth first search and depth first search don\u2019t consider these weights, so we need a new algorithm, namely Dijkstra\u2019s. The idea behind Dijkstra\u2019s is to keep track of the total cost to get to each tile as we explore the grid. For instance if to get to a tile we had to get through tiles of weights 1, 2, and 3, then the total cost would be 6. When it comes to selecting which tile to visit next, we always pick the tile with the lowest total cost. This guarantees the shortest path for weighted grids, but why? The reasoning is similar to breadth first search. Since we always look at tile that are the smallest cost, we know that when we reach the goal there can\u2019t have been a shorter path to the goal, as we would have already seen it before. "),Lo(),Lo(),Ho(8,"button",9),Wo("click",function(){return Pe(t),qo().prevSlide()}),hs(9," Previous Slide "),Lo(),Ho(10,"button",6),Wo("click",function(){return Pe(t),qo().nextSlide()}),hs(11," Next Slide "),Lo(),Ho(12,"button",7),Wo("click",function(){return Pe(t),qo().hideModal()}),hs(13,"Skip"),Lo(),Lo()}}function Xg(t,e){if(1&t){const t=Go();Ho(0,"div",1),Ho(1,"h1",2),hs(2,"Heuristics"),Lo(),Ho(3,"span",3),Ho(4,"p",4),hs(5," You may be wondering, what if we actually know where the goal is? For instance in a grid what if we could say for sure \u201cthe goal is in position (10, 10)\u201d? We don\u2019t necessarily know how to get to the goal, but we know what direction we should be looking in at least. "),Lo(),Ho(6,"p",4),hs(7,' Since this is a coordinate system, we can estimate the distance from the goal if we know what coordinate the goal is in. For instance if we\u2019re at the coordinate (5, 5) and the goal is at (10, 10) then we can estimate the distance from the goal to be a total of 10 steps. Note that this is just an estimate. There could be obstacles that prevent us from actually getting there in 10 steps, but it still helps us move in the right direction. This leads to an algorithm called "best first search". The idea is to always pick the tile with the smallest estimated distance to the goal. This gets us to the goal quickly because we won\u2019t waste time searching in the wrong direction. '),Lo(),Ho(8,"p",4),hs(9," The diagram below shows the estimated distance from each tile to the goal \ud83c\udfaf in the middle. "),Lo(),zo(10,"img",10),Lo(),Ho(11,"button",9),Wo("click",function(){return Pe(t),qo().prevSlide()}),hs(12," Previous Slide "),Lo(),Ho(13,"button",6),Wo("click",function(){return Pe(t),qo().nextSlide()}),hs(14," Next Slide "),Lo(),Ho(15,"button",7),Wo("click",function(){return Pe(t),qo().hideModal()}),hs(16,"Skip"),Lo(),Lo()}}function Jg(t,e){if(1&t){const t=Go();Ho(0,"div",1),Ho(1,"h1",2),hs(2,"Weighted Search"),Lo(),Ho(3,"span",3),Ho(4,"p",4),hs(5," When you\u2019re exploring the world not all roads are created equal. Some are smooth and easy to drive on, while some are bumpy and full of potholes. So what seems like the shortest path might not actually be the shortest path if we have to cross a bunch of badly paved roads. To model this, we can assign a tile a weight which tells us how much it costs to cross it. To find the shortest path, some algorithms will try to minimise the total cost. Algorithms that do this are weighted. However some algorithms simply ignore these weights. These algorithms are unweighted. "),Lo(),Ho(6,"p",4),hs(7," Breadth first search and depth first search don\u2019t consider these weights, so we need a new algorithm, namely Dijkstra\u2019s. The idea behind Dijkstra\u2019s is to keep track of the total cost to get to each tile as we explore the grid. For instance if to get to a tile we had to get through tiles of weights 1, 2, and 3, then the total cost would be 6. When it comes to selecting which tile to visit next, we always pick the tile with the lowest total cost. This guarantees the shortest path for weighted grids, but why? The reasoning is similar to breadth first search. Since we always look at tile that are the smallest cost, we know that when we reach the goal there can\u2019t have been a shorter path to the goal, as we would have already seen it before. "),Lo(),zo(8,"img",11),Lo(),Ho(9,"button",9),Wo("click",function(){return Pe(t),qo().prevSlide()}),hs(10," Previous Slide "),Lo(),Ho(11,"button",6),Wo("click",function(){return Pe(t),qo().nextSlide()}),hs(12," Next Slide "),Lo(),Ho(13,"button",7),Wo("click",function(){return Pe(t),qo().hideModal()}),hs(14,"Skip"),Lo(),Lo()}}function Kg(t,e){if(1&t){const t=Go();Ho(0,"div",1),Ho(1,"h1",2),hs(2,"The A* algorithm"),Lo(),Ho(3,"span",3),Ho(4,"p",4),hs(5," A* allows us to use the estimated distance from the goal to find a path quickly, but always guarantees the shortest path. On top of that it also works for weighted graphs. The idea is to always pick the tile that has the minimum value of "),zo(6,"br"),zo(7,"br"),Ho(8,"em"),hs(9," total cost to get to here from start + estimated distance from here to the goal "),Lo(),zo(10,"br"),zo(11,"br"),hs(12," We can see why this will help us reach the goal faster. If a tile is far away from the goal, A* is less likely to pick it as the estimated distance is a factor in how it picks which tile to explore next. However, it\u2019s not so obvious why this will give us the shortest path. In fact, A* will only guarantee the shortest path if our estimate never overestimates the distance. But why? Say we have just discovered a tile, and we know it\u2019s the goal. We want to know for certain that for any other tile in the grid, the distance between that tile and the goal added to the distance between that tile and the start is greater than the distance from the start to the goal we've just calculated. In other words, we want to know that for any tile "),zo(13,"br"),zo(14,"br"),Ho(15,"em"),hs(16," total cost to get to tile from start + actual distance from tile to goal >= total cost to get from start to goal "),Lo(),zo(17,"br"),zo(18,"br"),hs(19," We already know that, since this is the first time we\u2019ve visited the goal, that "),zo(20,"br"),zo(21,"br"),Ho(22,"em"),hs(23," total cost to get to tile from start + estimated distance from tile to goal >= total cost to get from start to goal "),Lo(),zo(24,"br"),zo(25,"br"),hs(26," Since we know the estimated distance will always be smaller than the actual distance, we know that the formula we want will always hold. Therefore A* will always find the shortest path if we never overestimate the distance. This may be a bit unintuitive, but another way to think of it is this: \u201cdon\u2019t let a large overestimate put you off the shortest path\u201d "),Lo(),Lo(),Ho(27,"button",9),Wo("click",function(){return Pe(t),qo().prevSlide()}),hs(28," Previous Slide "),Lo(),Ho(29,"button",6),Wo("click",function(){return Pe(t),qo().nextSlide()}),hs(30," Next Slide "),Lo(),Ho(31,"button",7),Wo("click",function(){return Pe(t),qo().hideModal()}),hs(32,"Skip"),Lo(),Lo()}}function tv(t,e){if(1&t){const t=Go();Ho(0,"div",1),Ho(1,"h1",2),hs(2,"A* vs Dijkstra\u2019s"),Lo(),Ho(3,"span",3),Ho(4,"p",4),hs(5," Here we can see a comparison between Dijkstra\u2019s and A* on the same problem. Dijsktra's is on the left and A* is on the right. As you can see, A* gets the same path but focusses its search on tiles nearer to the goal, thereby doing less work. "),Lo(),zo(6,"img",12),Lo(),Ho(7,"button",9),Wo("click",function(){return Pe(t),qo().prevSlide()}),hs(8," Previous Slide "),Lo(),Ho(9,"button",7),Wo("click",function(){return Pe(t),qo().hideModal()}),hs(10,"Finish"),Lo(),Lo()}}let ev=(()=>{class t extends ef{constructor(){super(...arguments),this.Slide=iv}}return t.\u0275fac=function(e){return nv(e||t)},t.\u0275cmp=Gt({type:t,selectors:[["app-theory-modal"]],features:[bo],decls:8,vars:8,consts:[["class","modal-slide",4,"ngIf"],[1,"modal-slide"],[1,"modal-title"],[1,"modal-content"],[1,"modal-text"],["src","./assets/path.png",1,"modal-visual-media","path-img"],[1,"modal-left-of-bottom-right-btn",3,"click"],[1,"modal-bottom-right-btn",3,"click"],["src","./assets/rubix-graph.png",1,"modal-visual-media"],[1,"modal-bottom-left-btn",3,"click"],["src","./assets/heuristic-dist.png",1,"modal-visual-media","heuristic-img"],["src","./assets/weighted-path.png",1,"modal-visual-media","weighted-path-img"],["src","./assets/astar-dijkstras-cmp.png",1,"modal-visual-media","dijkstras-astar-cmp-img"]],template:function(t,e){1&t&&(Fo(0,qg,11,0,"div",0),Fo(1,Qg,13,0,"div",0),Fo(2,Zg,16,0,"div",0),Fo(3,Yg,14,0,"div",0),Fo(4,Xg,17,0,"div",0),Fo(5,Jg,15,0,"div",0),Fo(6,Kg,33,0,"div",0),Fo(7,tv,11,0,"div",0)),2&t&&(jo("ngIf",e.slides[e.slideIndex]===e.Slide.Intro),lr(1),jo("ngIf",e.slides[e.slideIndex]===e.Slide.Applications),lr(1),jo("ngIf",e.slides[e.slideIndex]===e.Slide.Uninformed),lr(1),jo("ngIf",e.slides[e.slideIndex]===e.Slide.Weighted),lr(1),jo("ngIf",e.slides[e.slideIndex]===e.Slide.Heuristics),lr(1),jo("ngIf",e.slides[e.slideIndex]===e.Slide.Weighted),lr(1),jo("ngIf",e.slides[e.slideIndex]===e.Slide.AStar),lr(1),jo("ngIf",e.slides[e.slideIndex]===e.Slide.DijskrasAstarCmp))},directives:[tu],styles:[".modal-slide[_ngcontent-%COMP%]{position:fixed;top:0;left:0;background-color:#fff;border:3px solid var(--secondary-color);height:90vh;width:90vw;margin-left:5vw;margin-top:5vh;display:flex;flex-direction:column;align-items:flex-start;justify-content:flex-start}@media screen and (max-width:767px) and (orientation:portrait){.modal-slide[_ngcontent-%COMP%]{display:none}}.modal-title[_ngcontent-%COMP%]{margin-top:10px;font-size:25px;align-self:center}.modal-content[_ngcontent-%COMP%]{overflow:scroll;overflow-y:auto;overflow-x:hidden;margin-top:5px;margin-bottom:50px;width:90vw}.modal-centered-text[_ngcontent-%COMP%], .modal-text[_ngcontent-%COMP%]{font-size:18px;margin:10px 3%}.modal-centered-text[_ngcontent-%COMP%]{align-self:center}.modal-visual-media[_ngcontent-%COMP%]{height:331px;width:539px;margin-left:50%;transform:translate(-50%)}@media screen and (min-height:500px) and (min-width:950px){.modal-visual-media[_ngcontent-%COMP%]{height:496px;width:808px}}.modal-bottom-left-btn[_ngcontent-%COMP%]{position:absolute;bottom:0;left:0;margin-bottom:5px;margin-left:20px}.modal-left-of-bottom-right-btn[_ngcontent-%COMP%]{transform:translateX(-110%)}.modal-bottom-right-btn[_ngcontent-%COMP%], .modal-left-of-bottom-right-btn[_ngcontent-%COMP%]{position:absolute;bottom:0;right:0;margin-bottom:5px;margin-right:20px}@media screen and (max-height:600px){.modal-bottom-left-btn[_ngcontent-%COMP%], .modal-bottom-right-btn[_ngcontent-%COMP%], .modal-left-of-bottom-right-btn[_ngcontent-%COMP%]{position:fixed}}.modal-input-item[_ngcontent-%COMP%]{align-self:center;width:500px;height:100px;font-size:18px}",".path-img[_ngcontent-%COMP%]{width:calc((69.45vw + 69.45vh) / 2);height:calc((23.95vw + 23.95vh) / 2)}.heuristic-img[_ngcontent-%COMP%], .weighted-path-img[_ngcontent-%COMP%]{width:calc((45.3vw + 45.3vh) / 2);height:calc((15.8vw + 15.8vh) / 2)}.dijkstras-astar-cmp-img[_ngcontent-%COMP%]{width:calc((71.17vw + 71.17vh) / 2);height:calc((33.3vw + 33.3vh) / 2)}"]}),t})();const nv=Hn(ev);var iv=function(t){return t.Intro="Intro",t.Applications="Applications",t.Uninformed="Uninformed",t.Weighted="Weighted",t.Heuristics="Heuristics",t.AStar="AStar",t.DijskrasAstarCmp="DijskrasAstarCmp",t}({});let rv=(()=>{class t{constructor(){this.draggedFrom=null}handleDrag(t,e,n,i){this.canDragFrom(e,n,i)?this.draggedFrom=e:(this.draggedFrom=null,t.preventDefault())}canDrop(t,e,n,i){return!Zm(n,t)&&!Zm(i,t)&&!e[t.row][t.col]}getDraggedFromPos(){return this.draggedFrom}canDragFrom(t,e,n){return Zm(t,e)||Zm(t,n)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ct({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function ov(t,e){if(1&t){const t=Go();Ho(0,"div",1),Ho(1,"input",2,3),Wo("keyup.enter",function(){Pe(t);const e=Ro(2);return qo().submitCustomWeight(e.value)}),Lo(),Ho(3,"p",4),hs(4," Input must be a positive number! "),Lo(),Ho(5,"button",5),Wo("click",function(){Pe(t);const e=Ro(2);return qo().submitCustomWeight(e.value)}),hs(6," Add Custom Weight "),Lo(),Ho(7,"button",5),Wo("click",function(){return Pe(t),qo().closeCustomWeightInput()}),hs(8," Close "),Lo(),Lo()}if(2&t){const t=qo();lr(3),ts("visibility",t.hasUserEnteredInvalidInput?"visible":"hidden")}}let sv=(()=>{class t{constructor(){this.submitCustomWeightEmitter=new Oa,this.closeCustomWeightInputEmitter=new Oa,this.hasUserEnteredInvalidInput=!1}submitCustomWeight(t){const e=parseInt(t,10);!isNaN(e)&&e>0?this.submitCustomWeightEmitter.emit(e):this.hasUserEnteredInvalidInput=!0}closeCustomWeightInput(){this.closeCustomWeightInputEmitter.emit()}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=Gt({type:t,selectors:[["app-custom-weight-input"]],inputs:{shouldDisplayCustomWeightInput:"shouldDisplayCustomWeightInput"},outputs:{submitCustomWeightEmitter:"submitCustomWeightEmitter",closeCustomWeightInputEmitter:"closeCustomWeightInputEmitter"},decls:1,vars:1,consts:[["class","tile-tooltip",4,"ngIf"],[1,"tile-tooltip"],["type","text",1,"tile-tooltip-input",3,"keyup.enter"],["customWeight",""],[1,"tile-tooltip-error-msg"],[1,"tile-tooltip-btn",3,"click"]],template:function(t,e){1&t&&Fo(0,ov,9,2,"div",0),2&t&&jo("ngIf",e.shouldDisplayCustomWeightInput)},directives:[tu],styles:[".tile-tooltip-btn[_ngcontent-%COMP%]{margin-bottom:1vh}.tile-tooltip-input[_ngcontent-%COMP%]{height:40px;width:200px}.tile-tooltip-error-msg[_ngcontent-%COMP%]{font-size:15px;margin-top:1vh;margin-bottom:1vh}",".tile[_ngcontent-%COMP%]{border:1px solid var(--primary-color);height:18px;width:18px;font-size:12px;z-index:100;cursor:pointer;overflow:hidden;display:flex;justify-content:center;align-items:center}#start-arrow[_ngcontent-%COMP%]{font-size:18px}#goal-arrow[_ngcontent-%COMP%]{font-size:13px}@media screen and (min-width:1000px) and (min-height:700px){.tile[_ngcontent-%COMP%]{height:22px;width:22px;font-size:14px}#start-arrow[_ngcontent-%COMP%]{font-size:22px}#goal-arrow[_ngcontent-%COMP%]{font-size:16px}}.tile[_ngcontent-%COMP%]:hover{opacity:.5}.tile-tooltip[_ngcontent-%COMP%]{position:absolute;flex-direction:column;justify-content:space-around;width:250px;font-size:16px;background-color:#fff;border:2px solid var(--secondary-color);margin-left:20px;margin-top:-125px;padding:10px}.tile-tooltip[_ngcontent-%COMP%], .tile[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{display:flex;align-items:center}.tile[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{justify-content:center}.black-border[_ngcontent-%COMP%]{border:1px solid var(--secondary-color)}"]}),t})();function av(t,e){1&t&&(Ho(0,"p",6),hs(1,"\u21d2"),Lo())}function lv(t,e){1&t&&(Ho(0,"p",7),hs(1,"\ud83c\udfaf"),Lo())}function uv(t,e){if(1&t&&(Ho(0,"p"),hs(1),Lo()),2&t){const t=qo();ts("color",t.displayItemToColor.get(t.displayItem)),lr(1),ps(" ",t.getDisplayStr()," ")}}function cv(t,e){if(1&t&&(Ho(0,"div",8),Ho(1,"p"),hs(2),Lo(),Ho(3,"p"),hs(4),Lo(),Ho(5,"p"),hs(6),Lo(),Lo()),2&t){const t=qo();lr(2),ps("Calculated Distance From Start: ",t.getDistDisplayStr(),""),lr(2),ps("Estimated Distance To Goal: ",t.heuristicDist,""),lr(2),ps("Cost of passing through: ",t.weight,"")}}let hv=(()=>{class t{constructor(){this.dragEmitter=new Oa,this.dropEmitter=new Oa,this.clickEmitter=new Oa,this.submitCustomWeightEmitter=new Oa,this.closeCustomWeightInputEmitter=new Oa,this.animationFrameToColor=new zf([[5,"white"],[0,"#7FCDCD"],[2,"#EFC050"],[1,"#F7CAC9"],[4,"#F7CAC9"],[3,"#7FCDCD"]]),this.displayItemToColor=new zf([[Og.Dists,"#006633"],[Og.Weights,"var(--secondary-color)"],[Og.Heuristics,"red"]]),this.animationFramesToHighlight=[4,3],this.isMouseOver=!1}getClass(){let t="tile";return this.shouldTileBeHighlighted()&&(t+=" pulse-highlight",t+=" black-border"),t}shouldTileBeHighlighted(){return this.animationFramesToHighlight.includes(this.animationFrame)&&!this.isInQuizMode}getDisplayStr(){if(this.displayItem===Og.Dists)return this.getDistDisplayStr();if(this.displayItem===Og.Weights)return 1===this.weight?"":this.weight.toString();if(this.displayItem===Og.Heuristics)return this.heuristicDist.toString();throw new Error("Tile display item not supported!")}getDistDisplayStr(){return this.dist!==Number.POSITIVE_INFINITY?this.dist.toString():"\u221e"}getBackgroundColor(){return this.isBarrier?"gray":this.animationFrameToColor.get(this.animationFrame)}handleMouseOver(t){this.isMouseOver=!0,this.notifyClickIfMouseDown(t)}handleMouseLeave(){this.isMouseOver=!1}handleDrag(t){this.handleMouseLeave(),this.notifyDrag(t)}notifyDrag(t){this.dragEmitter.emit(t)}notifyDrop(t){this.dropEmitter.emit(t)}notifyClick(t){this.clickEmitter.emit(t)}notifyClickIfMouseDown(t){this.isMouseDown&&this.notifyClick(t)}submitCustomWeight(t){this.submitCustomWeightEmitter.emit(t)}closeCustomWeightInput(){this.closeCustomWeightInputEmitter.emit()}shouldDisplayTileTooltip(){return!Sp&&this.willDisplayTooltipOnMouseOver&&this.isMouseOver}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=Gt({type:t,selectors:[["app-tile"]],inputs:{isMouseDown:"isMouseDown",isStart:"isStart",isGoal:"isGoal",isBarrier:"isBarrier",weight:"weight",dist:"dist",heuristicDist:"heuristicDist",displayItem:"displayItem",willDisplayTooltipOnMouseOver:"willDisplayTooltipOnMouseOver",animationFrame:"animationFrame",pos:"pos",isInQuizMode:"isInQuizMode",shouldDisplayCustomWeightInput:"shouldDisplayCustomWeightInput"},outputs:{dragEmitter:"dragEmitter",dropEmitter:"dropEmitter",clickEmitter:"clickEmitter",submitCustomWeightEmitter:"submitCustomWeightEmitter",closeCustomWeightInputEmitter:"closeCustomWeightInputEmitter"},decls:6,vars:10,consts:[[3,"draggable","drag","dragend","dragenter","dragleave","dragover","dragstart","drop","mouseenter","mouseleave","mousedown"],["id","start-arrow",4,"ngIf"],["id","goal-arrow",4,"ngIf"],[3,"color",4,"ngIf"],["class","tile-tooltip",4,"ngIf"],[3,"shouldDisplayCustomWeightInput","submitCustomWeightEmitter","closeCustomWeightInputEmitter"],["id","start-arrow"],["id","goal-arrow"],[1,"tile-tooltip"]],template:function(t,e){1&t&&(Ho(0,"div",0),Wo("drag",function(t){return t.preventDefault()})("dragend",function(t){return t.preventDefault()})("dragenter",function(t){return t.preventDefault()})("dragleave",function(t){return t.preventDefault()})("dragover",function(t){return t.preventDefault()})("dragstart",function(t){return e.handleDrag(t)})("drop",function(t){return e.notifyDrop(t)})("mouseenter",function(t){return e.handleMouseOver(t)})("mouseleave",function(){return e.handleMouseLeave()})("mousedown",function(t){return e.notifyClick(t)}),Fo(1,av,2,0,"p",1),Fo(2,lv,2,0,"p",2),Fo(3,uv,2,3,"p",3),Lo(),Fo(4,cv,7,3,"div",4),Ho(5,"app-custom-weight-input",5),Wo("submitCustomWeightEmitter",function(t){return e.submitCustomWeight(t)})("closeCustomWeightInputEmitter",function(){return e.submitCustomWeight(e.weight)}),Lo()),2&t&&(es(e.getClass()),ts("background-color",e.getBackgroundColor()),jo("draggable",!e.isInQuizMode),lr(1),jo("ngIf",e.isStart),lr(1),jo("ngIf",e.isGoal),lr(1),jo("ngIf",!e.isStart&&!e.isGoal),lr(1),jo("ngIf",e.shouldDisplayTileTooltip()),lr(1),jo("shouldDisplayCustomWeightInput",e.shouldDisplayCustomWeightInput))},directives:[tu,sv],styles:[".tile[_ngcontent-%COMP%]{border:1px solid var(--primary-color);height:18px;width:18px;font-size:12px;z-index:100;cursor:pointer;overflow:hidden;display:flex;justify-content:center;align-items:center}#start-arrow[_ngcontent-%COMP%]{font-size:18px}#goal-arrow[_ngcontent-%COMP%]{font-size:13px}@media screen and (min-width:1000px) and (min-height:700px){.tile[_ngcontent-%COMP%]{height:22px;width:22px;font-size:14px}#start-arrow[_ngcontent-%COMP%]{font-size:22px}#goal-arrow[_ngcontent-%COMP%]{font-size:16px}}.tile[_ngcontent-%COMP%]:hover{opacity:.5}.tile-tooltip[_ngcontent-%COMP%]{position:absolute;flex-direction:column;justify-content:space-around;width:250px;font-size:16px;background-color:#fff;border:2px solid var(--secondary-color);margin-left:20px;margin-top:-125px;padding:10px}.tile-tooltip[_ngcontent-%COMP%], .tile[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{display:flex;align-items:center}.tile[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{justify-content:center}.black-border[_ngcontent-%COMP%]{border:1px solid var(--secondary-color)}"],changeDetection:0}),t})(),dv=(()=>{class t extends ef{constructor(){super(...arguments),this.newSaveEmitter=new Oa,this.hasEnteredInvalidInput=!1}createNewSave(t){t.length>0?(this.newSaveEmitter.emit(t),this.hideModal()):this.hasEnteredInvalidInput=!0}}return t.\u0275fac=function(e){return pv(e||t)},t.\u0275cmp=Gt({type:t,selectors:[["app-save-grid-modal"]],outputs:{newSaveEmitter:"newSaveEmitter"},features:[bo],decls:13,vars:2,consts:[[1,"modal-slide"],[1,"modal-title"],[1,"modal-text"],["id","invalid-input-error-message",1,"modal-centered-text"],["type","text",1,"modal-input-item"],["saveNameInput",""],[1,"modal-bottom-right-btn",3,"click"],[1,"modal-left-of-bottom-right-btn",3,"click"]],template:function(t,e){if(1&t){const t=Go();Ho(0,"div",0),Ho(1,"h1",1),hs(2,"Save Grid"),Lo(),Ho(3,"p",2),hs(4," Enter the name of this save and it will store the current grid state in the browser's cache to be reloaded later. "),Lo(),Ho(5,"p",3),hs(6," Input cannot be non-empty! "),Lo(),zo(7,"input",4,5),Ho(9,"button",6),Wo("click",function(){return e.hideModal()}),hs(10," Close Without Saving "),Lo(),Ho(11,"button",7),Wo("click",function(){Pe(t);const n=Ro(8);return e.createNewSave(n.value)}),hs(12," Save And Close "),Lo(),Lo()}2&t&&(lr(5),ts("visibility",e.hasEnteredInvalidInput?"visible":"hidden"))},styles:["",".modal-slide[_ngcontent-%COMP%]{position:fixed;top:0;left:0;background-color:#fff;border:3px solid var(--secondary-color);height:90vh;width:90vw;margin-left:5vw;margin-top:5vh;display:flex;flex-direction:column;align-items:flex-start;justify-content:flex-start}@media screen and (max-width:767px) and (orientation:portrait){.modal-slide[_ngcontent-%COMP%]{display:none}}.modal-title[_ngcontent-%COMP%]{margin-top:10px;font-size:25px;align-self:center}.modal-content[_ngcontent-%COMP%]{overflow:scroll;overflow-y:auto;overflow-x:hidden;margin-top:5px;margin-bottom:50px;width:90vw}.modal-centered-text[_ngcontent-%COMP%], .modal-text[_ngcontent-%COMP%]{font-size:18px;margin:10px 3%}.modal-centered-text[_ngcontent-%COMP%]{align-self:center}.modal-visual-media[_ngcontent-%COMP%]{height:331px;width:539px;margin-left:50%;transform:translate(-50%)}@media screen and (min-height:500px) and (min-width:950px){.modal-visual-media[_ngcontent-%COMP%]{height:496px;width:808px}}.modal-bottom-left-btn[_ngcontent-%COMP%]{position:absolute;bottom:0;left:0;margin-bottom:5px;margin-left:20px}.modal-left-of-bottom-right-btn[_ngcontent-%COMP%]{transform:translateX(-110%)}.modal-bottom-right-btn[_ngcontent-%COMP%], .modal-left-of-bottom-right-btn[_ngcontent-%COMP%]{position:absolute;bottom:0;right:0;margin-bottom:5px;margin-right:20px}@media screen and (max-height:600px){.modal-bottom-left-btn[_ngcontent-%COMP%], .modal-bottom-right-btn[_ngcontent-%COMP%], .modal-left-of-bottom-right-btn[_ngcontent-%COMP%]{position:fixed}}.modal-input-item[_ngcontent-%COMP%]{align-self:center;width:500px;height:100px;font-size:18px}"]}),t})();const pv=Hn(dv);function fv(t,e){if(1&t){const t=Go();Ho(0,"span"),Ho(1,"button",5),Wo("click",function(){Pe(t);const n=e.$implicit;return qo().loadSave(n)}),hs(2),Lo(),Ho(3,"button",6),Wo("click",function(){Pe(t);const n=e.$implicit;return qo().deleteSave(n)}),hs(4,"\u274c"),Lo(),Lo()}if(2&t){const t=e.$implicit;lr(2),ps(" ",t," ")}}let mv=(()=>{class t extends ef{constructor(){super(...arguments),this.loadSaveEmitter=new Oa,this.deleteSaveEmitter=new Oa}loadSave(t){this.loadSaveEmitter.emit(t),this.hideModal()}deleteSave(t){this.deleteSaveEmitter.emit(t)}}return t.\u0275fac=function(e){return gv(e||t)},t.\u0275cmp=Gt({type:t,selectors:[["app-load-saved-grid-modal"]],inputs:{saveNames:"saveNames"},outputs:{loadSaveEmitter:"loadSaveEmitter",deleteSaveEmitter:"deleteSaveEmitter"},features:[bo],decls:7,vars:1,consts:[[1,"modal-slide"],[1,"modal-title"],["id","load-saved-grid-menu",1,"modal-content"],[4,"ngFor","ngForOf"],[1,"modal-bottom-right-btn",3,"click"],[1,"save-btn",3,"click"],[1,"delete-save-btn",3,"click"]],template:function(t,e){1&t&&(Ho(0,"div",0),Ho(1,"h1",1),hs(2,"Load a Save"),Lo(),Ho(3,"span",2),Fo(4,fv,5,1,"span",3),Ho(5,"button",4),Wo("click",function(){return e.hideModal()}),hs(6,"Close"),Lo(),Lo(),Lo()),2&t&&(lr(4),jo("ngForOf",e.saveNames))},directives:[Jl],styles:["#load-saved-grid-menu[_ngcontent-%COMP%]{margin-top:5vh;width:100%;height:100%;text-align:center}.save-btn[_ngcontent-%COMP%]{width:50vw;margin-top:2vh;margin-bottom:2vh}.delete-save-btn[_ngcontent-%COMP%]{width:2vw;margin-left:1vw}",".modal-slide[_ngcontent-%COMP%]{position:fixed;top:0;left:0;background-color:#fff;border:3px solid var(--secondary-color);height:90vh;width:90vw;margin-left:5vw;margin-top:5vh;display:flex;flex-direction:column;align-items:flex-start;justify-content:flex-start}@media screen and (max-width:767px) and (orientation:portrait){.modal-slide[_ngcontent-%COMP%]{display:none}}.modal-title[_ngcontent-%COMP%]{margin-top:10px;font-size:25px;align-self:center}.modal-content[_ngcontent-%COMP%]{overflow:scroll;overflow-y:auto;overflow-x:hidden;margin-top:5px;margin-bottom:50px;width:90vw}.modal-centered-text[_ngcontent-%COMP%], .modal-text[_ngcontent-%COMP%]{font-size:18px;margin:10px 3%}.modal-centered-text[_ngcontent-%COMP%]{align-self:center}.modal-visual-media[_ngcontent-%COMP%]{height:331px;width:539px;margin-left:50%;transform:translate(-50%)}@media screen and (min-height:500px) and (min-width:950px){.modal-visual-media[_ngcontent-%COMP%]{height:496px;width:808px}}.modal-bottom-left-btn[_ngcontent-%COMP%]{position:absolute;bottom:0;left:0;margin-bottom:5px;margin-left:20px}.modal-left-of-bottom-right-btn[_ngcontent-%COMP%]{transform:translateX(-110%)}.modal-bottom-right-btn[_ngcontent-%COMP%], .modal-left-of-bottom-right-btn[_ngcontent-%COMP%]{position:absolute;bottom:0;right:0;margin-bottom:5px;margin-right:20px}@media screen and (max-height:600px){.modal-bottom-left-btn[_ngcontent-%COMP%], .modal-bottom-right-btn[_ngcontent-%COMP%], .modal-left-of-bottom-right-btn[_ngcontent-%COMP%]{position:fixed}}.modal-input-item[_ngcontent-%COMP%]{align-self:center;width:500px;height:100px;font-size:18px}"]}),t})();const gv=Hn(mv);function vv(t,e){if(1&t){const t=Go();Ho(0,"app-dropdown",21),Wo("itemChangedEmitter",function(e){return Pe(t),qo().setUserInteractionModeItem(e)}),Lo()}if(2&t){const t=qo();jo("currentItem",t.userInteractionModeItem)("items",t.userInteractionModeItems)}}function yv(t,e){if(1&t){const t=Go();Ho(0,"app-dropdown",22),Wo("itemChangedEmitter",function(e){return Pe(t),qo().setNeighboursItem(e)}),Lo()}if(2&t){const t=qo();ts("visibility",t.isInQuizMode()?"hidden":"visible"),jo("currentItem",t.neighboursItem)("items",t.neighboursItems)}}function wv(t,e){1&t&&(Ho(0,"p"),hs(1,"\u2b1b Barrier"),Lo())}function bv(t,e){1&t&&(Ho(0,"p"),hs(1,"\u2b1c Empty space"),Lo())}function _v(t,e){1&t&&(Ho(0,"p"),hs(1,"No number: weight of 1"),Lo())}function xv(t,e){if(1&t){const t=Go();Ho(0,"app-tile",25),Wo("dragEmitter",function(n){Pe(t);const i=e.$implicit;return qo(2).handleTileDrag(i,n)})("dropEmitter",function(){Pe(t);const n=e.$implicit;return qo(2).handleTileDrop(n)})("clickEmitter",function(){Pe(t);const n=e.$implicit;return qo(2).handleTileClick(n)})("submitCustomWeightEmitter",function(n){Pe(t);const i=e.$implicit;return qo(2).placeCustomWeightAt(i,n)})("closeCustomWeightInputEmitter",function(){return Pe(t),qo(2).updatePosToPlaceCustomWeightAt(null)}),Lo()}if(2&t){const t=e.$implicit,n=e.index,i=qo().index,r=qo();jo("isMouseDown",r.isMouseDown)("isStart",r.isStartPos(t))("isGoal",r.isGoalPos(t))("isBarrier",r.gridBarriers[i][n])("weight",r.gridWeights[i][n])("dist",r.getCurrentAnimationFrame().gridDists[i][n])("heuristicDist",r.getHeuristicDist(t))("displayItem",r.tileDisplayItem)("willDisplayTooltipOnMouseOver",0!==r.safeGetAnimationIndex()&&!r.isPlacingCustomWeights())("animationFrame",r.getCurrentAnimationFrame().grid[i][n])("pos",t)("isInQuizMode",r.isInQuizMode())("shouldDisplayCustomWeightInput",r.isPosToPlaceCustomWeightAt(t)&&r.isPlacingCustomWeights())}}function Cv(t,e){if(1&t&&(Ho(0,"div",23),Fo(1,xv,1,13,"app-tile",24),Lo()),2&t){const t=e.$implicit,n=qo();lr(1),jo("ngForOf",t)("ngForTrackBy",n.trackByPos)}}function Iv(t,e){if(1&t){const t=Go();Ho(0,"button",16),Wo("click",function(){Pe(t);const e=qo();return e.setModalDisplayed(e.Modal.SaveGrid)}),hs(1," Save Current Grid "),Lo()}2&t&&ts("visibility",qo().isInQuizMode()?"hidden":"visible")}function Sv(t,e){if(1&t){const t=Go();Ho(0,"button",16),Wo("click",function(){Pe(t);const e=qo();return e.setModalDisplayed(e.Modal.LoadGrid)}),hs(1," Load Saved Grid "),Lo()}2&t&&ts("visibility",qo().isInQuizMode()?"hidden":"visible")}function kv(t,e){if(1&t){const t=Go();Ho(0,"app-tutorial-modal",26),Wo("hideEmitter",function(){return Pe(t),qo().hideModal()}),Lo()}2&t&&jo("slides",qo().tutorialModalSlides)}function Tv(t,e){if(1&t){const t=Go();Ho(0,"app-theory-modal",26),Wo("hideEmitter",function(){return Pe(t),qo().hideModal()}),Lo()}2&t&&jo("slides",qo().theoryModalSlides)}function Av(t,e){if(1&t){const t=Go();Ho(0,"app-save-grid-modal",27),Wo("newSaveEmitter",function(e){return Pe(t),qo().saveCurrentGridState(e)})("hideEmitter",function(){return Pe(t),qo().hideModal()}),Lo()}}function Ev(t,e){if(1&t){const t=Go();Ho(0,"app-load-saved-grid-modal",28),Wo("loadSaveEmitter",function(e){return Pe(t),qo().loadSavedGridState(e)})("deleteSaveEmitter",function(e){return Pe(t),qo().deleteSavedGridState(e)})("hideEmitter",function(){return Pe(t),qo().hideModal()}),Lo()}2&t&&jo("saveNames",qo().parseLocalStorageItem("saveNames"))}let Ov=(()=>{class t{constructor(t){this.dragAndDropService=t,this.gridPositions=Fp(zm,Gm,(t,e)=>({row:t,col:e})),this.Modal=Pv,this.trackByPos=Xm,this.trackByRow=Jm,this.parseLocalStorageItem=Np,this.isWidthGreaterThan=Up,this.isHeightGreaterThan=Hp,this.algoItems=Object.values(Tg),this.quizzableAlgoItems=Object.values(Ag),this.mazeGenItems=Object.values(Sg),this.neighboursItems=Object.values(Eg),this.tileDisplayItems=Object.values(Og),this.userInteractionModeItems=Object.values(kg),this.tilePlaceItems=Object.values(Ig).filter(t=>!Sp||t!==Ig.CustomWeight),this.tutorialModalSlides=Object.values(Wg),this.theoryModalSlides=Object.values(iv),this.tilePlaceItemToImpl=new zf([[Ig.Barrier,this.toggleBarrier],[Ig.RandomWeight,this.toggleRandomWeight],[Ig.CustomWeight,this.updatePosToPlaceCustomWeightAt]]),this.mazeGenItemToImpl=new zf([[Sg.Random,wg],[Sg.FillGrid,bg],[Sg.HorizontalDivision,xg],[Sg.VerticalDivision,_g]]),this.algoItemToImpl=new zf([[Tg.BFS,pg],[Tg.DFS,fg],[Tg.Dijkstras,mg],[Tg.Astar,gg],[Tg.GBFS,vg],[Tg.Random,yg]]),this.algoItemToQuizCase=new zf([[Tg.Dijkstras,$g()],[Tg.GBFS,{gridBarriers:Fp(zm,Gm,()=>!1),gridWeights:Fp(zm,Gm,()=>1),startPos:{row:1,col:1},goalPos:{row:1,col:9}}],[Tg.Astar,Bg()]]),this.neighboursItemToImpl=new zf([[Eg.AllDirections,eg],[Eg.Diagonals,Km],[Eg.NonDiagonals,tg]]),this.gridWeights=$m(),this.gridBarriers=Bm(),this.animationFrames=[qm()],this.animationIndex=0,this.needToUpdateAnimationFrames=!0,this.startPos=Vm,this.goalPos=Wm,this.posToPlaceCustomWeightAt=null,this.isMouseDown=!1,this.tilePlaceItem=Ig.Barrier,this.userInteractionModeItem=kg.Visualise,this.mazeGenItem=Sg.Random,this.algoItem=Tg.BFS,this.neighboursItem=Eg.NonDiagonals,this.tileDisplayItem=Og.Weights,this.modalDisplayed=Pv.Tutorial,this.commentaryType=4,this.isAnimationRunning=!1}ngOnInit(){this.initialiseSaveNameListIfNotInLocalStorage(),this.loadSavedGridState("**Auto-Generated** Grid before app was last closed"),this.loadDropdownOptions(),this.updateAnimationFramesIfNeeded()}loadDropdownOptions(){const t=Np("pathfinding-options");null!==t&&(this.algoItem=t.algoItem,this.tileDisplayItem=t.tileDisplayItem,this.neighboursItem=t.neighboursItem,this.tilePlaceItem=t.tilePlaceItem,this.mazeGenItem=t.mazeGenItem,this.commentaryType=t.commentaryType,this.userInteractionModeItem=t.userInteractionModeItem)}updatePosToPlaceCustomWeightAt(t){this.posToPlaceCustomWeightAt=t}initialiseSaveNameListIfNotInLocalStorage(){Np("saveNames")||jp("saveNames",[])}updateAnimationFramesIfNeeded(){this.needToUpdateAnimationFrames&&(this.animationFrames=this.algoItemToImpl.get(this.algoItem)(this.startPos,this.goalPos,this.gridWeights,this.gridBarriers,this.neighboursItemToImpl.get(this.neighboursItem)),this.needToUpdateAnimationFrames=!1)}safeGetAnimationIndex(){return Rp(this.animationFrames,this.animationIndex)}getCurrentAnimationFrame(){return this.animationFrames[this.safeGetAnimationIndex()]}handleTileDrag(t,e){this.dragAndDropService.handleDrag(e,t,this.startPos,this.goalPos)}handleTileDrop(t){const e=this.dragAndDropService.getDraggedFromPos();this.canDropAtPos(t)&&null!==e&&this.updatePositionsFromDrop(e,t),this.toggleMouseDown()}handleTileClick(t){this.isInQuizMode()?this.handleUserGuess(t):this.placeAtTile(t)}handleUserGuess(t){Zm(t,this.getTileBeingExpanded())?this.handleCorrectGuess():this.commentaryType=0}handleCorrectGuess(){this.hasPathBeenFoundForNextAnimationFrame()?(this.setAnimationIndex(this.animationFrames.length-1),this.commentaryType=2):(this.setAnimationIndex(this.animationIndex+2),this.commentaryType=1)}hasPathBeenFoundForNextAnimationFrame(){return this.animationFrames[this.animationIndex+2].grid.some(t=>t.some(t=>2===t))}getTileBeingExpanded(){const t=this.animationFrames[this.animationIndex+1];for(let e=0;e<zm;e++)for(let n=0;n<Gm;n++)if(3===t.grid[e][n])return{row:e,col:n};throw new Error("No tile being expanded found")}placeAtTile(t){this.isStartPos(t)||this.isGoalPos(t)||this.isAnimationRunning||this.tilePlaceItemToImpl.get(this.tilePlaceItem).bind(this)(t)}generateMaze(){this.moveStartAndGoalPosToRandomPositions(),this.clearBarriersAndWeights(),this.placeMazeInGrid()}placeMazeInGrid(){const t=this.mazeGenItemToImpl.get(this.mazeGenItem)();this.gridPositions.forEach(e=>e.forEach(({row:e,col:n})=>{t[e][n]&&this.handleTileClick({row:e,col:n})}))}moveStartAndGoalPosToRandomPositions(){this.setStartPos({row:kp(0,zm/3),col:kp(0,Gm/3)}),this.setGoalPos({row:kp(2*zm/3,zm),col:kp(2*Gm/3,Gm)})}clearBarriersAndWeights(){this.setGridBarriers(Bm()),this.setGridWeights($m())}toggleBarrier({row:t,col:e}){const n=zp()(this.gridBarriers);n[t][e]=!n[t][e],this.setGridBarriers(n)}toggleRandomWeight({row:t,col:e}){this.placeWeightAt({row:t,col:e},1===this.gridWeights[t][e]?kp(2,30):1)}placeWeightAt({row:t,col:e},n){const i=zp()(this.gridWeights);i[t][e]=n,this.setTileDisplayItem(Og.Weights),this.setGridWeights(i)}placeCustomWeightAt(t,e){this.placeWeightAt(t,e),this.posToPlaceCustomWeightAt=null}isStartPos(t){return Zm(this.startPos,t)}isGoalPos(t){return Zm(this.goalPos,t)}isPosToPlaceCustomWeightAt(t){return null!==this.posToPlaceCustomWeightAt&&Zm(this.posToPlaceCustomWeightAt,t)}updatePositionsFromDrop(t,e){Zm(t,this.startPos)?this.setStartPos(e):this.setGoalPos(e)}canDropAtPos(t){return this.dragAndDropService.canDrop(t,this.gridBarriers,this.startPos,this.goalPos)}setTilePlaceItem(t){this.tilePlaceItem=t}setAlgoItem(t){this.algoItem=t,this.markAnimationFramesForUpdate(),this.isInQuizMode()&&this.setUpQuizModeForCurrentAlgoItem()}setTileDisplayItem(t){this.tileDisplayItem=t}setMazeGenItem(t){this.mazeGenItem=t}setNeighboursItem(t){this.neighboursItem=t,this.markAnimationFramesForUpdate()}setGridBarriers(t){this.gridBarriers=t,this.markAnimationFramesForUpdate()}setGridWeights(t){this.gridWeights=t,this.markAnimationFramesForUpdate()}setStartPos(t){this.isGoalPos(t)||(this.startPos=t,this.markAnimationFramesForUpdate())}setGoalPos(t){this.isStartPos(t)||(this.goalPos=t,this.markAnimationFramesForUpdate())}markAnimationFramesForUpdate(){this.needToUpdateAnimationFrames=!0,this.setAnimationIndex(0),this.setAnimationRunning(!1)}setAnimationRunning(t){this.isAnimationRunning=t}setAnimationIndex(t){this.animationIndex=t}getHeuristicDist(t){return hg(t,this.goalPos)}hideModal(){this.modalDisplayed=Pv.None}setModalDisplayed(t){this.modalDisplayed=t}setUserInteractionModeItem(t){this.userInteractionModeItem=t,this.isInQuizMode()?this.setUpQuizModeForCurrentAlgoItem():this.commentaryType=4}setUpQuizModeForCurrentAlgoItem(){this.isAlgoItemQuizzable()||(this.algoItem=Tg.Dijkstras),this.commentaryType=3,this.setUpQuizCase(),this.updateAnimationFramesIfNeeded()}isAlgoItemQuizzable(){return this.quizzableAlgoItems.map(t=>t.toString()).includes(this.algoItem.toString())}setUpQuizCase(){const t=this.algoItemToQuizCase.get(this.algoItem);this.setGridBarriers(t.gridBarriers),this.setGridWeights(t.gridWeights),this.updatePositionsFromDrop(this.startPos,t.startPos),this.updatePositionsFromDrop(this.goalPos,t.goalPos),this.setNeighboursItem(Eg.NonDiagonals),this.setTileDisplayItem(Og.Weights)}isInQuizMode(){return this.userInteractionModeItem===kg.Quiz}isPlacingCustomWeights(){return this.tilePlaceItem===Ig.CustomWeight}getCommentary(){switch(this.commentaryType){case 4:return this.getCurrentAnimationFrame().commentary;case 1:return"Correct!";case 2:return"All guesses correct! Try another algorithm";case 3:return"Click on the tile you think will be expanded next";default:return"Incorrect! Try again"}}saveCurrentGridState(t){jp(t+"startPos",this.startPos),jp(t+"goalPos",this.goalPos),jp(t+"gridWeights",this.gridWeights),jp(t+"gridBarriers",this.gridBarriers),this.addSaveNameToListOfSaveNames(t)}addSaveNameToListOfSaveNames(t){const e=Np("saveNames");e.unshift(t),jp("saveNames",Array.from(new Set(e)))}deleteSavedGridState(t){const e=Np("saveNames");Dp(e,t),jp("saveNames",e)}loadSavedGridState(t){const e=Np(t+"startPos"),n=Np(t+"goalPos"),i=Np(t+"gridBarriers"),r=Np(t+"gridWeights");e&&n&&i&&r&&(this.setStartPos(this.movePositionWithinBoundsOfGrid(e)),this.setGoalPos(this.movePositionWithinBoundsOfGrid(n)),this.setGridBarriers(this.adaptDimensionsToCurrGrid(i,!1)),this.setGridWeights(this.adaptDimensionsToCurrGrid(r,1)))}adaptDimensionsToCurrGrid(t,e){return t=this.padOutGridColumns(t,e),(t=(t=this.padOutGridRows(t,e)).slice(0,zm)).map(t=>t.slice(0,Gm))}padOutGridColumns(t,e){for(;t[0].length<Gm;)t=this.appendEmptyColumnToGrid(t,e);return t}padOutGridRows(t,e){for(;t.length<zm;)t=this.appendEmptyRowToGrid(t,e);return t}appendEmptyColumnToGrid(t,e){return t.map(t=>t.concat(e))}appendEmptyRowToGrid(t,e){const n=zp()(t),i=Fp(1,t[0].length,()=>e)[0];return n.push(i),n}movePositionWithinBoundsOfGrid(t){return{row:t.row>=zm?zm-1:t.row,col:t.col>=Gm?Gm-1:t.col}}saveDropdownOptions(){jp("pathfinding-options",{algoItem:this.algoItem,tileDisplayItem:this.tileDisplayItem,neighboursItem:this.neighboursItem,tilePlaceItem:this.tilePlaceItem,mazeGenItem:this.mazeGenItem,commentaryType:this.commentaryType,userInteractionModeItem:this.userInteractionModeItem})}toggleMouseDown(){this.isMouseDown=!this.isMouseDown}isDisplayingWeights(){return this.tileDisplayItem===Og.Weights}toggleMouseDownFromEvent(t){this.isMouseDown=1===t.buttons}saveAppStateBeforeClose(t){this.saveCurrentGridState("**Auto-Generated** Grid before app was last closed"),this.saveDropdownOptions(),t.preventDefault()}}return t.\u0275fac=function(e){return new(e||t)(No(rv))},t.\u0275cmp=Gt({type:t,selectors:[["app-page"]],hostBindings:function(t,e){1&t&&Wo("mousedown",function(t){return e.toggleMouseDownFromEvent(t)})("mouseup",function(t){return e.toggleMouseDownFromEvent(t)})("beforeunload",function(t){return e.saveAppStateBeforeClose(t)},!1,Ci)},decls:52,vars:42,consts:[[1,"page"],[1,"screen-wide-menu"],["commentary","The mode for how you interact with the tool. Visualisation mode is passive; it just displays the visualisation. Quiz mode simulates an algorithm on a specific grid and asks you to predict what it will do next. Note only some algorithms are available in Quiz mode.","label","Interaction Mode",3,"currentItem","items","itemChangedEmitter",4,"ngIf"],["commentary","The algorithm being visualised.","label","Algorithm",3,"currentItem","items","itemChangedEmitter"],["commentary","The type of information displayed on a tile. The three options for this contain the same information displayed when hovering over a tile.","label","Tile Info",3,"currentItem","items","itemChangedEmitter"],["commentary","When a tile adds its neighbours to the agenda, this setting will control what tiles are considered neighbours. For example, 'non diagonals only' only considers tiles above, below, left or right as neighbours.","label","Directions of neighbours added",3,"visibility","currentItem","items","itemChangedEmitter",4,"ngIf"],["commentary","Barriers block the algorithm from passing through completely while weights assign a cost to passing through that A* and Dijkstra's need to take into account to get the shortest path.","label","Item Placed On Tile",3,"currentItem","items","itemChangedEmitter"],["label","Maze Type",3,"currentItem","items","itemChangedEmitter"],[3,"isAnimationRunning","animationIndex","animationFrames","updateAnimationFramesIfNeeded","needToUpdateAnimationFrames","setAnimationRunningEmitter","setAnimationIndexEmitter"],[1,"grid-commentary-container"],[1,"commentary"],[1,"legend-container"],[4,"ngIf"],["cellspacing","0","cellpadding","0",1,"grid"],["class","row",4,"ngFor","ngForOf","ngForTrackBy"],["id","grid-buttons"],[3,"click"],[3,"visibility","click",4,"ngIf"],[3,"slides","hideEmitter",4,"ngIf"],[3,"newSaveEmitter","hideEmitter",4,"ngIf"],[3,"saveNames","loadSaveEmitter","deleteSaveEmitter","hideEmitter",4,"ngIf"],["commentary","The mode for how you interact with the tool. Visualisation mode is passive; it just displays the visualisation. Quiz mode simulates an algorithm on a specific grid and asks you to predict what it will do next. Note only some algorithms are available in Quiz mode.","label","Interaction Mode",3,"currentItem","items","itemChangedEmitter"],["commentary","When a tile adds its neighbours to the agenda, this setting will control what tiles are considered neighbours. For example, 'non diagonals only' only considers tiles above, below, left or right as neighbours.","label","Directions of neighbours added",3,"currentItem","items","itemChangedEmitter"],[1,"row"],[3,"isMouseDown","isStart","isGoal","isBarrier","weight","dist","heuristicDist","displayItem","willDisplayTooltipOnMouseOver","animationFrame","pos","isInQuizMode","shouldDisplayCustomWeightInput","dragEmitter","dropEmitter","clickEmitter","submitCustomWeightEmitter","closeCustomWeightInputEmitter",4,"ngFor","ngForOf","ngForTrackBy"],[3,"isMouseDown","isStart","isGoal","isBarrier","weight","dist","heuristicDist","displayItem","willDisplayTooltipOnMouseOver","animationFrame","pos","isInQuizMode","shouldDisplayCustomWeightInput","dragEmitter","dropEmitter","clickEmitter","submitCustomWeightEmitter","closeCustomWeightInputEmitter"],[3,"slides","hideEmitter"],[3,"newSaveEmitter","hideEmitter"],[3,"saveNames","loadSaveEmitter","deleteSaveEmitter","hideEmitter"]],template:function(t,e){1&t&&(Ho(0,"div",0),Ho(1,"div",1),Fo(2,vv,1,2,"app-dropdown",2),Ho(3,"app-dropdown",3),Wo("itemChangedEmitter",function(t){return e.setAlgoItem(t)}),Lo(),Ho(4,"app-dropdown",4),Wo("itemChangedEmitter",function(t){return e.setTileDisplayItem(t)}),Lo(),Fo(5,yv,1,4,"app-dropdown",5),Ho(6,"app-dropdown",6),Wo("itemChangedEmitter",function(t){return e.setTilePlaceItem(t)}),Lo(),Ho(7,"app-dropdown",7),Wo("itemChangedEmitter",function(t){return e.setMazeGenItem(t)}),Lo(),Lo(),Ho(8,"div",1),Ho(9,"app-animation",8),Wo("setAnimationRunningEmitter",function(t){return e.setAnimationRunning(t)})("setAnimationIndexEmitter",function(t){return e.setAnimationIndex(t)}),Lo(),Lo(),Ho(10,"div",9),Ho(11,"p",10),hs(12),Lo(),Ho(13,"div",1),Ho(14,"div",11),Ho(15,"p"),hs(16,"\ud83d\udfe6 Expanded"),Lo(),Ho(17,"p"),hs(18,"\ud83d\udfe5 In Agenda"),Lo(),Ho(19,"p"),hs(20,"\ud83d\udfe8 Final Path"),Lo(),Fo(21,wv,2,0,"p",12),Fo(22,bv,2,0,"p",12),Fo(23,_v,2,0,"p",12),Ho(24,"p"),hs(25,"\u21d2 Start tile"),Lo(),Ho(26,"p"),hs(27,"\ud83c\udfaf Goal tile"),Lo(),Ho(28,"p"),hs(29),Lo(),Ho(30,"p"),hs(31),Lo(),Ho(32,"p"),hs(33),Lo(),zo(34,"p"),Lo(),Ho(35,"div",13),Fo(36,Cv,2,2,"div",14),Lo(),Ho(37,"div",15),Ho(38,"button",16),Wo("click",function(){return e.generateMaze()}),hs(39," Generate Maze "),Lo(),Ho(40,"button",16),Wo("click",function(){return e.clearBarriersAndWeights()}),hs(41," Clear Barriers and Weights "),Lo(),Fo(42,Iv,2,2,"button",17),Fo(43,Sv,2,2,"button",17),Ho(44,"button",16),Wo("click",function(){return e.setModalDisplayed(e.Modal.Tutorial)}),hs(45,"Tutorial"),Lo(),Ho(46,"button",16),Wo("click",function(){return e.setModalDisplayed(e.Modal.Theory)}),hs(47,"Theory"),Lo(),Lo(),Lo(),Lo(),Lo(),Fo(48,kv,1,1,"app-tutorial-modal",18),Fo(49,Tv,1,1,"app-theory-modal",18),Fo(50,Av,1,0,"app-save-grid-modal",19),Fo(51,Ev,1,1,"app-load-saved-grid-modal",20)),2&t&&(ts("opacity",e.modalDisplayed===e.Modal.None?"1":"0.1"),lr(2),jo("ngIf",e.isWidthGreaterThan(1e3)),lr(1),jo("currentItem",e.algoItem)("items",e.isInQuizMode()?e.quizzableAlgoItems:e.algoItems),lr(1),jo("currentItem",e.tileDisplayItem)("items",e.tileDisplayItems),lr(1),jo("ngIf",e.isWidthGreaterThan(1e3)),lr(1),ts("visibility",e.isInQuizMode()?"hidden":"visible"),jo("currentItem",e.tilePlaceItem)("items",e.tilePlaceItems),lr(1),ts("visibility",e.isInQuizMode()||e.isPlacingCustomWeights()?"hidden":"visible"),jo("currentItem",e.mazeGenItem)("items",e.mazeGenItems),lr(2),ts("visibility",e.isInQuizMode()?"hidden":"visible"),jo("isAnimationRunning",e.isAnimationRunning)("animationIndex",e.animationIndex)("animationFrames",e.animationFrames)("updateAnimationFramesIfNeeded",e.updateAnimationFramesIfNeeded.bind(e))("needToUpdateAnimationFrames",e.needToUpdateAnimationFrames),lr(3),ds(e.getCommentary()),lr(9),jo("ngIf",e.isHeightGreaterThan(500)),lr(1),jo("ngIf",e.isHeightGreaterThan(500)),lr(1),jo("ngIf",e.isDisplayingWeights()),lr(6),ps(" Expanded: ",e.getCurrentAnimationFrame().numberOfTilesExpanded," "),lr(2),ps(" Visited: ",e.getCurrentAnimationFrame().numberOfTilesVisited," "),lr(2),ps(" Path Length: ",0===e.getCurrentAnimationFrame().pathLength?"N/A":e.getCurrentAnimationFrame().pathLength," "),lr(3),jo("ngForOf",e.gridPositions)("ngForTrackBy",e.trackByRow),lr(2),ts("visibility",e.isInQuizMode()||e.isPlacingCustomWeights()?"hidden":"visible"),lr(2),ts("visibility",e.isInQuizMode()?"hidden":"visible"),lr(2),jo("ngIf",e.isWidthGreaterThan(1e3)),lr(1),jo("ngIf",e.isWidthGreaterThan(1e3)),lr(5),jo("ngIf",e.modalDisplayed===e.Modal.Tutorial),lr(1),jo("ngIf",e.modalDisplayed===e.Modal.Theory),lr(1),jo("ngIf",e.modalDisplayed===e.Modal.SaveGrid),lr(1),jo("ngIf",e.modalDisplayed===e.Modal.LoadGrid))},directives:[tu,mf,vf,Jl,hv,Gg,ev,dv,mv],styles:["#bottom-menu[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]{margin-top:3vh}.grid-commentary-container[_ngcontent-%COMP%]{display:flex;justify-content:space-around;align-items:center;flex-direction:column}.legend-container[_ngcontent-%COMP%]{width:200px}.legend-container[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{font-size:16px;margin-top:1vh;margin-bottom:1vh}@media screen and (max-width:1200px){.legend-container[_ngcontent-%COMP%]{width:150px}.legend-container[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{font-size:12px}}#grid-buttons[_ngcontent-%COMP%]{display:flex;justify-content:space-around;flex-direction:column}.commentary[_ngcontent-%COMP%]{font-size:16px;width:100vw;text-align:center}"],changeDetection:0}),t})();var Pv=function(t){return t[t.Tutorial=0]="Tutorial",t[t.Theory=1]="Theory",t[t.SaveGrid=2]="SaveGrid",t[t.LoadGrid=3]="LoadGrid",t[t.None=4]="None",t}({});const Mv=[{path:"pathfinding",component:Ov},{path:"",redirectTo:"/pathfinding",pathMatch:"full"}];let Dv=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Bt({type:t}),t.\u0275inj=ht({imports:[[pp.forChild(Mv)],pp]}),t})(),Fv=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Bt({type:t}),t.\u0275inj=ht({imports:[[iu,Ru,Dv,Hf]]}),t})(),Rv=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Bt({type:t,bootstrap:[Cp]}),t.\u0275inj=ht({providers:[],imports:[[Fv,Nm,Lf,xp,pp]]}),t})();(function(){if(hl)throw new Error("Cannot enable prod mode after platform setup.");cl=!1})(),Du().bootstrapModule(Rv).catch(t=>console.error(t))},zn8P:function(t,e){function n(t){return Promise.resolve().then(function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e})}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id="zn8P"}},[[0,0]]]);